{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"F5 Distributed Cloud Status MCP Server","text":"<p>A Model Context Protocol (MCP) server for monitoring F5 Cloud service status, providing real-time status information, component health, incidents, and scheduled maintenance.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Real-time Status Monitoring: Get current operational status of F5 Cloud services</li> <li>Component Tracking: Monitor 148+ individual service components across multiple categories</li> <li>Incident Management: Track active and historical incidents with detailed updates</li> <li>Maintenance Windows: Access scheduled, active, and upcoming maintenance information</li> <li>Dual Data Sources: API-first with automatic web scraper fallback for reliability</li> <li>Intelligent Caching: TTL-based caching with configurable durations per data type</li> <li>Comprehensive Search: Search across components, incidents, and maintenance by keyword</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Install via npx:</p> <pre><code>npx @robinmordasiewicz/f5xc-cloudstatus-mcp@latest\n</code></pre> <p>Or add to your Claude Desktop configuration:</p> <pre><code>{\n  \"mcpServers\": {\n    \"f5xc-cloudstatus\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@robinmordasiewicz/f5xc-cloudstatus-mcp@latest\"]\n    }\n  }\n}\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Quick Start Guide - Get started in 5 minutes</li> <li>User Guide - Comprehensive usage documentation</li> <li>Usage Examples - Real-world usage scenarios</li> <li>Developer Guide - Development setup and workflows</li> <li>Architecture - System design and architecture</li> </ul>"},{"location":"#available-tools","title":"Available Tools","text":"<p>The server provides six MCP tools for interacting with F5 Cloud status:</p> <ol> <li><code>f5-status-get-overall</code> - Get the current overall status of F5 Cloud services</li> <li><code>f5-status-get-components</code> - Get all service components with current status</li> <li><code>f5-status-get-component</code> - Get detailed information about a specific component</li> <li><code>f5-status-get-incidents</code> - Get current and recent incidents</li> <li><code>f5-status-get-maintenance</code> - Get scheduled maintenance windows</li> <li><code>f5-status-search</code> - Search for components, incidents, or maintenance by keyword</li> </ol>"},{"location":"#installation-options","title":"Installation Options","text":""},{"location":"#claude-desktop","title":"Claude Desktop","text":"<ol> <li>Locate your configuration file:</li> <li>macOS: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li> <li>Windows: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code></li> <li> <p>Linux: <code>~/.config/Claude/claude_desktop_config.json</code></p> </li> <li> <p>Add the configuration (see above)</p> </li> <li> <p>Restart Claude Desktop</p> </li> <li> <p>Verify: Look for the \ud83d\udd0c MCP icon showing \"f5xc-cloudstatus\" connected</p> </li> </ol>"},{"location":"#claude-code","title":"Claude Code","text":"<pre><code>claude mcp add f5xc-cloudstatus npx @robinmordasiewicz/f5xc-cloudstatus-mcp@latest\n</code></pre>"},{"location":"#other-clients","title":"Other Clients","text":"<p>See the Quick Start Guide for VS Code, Cursor, Windsurf, and Cline installation instructions.</p>"},{"location":"#development","title":"Development","text":"<p>This project uses fully automated CI/CD with version bumping. See CI/CD documentation for details.</p>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub Repository</li> <li>NPM Package</li> <li>GitHub Package</li> <li>Issues</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT - See LICENSE file for details</p>"},{"location":"ANALYSIS/","title":"F5 Cloud Status - Website Analysis &amp; MCP Server Design","text":""},{"location":"ANALYSIS/#executive-summary","title":"Executive Summary","text":"<p>This document analyzes the F5 Cloud Status website (https://www.f5cloudstatus.com) and proposes an MCP (Model Context Protocol) server design for programmatic access to service status information.</p>"},{"location":"ANALYSIS/#website-structure-analysis","title":"Website Structure Analysis","text":""},{"location":"ANALYSIS/#1-overall-status","title":"1. Overall Status","text":"<ul> <li>Location: Top-level heading</li> <li>Data: \"All Systems Operational\" or degraded status</li> <li>Format: Plain text status indicator</li> <li>Purpose: Quick glance at overall system health</li> </ul>"},{"location":"ANALYSIS/#2-component-hierarchy","title":"2. Component Hierarchy","text":"<p>The website organizes services into a hierarchical structure with 148 total components:</p>"},{"location":"ANALYSIS/#top-level-service-categories","title":"Top-Level Service Categories","text":"<ol> <li>Services (22ynq9vg49qm)</li> <li>Core F5 Distributed Cloud services</li> <li> <p>Includes: Portal, Dashboard, App Stack, Secure Mesh, Bot Defense, Client Side Defense, DNS, CDN, Account Protection, NGINX One, etc.</p> </li> <li> <p>Customer Support, Docs and WebSite (fr9kjt2hgjkn)</p> </li> <li>Website</li> <li>Customer Support</li> <li>Software Distribution</li> <li> <p>Product Documentation</p> </li> <li> <p>FedRAMP (wmm4t37ybgr7)</p> </li> <li> <p>FedRAMP-DNS</p> </li> <li> <p>Regional PoPs (Points of Presence)</p> </li> <li>North America PoPs</li> <li>South America PoPs</li> <li>Europe PoPs</li> <li>Asia PoPs</li> <li>Oceania PoPs</li> <li> <p>Middle East PoPs</p> </li> <li> <p>Legacy Services</p> </li> <li>Silverline - Legacy</li> <li> <p>Bot and Risk Mgt - Legacy</p> </li> <li> <p>Internal Testing ([F5 Internal Under Testing])</p> </li> </ol>"},{"location":"ANALYSIS/#3-component-data-structure","title":"3. Component Data Structure","text":"<p>Each component contains:</p> <pre><code>{\n  \"id\": \"unique-component-id\",\n  \"name\": \"Human-readable service name\",\n  \"status\": \"Operational | Degraded | Down\",\n  \"uptime\": \"99.97 % uptime\" // Optional, only for some components\n}\n</code></pre> <p>Key Findings: - 148 total tracked components - Each has a unique <code>data-component-id</code> attribute - Status values observed: \"Operational\" - Uptime percentages available for major service groups - Geographic organization (North America, Europe, Asia, South America, Oceania, Middle East)</p>"},{"location":"ANALYSIS/#4-scheduled-maintenance","title":"4. Scheduled Maintenance","text":"<p>Structure: <pre><code>{\n  \"title\": \"Maintenance description with date/time\",\n  \"link\": \"URL to detailed incident page\",\n  \"startTime\": \"ISO 8601 timestamp\",\n  \"endTime\": \"ISO 8601 timestamp\",\n  \"referenceId\": \"Internal tracking ID\",\n  \"impact\": \"Description of expected impact\"\n}\n</code></pre></p> <p>Current Example: - F5 Planned Maintenance for CDN Services Global Controller - Oct 17, 2025 05:30-10:30 UTC - Reference ID: SDCCAB-1650</p>"},{"location":"ANALYSIS/#5-past-incidents","title":"5. Past Incidents","text":"<p>Structure: - Organized by date (descending) - Each day shows either \"No incidents\" or list of incidents - Incidents include:   - Title   - Link to detailed incident page   - Timeline of updates with status progression:     - Investigating \u2192 Identified \u2192 Update \u2192 Monitoring \u2192 Resolved</p> <p>Incident Status Progression: 1. Investigating: Initial problem detection 2. Identified: Root cause found 3. Update: Ongoing progress updates 4. Monitoring: Fix applied, watching for stability 5. Resolved: Issue fully resolved</p>"},{"location":"ANALYSIS/#6-uptime-visualization","title":"6. Uptime Visualization","text":"<ul> <li>Format: SVG graph with tabs representing days</li> <li>Time Range: 60 days</li> <li>Data Points: Each tab represents 1 day</li> <li>Visual Indicator: Color-coded status bars</li> <li>Percentage: Overall uptime percentage displayed</li> </ul>"},{"location":"ANALYSIS/#data-extraction-strategy","title":"Data Extraction Strategy","text":""},{"location":"ANALYSIS/#htmldom-selectors","title":"HTML/DOM Selectors","text":"<pre><code>// Overall Status\ndocument.querySelector('h2').textContent\n\n// Components\ndocument.querySelectorAll('[data-component-id]')\n// Each component:\n//   - comp.getAttribute('data-component-id')\n//   - comp.querySelector('.name').textContent\n//   - comp.querySelector('.component-status').textContent\n//   - comp.querySelector('.uptime-percent')?.textContent\n\n// Scheduled Maintenance\ndocument.querySelector('.scheduled-maintenance')\n//   - .querySelectorAll('.incident-title')\n\n// Past Incidents\ndocument.querySelectorAll('.incident-day')\n//   - day.querySelector('.date').textContent\n//   - day.querySelectorAll('.incident-title')\n</code></pre>"},{"location":"ANALYSIS/#apibackend-discovery","title":"API/Backend Discovery","text":"<p>Platform: Atlassian Statuspage - Footer indicates \"Powered by Atlassian Statuspage\" - Likely has public API endpoints - Standard Statuspage API pattern: <code>https://www.f5cloudstatus.com/api/v2/</code></p> <p>Potential API Endpoints: <pre><code>GET /api/v2/status.json              # Overall status\nGET /api/v2/components.json          # All components\nGET /api/v2/incidents.json           # Recent incidents\nGET /api/v2/scheduled-maintenances.json  # Scheduled maintenance\nGET /api/v2/summary.json             # Summary data\n</code></pre></p>"},{"location":"ANALYSIS/#mcp-server-design","title":"MCP Server Design","text":""},{"location":"ANALYSIS/#tool-specification","title":"Tool Specification","text":""},{"location":"ANALYSIS/#1-f5-status-get-overall","title":"1. <code>f5-status-get-overall</code>","text":"<p>Purpose: Get overall system status Parameters: None Returns: <pre><code>{\n  status: \"operational\" | \"degraded\" | \"partial_outage\" | \"major_outage\",\n  indicator: \"none\" | \"minor\" | \"major\" | \"critical\",\n  description: string,\n  updated_at: string\n}\n</code></pre></p>"},{"location":"ANALYSIS/#2-f5-status-list-components","title":"2. <code>f5-status-list-components</code>","text":"<p>Purpose: List all service components with current status Parameters: <pre><code>{\n  category?: string,  // Filter by category (optional)\n  status?: string,    // Filter by status (optional)\n  includeUptime?: boolean  // Include uptime percentage\n}\n</code></pre> Returns: <pre><code>{\n  components: Array&lt;{\n    id: string,\n    name: string,\n    status: string,\n    group: string,\n    uptime?: string\n  }&gt;\n}\n</code></pre></p>"},{"location":"ANALYSIS/#3-f5-status-get-component","title":"3. <code>f5-status-get-component</code>","text":"<p>Purpose: Get detailed status for a specific component Parameters: <pre><code>{\n  componentId: string  // Component ID or name\n}\n</code></pre> Returns: <pre><code>{\n  id: string,\n  name: string,\n  status: string,\n  group: string,\n  uptime: string,\n  description: string,\n  updated_at: string\n}\n</code></pre></p>"},{"location":"ANALYSIS/#4-f5-status-list-incidents","title":"4. <code>f5-status-list-incidents</code>","text":"<p>Purpose: List recent incidents Parameters: <pre><code>{\n  limit?: number,      // Number of incidents to return\n  status?: string,     // Filter by status\n  daysBack?: number    // How many days to look back\n}\n</code></pre> Returns: <pre><code>{\n  incidents: Array&lt;{\n    id: string,\n    name: string,\n    status: string,\n    impact: string,\n    created_at: string,\n    updated_at: string,\n    shortlink: string,\n    updates: Array&lt;{\n      status: string,\n      body: string,\n      created_at: string\n    }&gt;\n  }&gt;\n}\n</code></pre></p>"},{"location":"ANALYSIS/#5-f5-status-get-scheduled-maintenance","title":"5. <code>f5-status-get-scheduled-maintenance</code>","text":"<p>Purpose: Get upcoming scheduled maintenance windows Parameters: <pre><code>{\n  upcoming?: boolean  // Only future maintenance\n}\n</code></pre> Returns: <pre><code>{\n  maintenance: Array&lt;{\n    id: string,\n    name: string,\n    scheduled_for: string,\n    scheduled_until: string,\n    status: string,\n    impact: string,\n    components: string[],\n    updates: Array&lt;{\n      status: string,\n      body: string,\n      created_at: string\n    }&gt;\n  }&gt;\n}\n</code></pre></p>"},{"location":"ANALYSIS/#6-f5-status-get-uptime","title":"6. <code>f5-status-get-uptime</code>","text":"<p>Purpose: Get uptime statistics Parameters: <pre><code>{\n  componentId?: string,  // Specific component (optional)\n  range?: number         // Days to include (default: 60)\n}\n</code></pre> Returns: <pre><code>{\n  uptime: {\n    percentage: number,\n    startDate: string,\n    endDate: string,\n    dailyStats: Array&lt;{\n      date: string,\n      uptime: number,\n      incidents: number\n    }&gt;\n  }\n}\n</code></pre></p>"},{"location":"ANALYSIS/#implementation-strategy","title":"Implementation Strategy","text":""},{"location":"ANALYSIS/#phase-1-web-scraping-approach","title":"Phase 1: Web Scraping Approach","text":"<pre><code>// Use Playwright for reliable data extraction\nimport { chromium } from 'playwright';\n\nasync function extractStatusData(url: string) {\n  const browser = await chromium.launch();\n  const page = await browser.newPage();\n  await page.goto(url);\n\n  // Extract data using the selectors identified above\n  const data = await page.evaluate(() =&gt; {\n    // DOM extraction logic\n  });\n\n  await browser.close();\n  return data;\n}\n</code></pre>"},{"location":"ANALYSIS/#phase-2-api-integration-preferred","title":"Phase 2: API Integration (Preferred)","text":"<pre><code>// Use Statuspage API if available\nconst API_BASE = 'https://www.f5cloudstatus.com/api/v2';\n\nasync function fetchStatus() {\n  const response = await fetch(`${API_BASE}/status.json`);\n  return await response.json();\n}\n</code></pre>"},{"location":"ANALYSIS/#phase-3-mcp-server-implementation","title":"Phase 3: MCP Server Implementation","text":"<pre><code>import { Server } from '@modelcontextprotocol/sdk/server/index.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\n\nconst server = new Server({\n  name: \"f5xc-cloudstatus\",\n  version: \"1.0.0\"\n}, {\n  capabilities: {\n    tools: {}\n  }\n});\n\n// Register tools\nserver.setRequestHandler(ListToolsRequestSchema, async () =&gt; ({\n  tools: [\n    {\n      name: \"f5-status-get-overall\",\n      description: \"Get overall F5 Cloud service status\",\n      inputSchema: { type: \"object\", properties: {} }\n    },\n    // ... other tools\n  ]\n}));\n\nserver.setRequestHandler(CallToolRequestSchema, async (request) =&gt; {\n  // Tool implementation\n});\n</code></pre>"},{"location":"ANALYSIS/#data-refresh-strategy","title":"Data Refresh Strategy","text":"<p>Caching: - Overall status: Cache for 30 seconds - Component list: Cache for 60 seconds - Incidents: Cache for 120 seconds - Scheduled maintenance: Cache for 300 seconds</p> <p>Update Mechanism: <pre><code>class StatusCache {\n  private cache = new Map&lt;string, { data: any, expiry: number }&gt;();\n\n  async get(key: string, ttl: number, fetcher: () =&gt; Promise&lt;any&gt;) {\n    const cached = this.cache.get(key);\n    if (cached &amp;&amp; cached.expiry &gt; Date.now()) {\n      return cached.data;\n    }\n\n    const data = await fetcher();\n    this.cache.set(key, { data, expiry: Date.now() + ttl });\n    return data;\n  }\n}\n</code></pre></p>"},{"location":"ANALYSIS/#key-observations","title":"Key Observations","text":""},{"location":"ANALYSIS/#component-organization","title":"Component Organization","text":"<ol> <li>Hierarchical Structure: Services are organized in parent-child relationships</li> <li>Geographic Distribution: PoPs (Points of Presence) organized by continent</li> <li>Service Categories: Clear separation between production, legacy, and internal testing</li> <li>148 Components Total: Comprehensive coverage of all F5 cloud services</li> </ol>"},{"location":"ANALYSIS/#status-information-quality","title":"Status Information Quality","text":"<ol> <li>Real-time Status: Current operational state</li> <li>Historical Uptime: 60-day uptime percentages</li> <li>Incident Timeline: Detailed progression of issue resolution</li> <li>Maintenance Windows: Advance notice with impact assessment</li> </ol>"},{"location":"ANALYSIS/#user-experience-patterns","title":"User Experience Patterns","text":"<ol> <li>Collapsible Sections: Reduces visual clutter</li> <li>Color Coding: Quick visual status identification</li> <li>Uptime Graphs: Visual representation of service reliability</li> <li>Detailed Incident Reports: Transparency in issue communication</li> </ol>"},{"location":"ANALYSIS/#recommended-mcp-tool-priority","title":"Recommended MCP Tool Priority","text":""},{"location":"ANALYSIS/#high-priority-mvp","title":"High Priority (MVP)","text":"<ol> <li><code>f5-status-get-overall</code> - Essential for quick health check</li> <li><code>f5-status-list-components</code> - Core functionality</li> <li><code>f5-status-list-incidents</code> - Critical for awareness</li> </ol>"},{"location":"ANALYSIS/#medium-priority","title":"Medium Priority","text":"<ol> <li><code>f5-status-get-scheduled-maintenance</code> - Important for planning</li> <li><code>f5-status-get-component</code> - Detailed investigation</li> </ol>"},{"location":"ANALYSIS/#low-priority-nice-to-have","title":"Low Priority (Nice to Have)","text":"<ol> <li><code>f5-status-get-uptime</code> - Historical analysis</li> </ol>"},{"location":"ANALYSIS/#next-steps","title":"Next Steps","text":"<ol> <li>Verify API Availability: Test Statuspage API endpoints</li> <li>Implement Core Tools: Build MVP with 3 high-priority tools</li> <li>Add Caching Layer: Implement efficient data refresh</li> <li>Error Handling: Handle network failures, rate limiting</li> <li>Testing: Comprehensive test suite with different status scenarios</li> <li>Documentation: User guide and API reference</li> </ol>"},{"location":"ANALYSIS/#technical-considerations","title":"Technical Considerations","text":""},{"location":"ANALYSIS/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>Implement exponential backoff</li> <li>Respect HTTP 429 responses</li> <li>Cache aggressively to minimize requests</li> </ul>"},{"location":"ANALYSIS/#error-scenarios","title":"Error Scenarios","text":"<ul> <li>Network failures</li> <li>API unavailable</li> <li>Malformed data</li> <li>Component not found</li> </ul>"},{"location":"ANALYSIS/#security","title":"Security","text":"<ul> <li>No authentication required (public data)</li> <li>HTTPS only</li> <li>Validate all external data</li> <li>Sanitize strings before display</li> </ul>"},{"location":"ANALYSIS/#performance","title":"Performance","text":"<ul> <li>Parallel requests for multiple components</li> <li>Batch operations where possible</li> <li>Stream large data sets</li> <li>Efficient JSON parsing</li> </ul>"},{"location":"ARCHITECTURE/","title":"F5 Status MCP Server - Architecture Design","text":""},{"location":"ARCHITECTURE/#system-overview","title":"System Overview","text":"<p>The F5 Status MCP Server is a Model Context Protocol (MCP) server that provides programmatic access to F5 Cloud service status information from https://www.f5cloudstatus.com.</p>"},{"location":"ARCHITECTURE/#design-goals","title":"Design Goals","text":"<ol> <li>Reliability: Robust data fetching with fallback mechanisms</li> <li>Performance: Efficient caching and minimal API calls</li> <li>Simplicity: Clean interfaces following MCP standards</li> <li>Maintainability: Modular design with clear separation of concerns</li> <li>Extensibility: Easy to add new tools and data sources</li> </ol>"},{"location":"ARCHITECTURE/#high-level-architecture","title":"High-Level Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        MCP Client (Claude Desktop)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502 MCP Protocol (stdio)\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     F5 Status MCP Server                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              MCP Server Layer                             \u2502  \u2502\n\u2502  \u2502  - Tool Registration                                      \u2502  \u2502\n\u2502  \u2502  - Request Handling                                       \u2502  \u2502\n\u2502  \u2502  - Response Formatting                                    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                     \u2502                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              Business Logic Layer                         \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502  \u2502\n\u2502  \u2502  \u2502  Status    \u2502  \u2502 Component  \u2502  \u2502    Incident     \u2502    \u2502  \u2502\n\u2502  \u2502  \u2502  Service   \u2502  \u2502  Service   \u2502  \u2502    Service      \u2502    \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                     \u2502                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              Data Access Layer                            \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502\n\u2502  \u2502  \u2502   API Client         \u2502  \u2502   Web Scraper            \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502   (Primary)          \u2502  \u2502   (Fallback)             \u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                     \u2502                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              Caching Layer                                \u2502  \u2502\n\u2502  \u2502  - In-Memory Cache with TTL                               \u2502  \u2502\n\u2502  \u2502  - Configurable Expiry Times                              \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u2502 HTTPS\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  F5 Cloud Status Website                         \u2502\n\u2502  - Statuspage API (https://www.f5cloudstatus.com/api/v2/)      \u2502\n\u2502  - HTML Frontend (https://www.f5cloudstatus.com/)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ARCHITECTURE/#component-architecture","title":"Component Architecture","text":""},{"location":"ARCHITECTURE/#1-mcp-server-layer","title":"1. MCP Server Layer","text":"<p>Responsibility: Handle MCP protocol communication</p> <p>Components: - <code>MCPServer</code>: Main server instance - <code>ToolRegistry</code>: Register and manage available tools - <code>RequestHandler</code>: Process incoming MCP requests - <code>ResponseFormatter</code>: Format responses according to MCP spec</p> <p>Key Files: <pre><code>src/server/\n\u251c\u2500\u2500 index.ts              # Server entry point\n\u251c\u2500\u2500 tool-registry.ts      # Tool registration and discovery\n\u251c\u2500\u2500 request-handler.ts    # MCP request processing\n\u2514\u2500\u2500 response-formatter.ts # Response formatting utilities\n</code></pre></p> <p>Interface: <pre><code>interface MCPServerConfig {\n  name: string;\n  version: string;\n  capabilities: {\n    tools: boolean;\n    resources?: boolean;\n    prompts?: boolean;\n  };\n}\n\nclass MCPServer {\n  constructor(config: MCPServerConfig);\n  registerTools(tools: Tool[]): void;\n  start(): Promise&lt;void&gt;;\n  stop(): Promise&lt;void&gt;;\n}\n</code></pre></p>"},{"location":"ARCHITECTURE/#2-business-logic-layer","title":"2. Business Logic Layer","text":"<p>Responsibility: Implement core business functionality</p>"},{"location":"ARCHITECTURE/#21-statusservice","title":"2.1 StatusService","text":"<p>Purpose: Overall system status operations</p> <p>Operations: - <code>getOverallStatus()</code>: Fetch current overall status - <code>getSystemIndicator()</code>: Get status indicator level</p> <p>File: <code>src/services/status-service.ts</code></p> <pre><code>interface OverallStatus {\n  status: StatusLevel;\n  indicator: IndicatorLevel;\n  description: string;\n  updated_at: string;\n}\n\ntype StatusLevel = \"operational\" | \"degraded\" | \"partial_outage\" | \"major_outage\";\ntype IndicatorLevel = \"none\" | \"minor\" | \"major\" | \"critical\";\n\nclass StatusService {\n  constructor(\n    private dataAccess: DataAccessLayer,\n    private cache: CacheService\n  ) {}\n\n  async getOverallStatus(): Promise&lt;OverallStatus&gt;;\n}\n</code></pre>"},{"location":"ARCHITECTURE/#22-componentservice","title":"2.2 ComponentService","text":"<p>Purpose: Component-level status operations</p> <p>Operations: - <code>listComponents(filters?)</code>: List all or filtered components - <code>getComponent(id)</code>: Get specific component details - <code>getComponentUptime(id, range?)</code>: Get uptime statistics</p> <p>File: <code>src/services/component-service.ts</code></p> <pre><code>interface Component {\n  id: string;\n  name: string;\n  status: string;\n  group: string;\n  uptime?: string;\n  description?: string;\n  updated_at: string;\n}\n\ninterface ComponentFilters {\n  category?: string;\n  status?: string;\n  includeUptime?: boolean;\n}\n\nclass ComponentService {\n  constructor(\n    private dataAccess: DataAccessLayer,\n    private cache: CacheService\n  ) {}\n\n  async listComponents(filters?: ComponentFilters): Promise&lt;Component[]&gt;;\n  async getComponent(id: string): Promise&lt;Component&gt;;\n  async getComponentUptime(id: string, range?: number): Promise&lt;UptimeData&gt;;\n}\n</code></pre>"},{"location":"ARCHITECTURE/#23-incidentservice","title":"2.3 IncidentService","text":"<p>Purpose: Incident and maintenance operations</p> <p>Operations: - <code>listIncidents(options?)</code>: List recent incidents - <code>getIncident(id)</code>: Get specific incident details - <code>getScheduledMaintenance(upcoming?)</code>: Get maintenance windows</p> <p>File: <code>src/services/incident-service.ts</code></p> <pre><code>interface Incident {\n  id: string;\n  name: string;\n  status: string;\n  impact: string;\n  created_at: string;\n  updated_at: string;\n  shortlink: string;\n  updates: IncidentUpdate[];\n}\n\ninterface IncidentUpdate {\n  status: string;\n  body: string;\n  created_at: string;\n}\n\ninterface IncidentOptions {\n  limit?: number;\n  status?: string;\n  daysBack?: number;\n}\n\nclass IncidentService {\n  constructor(\n    private dataAccess: DataAccessLayer,\n    private cache: CacheService\n  ) {}\n\n  async listIncidents(options?: IncidentOptions): Promise&lt;Incident[]&gt;;\n  async getIncident(id: string): Promise&lt;Incident&gt;;\n  async getScheduledMaintenance(upcoming?: boolean): Promise&lt;Maintenance[]&gt;;\n}\n</code></pre>"},{"location":"ARCHITECTURE/#3-data-access-layer","title":"3. Data Access Layer","text":"<p>Responsibility: Fetch data from external sources</p>"},{"location":"ARCHITECTURE/#31-api-client-primary","title":"3.1 API Client (Primary)","text":"<p>Purpose: Interact with Statuspage API</p> <p>File: <code>src/data-access/api-client.ts</code></p> <pre><code>interface APIClientConfig {\n  baseUrl: string;\n  timeout: number;\n  retryAttempts: number;\n  retryDelay: number;\n}\n\nclass APIClient {\n  constructor(config: APIClientConfig);\n\n  async fetchStatus(): Promise&lt;RawStatusData&gt;;\n  async fetchComponents(): Promise&lt;RawComponent[]&gt;;\n  async fetchIncidents(): Promise&lt;RawIncident[]&gt;;\n  async fetchScheduledMaintenance(): Promise&lt;RawMaintenance[]&gt;;\n  async fetchSummary(): Promise&lt;RawSummary&gt;;\n\n  private async request&lt;T&gt;(endpoint: string): Promise&lt;T&gt;;\n  private async retry&lt;T&gt;(fn: () =&gt; Promise&lt;T&gt;, attempts: number): Promise&lt;T&gt;;\n}\n</code></pre>"},{"location":"ARCHITECTURE/#32-web-scraper-fallback","title":"3.2 Web Scraper (Fallback)","text":"<p>Purpose: Extract data from HTML when API unavailable</p> <p>File: <code>src/data-access/web-scraper.ts</code></p> <pre><code>interface ScraperConfig {\n  baseUrl: string;\n  timeout: number;\n  headless: boolean;\n}\n\nclass WebScraper {\n  constructor(config: ScraperConfig);\n\n  async scrapeStatus(): Promise&lt;RawStatusData&gt;;\n  async scrapeComponents(): Promise&lt;RawComponent[]&gt;;\n  async scrapeIncidents(): Promise&lt;RawIncident[]&gt;;\n\n  private async launchBrowser(): Promise&lt;Browser&gt;;\n  private async extractData(page: Page, selectors: Selectors): Promise&lt;any&gt;;\n}\n</code></pre>"},{"location":"ARCHITECTURE/#33-data-access-facade","title":"3.3 Data Access Facade","text":"<p>Purpose: Abstract data source selection</p> <p>File: <code>src/data-access/index.ts</code></p> <pre><code>class DataAccessLayer {\n  constructor(\n    private apiClient: APIClient,\n    private webScraper: WebScraper,\n    private preferAPI: boolean = true\n  ) {}\n\n  async fetchStatus(): Promise&lt;RawStatusData&gt; {\n    try {\n      if (this.preferAPI) {\n        return await this.apiClient.fetchStatus();\n      }\n    } catch (error) {\n      console.warn('API failed, falling back to scraper');\n    }\n    return await this.webScraper.scrapeStatus();\n  }\n\n  // Similar methods for other data types\n}\n</code></pre>"},{"location":"ARCHITECTURE/#4-caching-layer","title":"4. Caching Layer","text":"<p>Responsibility: Reduce external API calls and improve performance</p> <p>File: <code>src/cache/cache-service.ts</code></p> <pre><code>interface CacheConfig {\n  ttl: {\n    status: number;        // 30 seconds\n    components: number;    // 60 seconds\n    incidents: number;     // 120 seconds\n    maintenance: number;   // 300 seconds\n  };\n}\n\ninterface CacheEntry&lt;T&gt; {\n  data: T;\n  expiry: number;\n}\n\nclass CacheService {\n  private cache = new Map&lt;string, CacheEntry&lt;any&gt;&gt;();\n\n  constructor(private config: CacheConfig) {}\n\n  async get&lt;T&gt;(\n    key: string,\n    ttl: number,\n    fetcher: () =&gt; Promise&lt;T&gt;\n  ): Promise&lt;T&gt; {\n    const cached = this.cache.get(key);\n\n    if (cached &amp;&amp; cached.expiry &gt; Date.now()) {\n      return cached.data;\n    }\n\n    const data = await fetcher();\n    this.cache.set(key, {\n      data,\n      expiry: Date.now() + ttl\n    });\n\n    return data;\n  }\n\n  invalidate(key: string): void {\n    this.cache.delete(key);\n  }\n\n  clear(): void {\n    this.cache.clear();\n  }\n}\n</code></pre>"},{"location":"ARCHITECTURE/#mcp-tools-implementation","title":"MCP Tools Implementation","text":""},{"location":"ARCHITECTURE/#tool-definitions","title":"Tool Definitions","text":"<pre><code>// src/tools/index.ts\n\nexport const tools: Tool[] = [\n  {\n    name: \"f5-status-get-overall\",\n    description: \"Get overall F5 Cloud service status\",\n    inputSchema: {\n      type: \"object\",\n      properties: {},\n      required: []\n    }\n  },\n  {\n    name: \"f5-status-list-components\",\n    description: \"List all F5 Cloud service components with status\",\n    inputSchema: {\n      type: \"object\",\n      properties: {\n        category: {\n          type: \"string\",\n          description: \"Filter by category (e.g., 'Services', 'North America PoPs')\"\n        },\n        status: {\n          type: \"string\",\n          description: \"Filter by status (e.g., 'Operational', 'Degraded')\"\n        },\n        includeUptime: {\n          type: \"boolean\",\n          description: \"Include uptime percentage data\"\n        }\n      }\n    }\n  },\n  {\n    name: \"f5-status-get-component\",\n    description: \"Get detailed status for a specific component\",\n    inputSchema: {\n      type: \"object\",\n      properties: {\n        componentId: {\n          type: \"string\",\n          description: \"Component ID or name\"\n        }\n      },\n      required: [\"componentId\"]\n    }\n  },\n  {\n    name: \"f5-status-list-incidents\",\n    description: \"List recent service incidents\",\n    inputSchema: {\n      type: \"object\",\n      properties: {\n        limit: {\n          type: \"number\",\n          description: \"Maximum number of incidents to return (default: 10)\"\n        },\n        status: {\n          type: \"string\",\n          description: \"Filter by status (Investigating, Identified, Monitoring, Resolved)\"\n        },\n        daysBack: {\n          type: \"number\",\n          description: \"How many days to look back (default: 14)\"\n        }\n      }\n    }\n  },\n  {\n    name: \"f5-status-get-scheduled-maintenance\",\n    description: \"Get upcoming scheduled maintenance windows\",\n    inputSchema: {\n      type: \"object\",\n      properties: {\n        upcoming: {\n          type: \"boolean\",\n          description: \"Only return future maintenance (default: true)\"\n        }\n      }\n    }\n  },\n  {\n    name: \"f5-status-get-uptime\",\n    description: \"Get uptime statistics for components\",\n    inputSchema: {\n      type: \"object\",\n      properties: {\n        componentId: {\n          type: \"string\",\n          description: \"Specific component ID (optional, returns overall if not specified)\"\n        },\n        range: {\n          type: \"number\",\n          description: \"Days to include in uptime calculation (default: 60)\"\n        }\n      }\n    }\n  }\n];\n</code></pre>"},{"location":"ARCHITECTURE/#tool-handler-implementation","title":"Tool Handler Implementation","text":"<pre><code>// src/tools/handler.ts\n\nexport class ToolHandler {\n  constructor(\n    private statusService: StatusService,\n    private componentService: ComponentService,\n    private incidentService: IncidentService\n  ) {}\n\n  async handleTool(name: string, args: any): Promise&lt;any&gt; {\n    switch (name) {\n      case \"f5-status-get-overall\":\n        return await this.statusService.getOverallStatus();\n\n      case \"f5-status-list-components\":\n        return await this.componentService.listComponents(args);\n\n      case \"f5-status-get-component\":\n        return await this.componentService.getComponent(args.componentId);\n\n      case \"f5-status-list-incidents\":\n        return await this.incidentService.listIncidents(args);\n\n      case \"f5-status-get-scheduled-maintenance\":\n        return await this.incidentService.getScheduledMaintenance(args.upcoming);\n\n      case \"f5-status-get-uptime\":\n        return await this.componentService.getComponentUptime(\n          args.componentId,\n          args.range\n        );\n\n      default:\n        throw new Error(`Unknown tool: ${name}`);\n    }\n  }\n}\n</code></pre>"},{"location":"ARCHITECTURE/#directory-structure","title":"Directory Structure","text":"<pre><code>f5xc-cloudstatus-mcp/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 server/\n\u2502   \u2502   \u251c\u2500\u2500 index.ts                 # Server entry point\n\u2502   \u2502   \u251c\u2500\u2500 tool-registry.ts         # Tool registration\n\u2502   \u2502   \u251c\u2500\u2500 request-handler.ts       # Request processing\n\u2502   \u2502   \u2514\u2500\u2500 response-formatter.ts    # Response formatting\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 services/\n\u2502   \u2502   \u251c\u2500\u2500 status-service.ts        # Overall status logic\n\u2502   \u2502   \u251c\u2500\u2500 component-service.ts     # Component operations\n\u2502   \u2502   \u2514\u2500\u2500 incident-service.ts      # Incident/maintenance logic\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 data-access/\n\u2502   \u2502   \u251c\u2500\u2500 index.ts                 # Data access facade\n\u2502   \u2502   \u251c\u2500\u2500 api-client.ts            # Statuspage API client\n\u2502   \u2502   \u2514\u2500\u2500 web-scraper.ts           # Web scraping fallback\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 cache/\n\u2502   \u2502   \u2514\u2500\u2500 cache-service.ts         # Caching implementation\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 tools/\n\u2502   \u2502   \u251c\u2500\u2500 index.ts                 # Tool definitions\n\u2502   \u2502   \u2514\u2500\u2500 handler.ts               # Tool execution logic\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 types/\n\u2502   \u2502   \u251c\u2500\u2500 mcp.ts                   # MCP protocol types\n\u2502   \u2502   \u251c\u2500\u2500 domain.ts                # Domain model types\n\u2502   \u2502   \u2514\u2500\u2500 api.ts                   # API response types\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 utils/\n\u2502       \u251c\u2500\u2500 logger.ts                # Logging utilities\n\u2502       \u251c\u2500\u2500 errors.ts                # Error handling\n\u2502       \u2514\u2500\u2500 config.ts                # Configuration management\n\u2502\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 unit/                        # Unit tests\n\u2502   \u251c\u2500\u2500 integration/                 # Integration tests\n\u2502   \u2514\u2500\u2500 fixtures/                    # Test fixtures\n\u2502\n\u251c\u2500\u2500 docs/\n\u2502   \u251c\u2500\u2500 ANALYSIS.md                  # Initial analysis\n\u2502   \u251c\u2500\u2500 ARCHITECTURE.md              # This document\n\u2502   \u2514\u2500\u2500 API.md                       # API documentation\n\u2502\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 .env.example\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"ARCHITECTURE/#data-flow","title":"Data Flow","text":""},{"location":"ARCHITECTURE/#example-get-overall-status","title":"Example: Get Overall Status","text":"<pre><code>1. MCP Client sends request:\n   {\n     \"method\": \"tools/call\",\n     \"params\": {\n       \"name\": \"f5-status-get-overall\"\n     }\n   }\n\n2. MCP Server \u2192 RequestHandler\n   - Validates request\n   - Routes to ToolHandler\n\n3. ToolHandler \u2192 StatusService\n   - Calls getOverallStatus()\n\n4. StatusService \u2192 CacheService\n   - Check cache for 'overall-status'\n\n5a. Cache HIT:\n    - Return cached data\n    - Skip to step 8\n\n5b. Cache MISS:\n    - Continue to step 6\n\n6. StatusService \u2192 DataAccessLayer\n   - Call fetchStatus()\n\n7. DataAccessLayer:\n   7a. Try APIClient.fetchStatus()\n   7b. If fails, fallback to WebScraper.scrapeStatus()\n\n8. Data flows back:\n   DataAccessLayer \u2192 StatusService \u2192 ToolHandler \u2192 ResponseFormatter\n\n9. ResponseFormatter \u2192 MCP Client:\n   {\n     \"content\": [\n       {\n         \"type\": \"text\",\n         \"text\": JSON.stringify({\n           status: \"operational\",\n           indicator: \"none\",\n           description: \"All Systems Operational\",\n           updated_at: \"2025-10-08T16:30:00Z\"\n         })\n       }\n     ]\n   }\n</code></pre>"},{"location":"ARCHITECTURE/#error-handling-strategy","title":"Error Handling Strategy","text":""},{"location":"ARCHITECTURE/#error-types","title":"Error Types","text":"<pre><code>// src/utils/errors.ts\n\nexport class F5StatusError extends Error {\n  constructor(\n    message: string,\n    public code: string,\n    public statusCode?: number\n  ) {\n    super(message);\n    this.name = 'F5StatusError';\n  }\n}\n\nexport class APIError extends F5StatusError {\n  constructor(message: string, statusCode: number) {\n    super(message, 'API_ERROR', statusCode);\n  }\n}\n\nexport class ScraperError extends F5StatusError {\n  constructor(message: string) {\n    super(message, 'SCRAPER_ERROR');\n  }\n}\n\nexport class CacheError extends F5StatusError {\n  constructor(message: string) {\n    super(message, 'CACHE_ERROR');\n  }\n}\n\nexport class ValidationError extends F5StatusError {\n  constructor(message: string) {\n    super(message, 'VALIDATION_ERROR');\n  }\n}\n</code></pre>"},{"location":"ARCHITECTURE/#error-handling-flow","title":"Error Handling Flow","text":"<pre><code>// src/server/request-handler.ts\n\nasync handleRequest(request: MCPRequest): Promise&lt;MCPResponse&gt; {\n  try {\n    const result = await this.toolHandler.handleTool(\n      request.params.name,\n      request.params.arguments\n    );\n\n    return {\n      content: [{\n        type: \"text\",\n        text: JSON.stringify(result, null, 2)\n      }]\n    };\n\n  } catch (error) {\n    if (error instanceof ValidationError) {\n      return {\n        content: [{\n          type: \"text\",\n          text: `Invalid request: ${error.message}`\n        }],\n        isError: true\n      };\n    }\n\n    if (error instanceof APIError || error instanceof ScraperError) {\n      return {\n        content: [{\n          type: \"text\",\n          text: `Service temporarily unavailable: ${error.message}`\n        }],\n        isError: true\n      };\n    }\n\n    // Unknown error\n    console.error('Unexpected error:', error);\n    return {\n      content: [{\n        type: \"text\",\n        text: \"An unexpected error occurred\"\n      }],\n      isError: true\n    };\n  }\n}\n</code></pre>"},{"location":"ARCHITECTURE/#configuration-management","title":"Configuration Management","text":"<pre><code>// src/utils/config.ts\n\nexport interface Config {\n  server: {\n    name: string;\n    version: string;\n  };\n  api: {\n    baseUrl: string;\n    timeout: number;\n    retryAttempts: number;\n    retryDelay: number;\n  };\n  scraper: {\n    baseUrl: string;\n    timeout: number;\n    headless: boolean;\n  };\n  cache: {\n    ttl: {\n      status: number;\n      components: number;\n      incidents: number;\n      maintenance: number;\n    };\n  };\n  logging: {\n    level: 'debug' | 'info' | 'warn' | 'error';\n  };\n}\n\nexport const defaultConfig: Config = {\n  server: {\n    name: \"f5xc-cloudstatus\",\n    version: \"1.0.0\"\n  },\n  api: {\n    baseUrl: \"https://www.f5cloudstatus.com/api/v2\",\n    timeout: 10000,\n    retryAttempts: 3,\n    retryDelay: 1000\n  },\n  scraper: {\n    baseUrl: \"https://www.f5cloudstatus.com\",\n    timeout: 30000,\n    headless: true\n  },\n  cache: {\n    ttl: {\n      status: 30000,        // 30 seconds\n      components: 60000,    // 60 seconds\n      incidents: 120000,    // 2 minutes\n      maintenance: 300000   // 5 minutes\n    }\n  },\n  logging: {\n    level: 'info'\n  }\n};\n\nexport function loadConfig(): Config {\n  // Load from environment variables or config file\n  return {\n    ...defaultConfig,\n    // Override with env vars\n  };\n}\n</code></pre>"},{"location":"ARCHITECTURE/#logging-strategy","title":"Logging Strategy","text":"<pre><code>// src/utils/logger.ts\n\nexport enum LogLevel {\n  DEBUG = 0,\n  INFO = 1,\n  WARN = 2,\n  ERROR = 3\n}\n\nexport class Logger {\n  constructor(private level: LogLevel = LogLevel.INFO) {}\n\n  debug(message: string, meta?: any): void {\n    if (this.level &lt;= LogLevel.DEBUG) {\n      console.log(`[DEBUG] ${new Date().toISOString()} - ${message}`, meta);\n    }\n  }\n\n  info(message: string, meta?: any): void {\n    if (this.level &lt;= LogLevel.INFO) {\n      console.log(`[INFO] ${new Date().toISOString()} - ${message}`, meta);\n    }\n  }\n\n  warn(message: string, meta?: any): void {\n    if (this.level &lt;= LogLevel.WARN) {\n      console.warn(`[WARN] ${new Date().toISOString()} - ${message}`, meta);\n    }\n  }\n\n  error(message: string, error?: Error, meta?: any): void {\n    if (this.level &lt;= LogLevel.ERROR) {\n      console.error(`[ERROR] ${new Date().toISOString()} - ${message}`, {\n        error: error?.message,\n        stack: error?.stack,\n        ...meta\n      });\n    }\n  }\n}\n</code></pre>"},{"location":"ARCHITECTURE/#performance-considerations","title":"Performance Considerations","text":""},{"location":"ARCHITECTURE/#1-caching-strategy","title":"1. Caching Strategy","text":"<ul> <li>Aggressive caching: Minimize external calls</li> <li>TTL-based expiry: Different TTLs for different data types</li> <li>Cache warming: Pre-populate on startup for critical data</li> </ul>"},{"location":"ARCHITECTURE/#2-connection-pooling","title":"2. Connection Pooling","text":"<pre><code>// Reuse HTTP connections\nconst agent = new https.Agent({\n  keepAlive: true,\n  maxSockets: 10\n});\n</code></pre>"},{"location":"ARCHITECTURE/#3-parallel-requests","title":"3. Parallel Requests","text":"<pre><code>// When fetching multiple components\nasync listComponents(): Promise&lt;Component[]&gt; {\n  const componentIds = await this.getComponentIds();\n\n  // Fetch all components in parallel\n  const components = await Promise.all(\n    componentIds.map(id =&gt; this.getComponent(id))\n  );\n\n  return components;\n}\n</code></pre>"},{"location":"ARCHITECTURE/#4-request-batching","title":"4. Request Batching","text":"<ul> <li>Batch similar requests within time window</li> <li>Reduce redundant API calls</li> </ul>"},{"location":"ARCHITECTURE/#security-considerations","title":"Security Considerations","text":""},{"location":"ARCHITECTURE/#1-input-validation","title":"1. Input Validation","text":"<pre><code>function validateComponentId(id: string): void {\n  if (!id || typeof id !== 'string') {\n    throw new ValidationError('Component ID must be a non-empty string');\n  }\n\n  if (id.length &gt; 100) {\n    throw new ValidationError('Component ID too long');\n  }\n\n  if (!/^[a-z0-9-_]+$/i.test(id)) {\n    throw new ValidationError('Component ID contains invalid characters');\n  }\n}\n</code></pre>"},{"location":"ARCHITECTURE/#2-rate-limiting","title":"2. Rate Limiting","text":"<pre><code>class RateLimiter {\n  private requests: number[] = [];\n\n  constructor(\n    private maxRequests: number,\n    private windowMs: number\n  ) {}\n\n  async checkLimit(): Promise&lt;void&gt; {\n    const now = Date.now();\n    this.requests = this.requests.filter(time =&gt; time &gt; now - this.windowMs);\n\n    if (this.requests.length &gt;= this.maxRequests) {\n      const oldestRequest = this.requests[0];\n      const waitTime = oldestRequest + this.windowMs - now;\n      await new Promise(resolve =&gt; setTimeout(resolve, waitTime));\n    }\n\n    this.requests.push(now);\n  }\n}\n</code></pre>"},{"location":"ARCHITECTURE/#3-https-enforcement","title":"3. HTTPS Enforcement","text":"<ul> <li>All external requests use HTTPS</li> <li>Validate SSL certificates</li> <li>No sensitive data transmission</li> </ul>"},{"location":"ARCHITECTURE/#testing-strategy","title":"Testing Strategy","text":""},{"location":"ARCHITECTURE/#1-unit-tests","title":"1. Unit Tests","text":"<pre><code>// tests/unit/services/status-service.test.ts\n\ndescribe('StatusService', () =&gt; {\n  let service: StatusService;\n  let mockDataAccess: jest.Mocked&lt;DataAccessLayer&gt;;\n  let mockCache: jest.Mocked&lt;CacheService&gt;;\n\n  beforeEach(() =&gt; {\n    mockDataAccess = createMockDataAccess();\n    mockCache = createMockCache();\n    service = new StatusService(mockDataAccess, mockCache);\n  });\n\n  test('getOverallStatus returns cached data when available', async () =&gt; {\n    const cachedStatus = { status: 'operational' };\n    mockCache.get.mockResolvedValue(cachedStatus);\n\n    const result = await service.getOverallStatus();\n\n    expect(result).toEqual(cachedStatus);\n    expect(mockDataAccess.fetchStatus).not.toHaveBeenCalled();\n  });\n\n  test('getOverallStatus fetches fresh data on cache miss', async () =&gt; {\n    mockCache.get.mockImplementation(async (key, ttl, fetcher) =&gt; {\n      return await fetcher();\n    });\n\n    const freshStatus = { status: 'operational' };\n    mockDataAccess.fetchStatus.mockResolvedValue(freshStatus);\n\n    const result = await service.getOverallStatus();\n\n    expect(result).toEqual(freshStatus);\n    expect(mockDataAccess.fetchStatus).toHaveBeenCalled();\n  });\n});\n</code></pre>"},{"location":"ARCHITECTURE/#2-integration-tests","title":"2. Integration Tests","text":"<pre><code>// tests/integration/api-client.test.ts\n\ndescribe('APIClient Integration', () =&gt; {\n  let client: APIClient;\n\n  beforeEach(() =&gt; {\n    client = new APIClient({\n      baseUrl: 'https://www.f5cloudstatus.com/api/v2',\n      timeout: 10000,\n      retryAttempts: 2,\n      retryDelay: 100\n    });\n  });\n\n  test('fetchStatus retrieves real data', async () =&gt; {\n    const status = await client.fetchStatus();\n\n    expect(status).toHaveProperty('status');\n    expect(status.status).toHaveProperty('indicator');\n  });\n\n  test('handles API errors gracefully', async () =&gt; {\n    const badClient = new APIClient({\n      baseUrl: 'https://invalid.example.com/api/v2',\n      timeout: 1000,\n      retryAttempts: 1,\n      retryDelay: 100\n    });\n\n    await expect(badClient.fetchStatus()).rejects.toThrow(APIError);\n  });\n});\n</code></pre>"},{"location":"ARCHITECTURE/#3-e2e-tests","title":"3. E2E Tests","text":"<pre><code>// tests/e2e/mcp-server.test.ts\n\ndescribe('MCP Server E2E', () =&gt; {\n  let server: MCPServer;\n  let client: MCPTestClient;\n\n  beforeAll(async () =&gt; {\n    server = new MCPServer(defaultConfig);\n    await server.start();\n    client = new MCPTestClient();\n  });\n\n  afterAll(async () =&gt; {\n    await server.stop();\n  });\n\n  test('complete workflow: list tools \u2192 call tool \u2192 get result', async () =&gt; {\n    // List available tools\n    const tools = await client.listTools();\n    expect(tools).toContainEqual(\n      expect.objectContaining({ name: 'f5-status-get-overall' })\n    );\n\n    // Call tool\n    const result = await client.callTool('f5-status-get-overall', {});\n\n    // Verify result\n    expect(result).toHaveProperty('status');\n    expect(['operational', 'degraded', 'partial_outage', 'major_outage'])\n      .toContain(result.status);\n  });\n});\n</code></pre>"},{"location":"ARCHITECTURE/#deployment-architecture","title":"Deployment Architecture","text":""},{"location":"ARCHITECTURE/#development-environment","title":"Development Environment","text":"<pre><code>Local Machine\n\u251c\u2500\u2500 MCP Server (stdio)\n\u251c\u2500\u2500 Claude Desktop (MCP client)\n\u2514\u2500\u2500 Test Data/Mocks\n</code></pre>"},{"location":"ARCHITECTURE/#production-environment","title":"Production Environment","text":"<pre><code>User's Machine\n\u251c\u2500\u2500 Claude Desktop\n\u2502   \u2514\u2500\u2500 MCP Server (stdio transport)\n\u2502       \u251c\u2500\u2500 Cache (in-memory)\n\u2502       \u2514\u2500\u2500 HTTP Client\n\u2502           \u2514\u2500\u2500 \u2192 F5 Cloud Status Website\n</code></pre>"},{"location":"ARCHITECTURE/#configuration-files","title":"Configuration Files","text":"<pre><code>// Claude Desktop config.json\n{\n  \"mcpServers\": {\n    \"f5xc-cloudstatus\": {\n      \"command\": \"node\",\n      \"args\": [\n        \"/path/to/f5xc-cloudstatus-mcp/dist/index.js\"\n      ],\n      \"env\": {\n        \"LOG_LEVEL\": \"info\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"ARCHITECTURE/#scalability-considerations","title":"Scalability Considerations","text":""},{"location":"ARCHITECTURE/#current-design-single-user","title":"Current Design (Single User)","text":"<ul> <li>In-memory cache</li> <li>Stdio transport</li> <li>No persistent storage</li> </ul>"},{"location":"ARCHITECTURE/#future-enhancements-multi-user","title":"Future Enhancements (Multi-User)","text":"<ul> <li>Redis cache for shared state</li> <li>HTTP/WebSocket transport</li> <li>Database for historical data</li> <li>Horizontal scaling capability</li> </ul>"},{"location":"ARCHITECTURE/#monitoring-and-observability","title":"Monitoring and Observability","text":""},{"location":"ARCHITECTURE/#metrics-to-track","title":"Metrics to Track","text":"<pre><code>interface Metrics {\n  requests: {\n    total: number;\n    byTool: Record&lt;string, number&gt;;\n    errors: number;\n  };\n  cache: {\n    hits: number;\n    misses: number;\n    hitRate: number;\n  };\n  dataAccess: {\n    apiCalls: number;\n    scraperCalls: number;\n    failures: number;\n  };\n  performance: {\n    avgResponseTime: number;\n    p95ResponseTime: number;\n    p99ResponseTime: number;\n  };\n}\n</code></pre>"},{"location":"ARCHITECTURE/#health-check","title":"Health Check","text":"<pre><code>async function healthCheck(): Promise&lt;HealthStatus&gt; {\n  const checks = await Promise.all([\n    checkAPIAvailability(),\n    checkCacheHealth(),\n    checkMemoryUsage()\n  ]);\n\n  return {\n    status: checks.every(c =&gt; c.healthy) ? 'healthy' : 'degraded',\n    checks,\n    timestamp: new Date().toISOString()\n  };\n}\n</code></pre>"},{"location":"ARCHITECTURE/#migration-path","title":"Migration Path","text":""},{"location":"ARCHITECTURE/#phase-1-mvp-week-1-2","title":"Phase 1: MVP (Week 1-2)","text":"<ul> <li>Implement core 3 tools</li> <li>API client only (no scraper)</li> <li>Basic in-memory cache</li> <li>Essential error handling</li> </ul>"},{"location":"ARCHITECTURE/#phase-2-resilience-week-3","title":"Phase 2: Resilience (Week 3)","text":"<ul> <li>Add web scraper fallback</li> <li>Implement retry logic</li> <li>Enhanced error handling</li> <li>Comprehensive logging</li> </ul>"},{"location":"ARCHITECTURE/#phase-3-full-feature-set-week-4","title":"Phase 3: Full Feature Set (Week 4)","text":"<ul> <li>Implement remaining 3 tools</li> <li>Advanced caching strategies</li> <li>Performance optimization</li> <li>Complete test coverage</li> </ul>"},{"location":"ARCHITECTURE/#phase-4-production-ready-week-5","title":"Phase 4: Production Ready (Week 5+)","text":"<ul> <li>Documentation</li> <li>Monitoring/metrics</li> <li>Security hardening</li> <li>User acceptance testing</li> </ul>"},{"location":"ARCHITECTURE/#conclusion","title":"Conclusion","text":"<p>This architecture provides:</p> <p>\u2705 Modularity: Clear separation of concerns \u2705 Reliability: Fallback mechanisms and error handling \u2705 Performance: Efficient caching and parallel operations \u2705 Maintainability: Clean code structure and comprehensive tests \u2705 Extensibility: Easy to add new tools and features \u2705 MCP Compliance: Follows Model Context Protocol standards</p> <p>The design balances simplicity for rapid development with robustness for production use.</p>"},{"location":"CICD/","title":"CI/CD Pipeline Guide","text":""},{"location":"CICD/#fully-automated-publishing-workflow","title":"Fully Automated Publishing Workflow","text":"<p>This repository has a fully automated CI/CD pipeline that handles version bumping and publishing on every push to <code>main</code>.</p>"},{"location":"CICD/#how-it-works-zero-manual-steps","title":"\ud83d\ude80 How It Works (Zero Manual Steps!)","text":"<ol> <li>Make your code changes in any source file</li> <li>Commit and push to main</li> <li>Automation handles EVERYTHING:</li> <li>\u2705 Auto-detects if version needs bumping</li> <li>\u2705 Auto-increments version in both <code>package.json</code> and <code>manifest.json</code></li> <li>\u2705 Determines bump type from commit messages (major/minor/patch)</li> <li>\u2705 Commits version bump back to the repository</li> <li>\u2705 Builds the TypeScript code</li> <li>\u2705 Creates MCPB package</li> <li>\u2705 Creates GitHub Release with tag</li> <li>\u2705 Publishes to GitHub Packages (npm registry)</li> <li>\u2705 Uploads artifacts</li> </ol>"},{"location":"CICD/#version-bumping-strategy","title":"Version Bumping Strategy","text":""},{"location":"CICD/#conventional-commits-automatic-detection","title":"Conventional Commits (Automatic Detection)","text":"<p>The workflow automatically determines the version bump type from your commit messages:</p> Commit Message Pattern Bump Type Example <code>BREAKING CHANGE:</code>, <code>feat!:</code>, <code>fix!:</code> Major (1.0.0 \u2192 2.0.0) <code>feat!: redesign API</code> <code>feat:</code>, <code>feat(scope):</code> Minor (1.0.0 \u2192 1.1.0) <code>feat: add new tool</code> Everything else Patch (1.0.0 \u2192 1.0.1) <code>fix: correct typo</code>, <code>docs: update README</code>"},{"location":"CICD/#examples","title":"Examples","text":"<p>Adding a new feature: <pre><code>git commit -m \"feat: add incident filtering capability\"\n# Auto-bumps: 1.0.13 \u2192 1.1.0\n</code></pre></p> <p>Bug fix or small change: <pre><code>git commit -m \"fix: correct status parsing\"\n# Auto-bumps: 1.0.13 \u2192 1.0.14\n</code></pre></p> <p>Breaking change: <pre><code>git commit -m \"feat!: redesign tool parameter structure\"\n# Auto-bumps: 1.0.13 \u2192 2.0.0\n</code></pre></p> <p>Regular update (no conventional commit format): <pre><code>git commit -m \"update manifest keywords\"\n# Auto-bumps: 1.0.13 \u2192 1.0.14 (defaults to patch)\n</code></pre></p>"},{"location":"CICD/#workflow-triggers","title":"Workflow Triggers","text":"<p>The auto-publish workflow triggers on push to <code>main</code> for: - Source code changes (<code>src/**</code>) - Configuration changes - Dependency updates - Any file except <code>.github/**</code>, <code>README.md</code>, <code>LICENSE</code>, <code>docs/**</code></p> <p>Note: The version bump commit includes <code>[skip ci]</code> to prevent infinite loops.</p>"},{"location":"CICD/#what-gets-published","title":"What Gets Published","text":"<p>Each successful run publishes:</p> <ol> <li>MCPB Package: <code>f5xc-cloudstatus-mcp-{version}.mcpb</code></li> <li>Attached to GitHub Release</li> <li> <p>Available for one-click installation in Claude Desktop</p> </li> <li> <p>GitHub Release: <code>v{version}</code></p> </li> <li>Includes MCPB file as asset</li> <li>Auto-generated release notes</li> <li> <p>Installation instructions</p> </li> <li> <p>GitHub Package: <code>@robinmordasiewicz/f5xc-cloudstatus-mcp@{version}</code></p> </li> <li>Published to GitHub npm registry</li> <li>Installable via npm</li> </ol>"},{"location":"CICD/#installation-methods","title":"Installation Methods","text":"<p>From GitHub Release (MCPB): 1. Go to Releases 2. Download the <code>.mcpb</code> file 3. Double-click to install in Claude Desktop</p> <p>From GitHub Packages (npm): <pre><code>npm install @robinmordasiewicz/f5xc-cloudstatus-mcp@1.0.14 --registry=https://npm.pkg.github.com\n</code></pre></p> <p>From npm registry: <pre><code>npx -y f5xc-cloudstatus-mcp@1.0.14\n</code></pre></p>"},{"location":"CICD/#example-workflow-fully-automated","title":"Example Workflow (Fully Automated)","text":"<pre><code># 1. Make your changes\nvim src/index.ts\n\n# 2. Commit with conventional commit format (optional but recommended)\ngit add .\ngit commit -m \"feat: add caching to API calls\"\n\n# 3. Push to main\ngit push origin main\n\n# 4. CI/CD automatically:\n#    \u2705 Detects v1.0.13 tag already exists\n#    \u2705 Analyzes commit: \"feat:\" \u2192 minor bump\n#    \u2705 Bumps version: 1.0.13 \u2192 1.1.0\n#    \u2705 Updates package.json and manifest.json\n#    \u2705 Commits: \"chore: bump version to 1.1.0 [skip ci]\"\n#    \u2705 Pushes version bump commit\n#    \u2705 Builds everything\n#    \u2705 Creates tag v1.1.0\n#    \u2705 Publishes all packages\n</code></pre>"},{"location":"CICD/#monitoring-builds","title":"Monitoring Builds","text":"<p>Check workflow status: <pre><code>gh run list --workflow=auto-publish.yml\ngh run watch &lt;run-id&gt;\n</code></pre></p> <p>View releases: <pre><code>gh release list\ngh release view v1.1.0\n</code></pre></p> <p>View version bump commits: <pre><code>git log --oneline --grep=\"chore: bump version\"\n</code></pre></p>"},{"location":"CICD/#manual-version-control-optional","title":"Manual Version Control (Optional)","text":"<p>If you prefer manual control, you can still bump versions manually:</p> <ol> <li>Update version in both <code>package.json</code> and <code>manifest.json</code></li> <li>Commit and push</li> <li>Workflow will detect the new version and publish without auto-bumping</li> </ol> <p>Example: <pre><code># Manually set version to 2.0.0\n# Edit package.json: \"version\": \"2.0.0\"\n# Edit manifest.json: \"version\": \"2.0.0\"\n\ngit add package.json manifest.json\ngit commit -m \"chore: bump version to 2.0.0\"\ngit push origin main\n\n# Workflow publishes v2.0.0 (no auto-bump since version is new)\n</code></pre></p>"},{"location":"CICD/#troubleshooting","title":"Troubleshooting","text":"<p>Workflow skipped version bump: - Check if version in <code>package.json</code> doesn't have an existing tag - Verify commit doesn't contain <code>[skip ci]</code> flag</p> <p>Build fails on dependencies: - Solution: Run <code>npm ci</code> locally to verify dependencies install correctly</p> <p>MCPB validation fails: - Solution: Check <code>manifest.json</code> follows MCPB schema (see MANIFEST.md)</p> <p>Wrong bump type applied: - Solution: Use conventional commit format in your commit messages - Reference: Conventional Commits</p>"},{"location":"CICD/#disabling-auto-versioning","title":"Disabling Auto-Versioning","text":"<p>To disable automatic version bumping while keeping auto-publish:</p> <p>Edit <code>.github/workflows/auto-publish.yml</code> and replace the \"Auto-bump version if needed\" step with:</p> <pre><code>- name: Check version\n  id: version_bump\n  run: |\n    CURRENT_VERSION=$(jq -r '.version' package.json)\n    if git rev-parse \"v${CURRENT_VERSION}\" &gt;/dev/null 2&gt;&amp;1; then\n      echo \"Error: Version v${CURRENT_VERSION} already published\"\n      echo \"Please bump version manually in package.json and manifest.json\"\n      exit 1\n    fi\n    echo \"version=$CURRENT_VERSION\" &gt;&gt; $GITHUB_OUTPUT\n</code></pre>"},{"location":"CICD/#disabling-auto-publish-completely","title":"Disabling Auto-Publish Completely","text":"<p>To disable the entire automatic publishing workflow:</p> <pre><code>mv .github/workflows/auto-publish.yml .github/workflows/auto-publish.yml.disabled\n</code></pre>"},{"location":"CLEANUP_IMPLEMENTATION/","title":"Cleanup Implementation Summary","text":"<p>Date: October 9, 2025 Status: \u2705 Complete</p>"},{"location":"CLEANUP_IMPLEMENTATION/#overview","title":"Overview","text":"<p>Implemented comprehensive codebase cleanup improvements addressing critical configuration gaps, automation needs, and quality enforcement.</p>"},{"location":"CLEANUP_IMPLEMENTATION/#completed-implementations","title":"\u2705 Completed Implementations","text":""},{"location":"CLEANUP_IMPLEMENTATION/#1-eslint-configuration-eslintconfigjs","title":"1. ESLint Configuration (eslint.config.js)","text":"<p>Problem: ESLint v9 requires flat config format, script was failing Solution: Created <code>eslint.config.js</code> with TypeScript-specific rules</p> <p>Features: - TypeScript parser and plugin configuration - Separate rules for source and test files - Warning level for <code>any</code> types (not blocking) - Error on unused variables (with <code>_</code> prefix exception) - Best practices: prefer-const, no-var enforcement</p> <p>Validation: <pre><code>npm run lint\n# Result: 4 warnings in web-scraper.ts (expected, not blocking)\n</code></pre></p>"},{"location":"CLEANUP_IMPLEMENTATION/#2-prettier-configuration-prettierrc","title":"2. Prettier Configuration (.prettierrc)","text":"<p>Problem: No formatting standards defined Solution: Created <code>.prettierrc</code> with project conventions</p> <p>Standards: - Single quotes - Semicolons required - 100 character line width - 2 space indentation - ES5 trailing commas - LF line endings</p> <p>New Scripts: - <code>npm run format</code> - Format all source files - <code>npm run format:check</code> - Verify formatting without changes</p>"},{"location":"CLEANUP_IMPLEMENTATION/#3-manifest-sync-automation","title":"3. Manifest Sync Automation","text":"<p>Problem: Version/metadata duplicated in <code>package.json</code> and <code>manifest.json</code> Solution: Created <code>scripts/sync-manifest.js</code> automation</p> <p>Features: - Syncs version, name, description, author, repository, license - Runs automatically via <code>prepare</code> script (on npm install) - Manual trigger: <code>npm run sync:manifest</code> - Prevents version drift between npm and MCP manifest</p> <p>Example Output: <pre><code>\u2705 Synced manifest.json from package.json:\n   - version: 1.1.0\n   - name: f5xc-cloudstatus-mcp\n   - description: MCP server for F5 Cloud Status monitoring with fully automated CI/CD\n   - license: MIT\n</code></pre></p>"},{"location":"CLEANUP_IMPLEMENTATION/#4-pre-commit-hooks-husky","title":"4. Pre-Commit Hooks (Husky)","text":"<p>Problem: No quality enforcement before commits Solution: Configured Husky pre-commit hooks</p> <p>Hook Actions: 1. Sync manifest.json from package.json 2. Run ESLint on all TypeScript files 3. Verify Prettier formatting 4. Auto-stage manifest.json if updated</p> <p>Setup: - Added <code>husky</code> to devDependencies - Created <code>.husky/pre-commit</code> hook - Created <code>.husky/_/husky.sh</code> runner</p> <p>Activation: Run <code>npm install</code> to install Husky hooks</p>"},{"location":"CLEANUP_IMPLEMENTATION/#5-tsx-verification","title":"5. tsx Verification","text":"<p>Finding: <code>tsx</code> is used in jest.config.js regex pattern Decision: Keep - used for test file matching (<code>^.+\\\\.tsx?$</code>) Status: No action needed, dependency is utilized</p>"},{"location":"CLEANUP_IMPLEMENTATION/#6-documentation-audit","title":"6. Documentation Audit","text":"<p>Findings:</p> File Purpose Status README_SUMMARY.md MCPB automation package info \u26a0\ufe0f Redundant with MCPB_PUBLISHING.md QUICKSTART.md NPM installation guide \u2705 Unique, keep SETUP_GUIDE.md MCPB GitHub Actions setup \u26a0\ufe0f Overlaps with MCPB_PUBLISHING.md <p>Recommendation: - Consider consolidating MCPB documentation:   - Merge SETUP_GUIDE.md \u2192 MCPB_PUBLISHING.md (more comprehensive)   - Archive or remove README_SUMMARY.md (outdated naming) - QUICKSTART.md provides unique value for npm users</p>"},{"location":"CLEANUP_IMPLEMENTATION/#new-files-created","title":"\ud83d\udce6 New Files Created","text":"<pre><code>eslint.config.js              # ESLint v9 flat config\n.prettierrc                   # Prettier formatting rules\nscripts/sync-manifest.js      # Manifest sync automation\n.husky/pre-commit             # Pre-commit quality checks\n.husky/_/husky.sh             # Husky runner\n</code></pre>"},{"location":"CLEANUP_IMPLEMENTATION/#modified-files","title":"\ud83d\udd27 Modified Files","text":""},{"location":"CLEANUP_IMPLEMENTATION/#packagejson","title":"package.json","text":"<p>Added scripts: <pre><code>{\n  \"format:check\": \"prettier --check src/**/*.ts\",\n  \"sync:manifest\": \"node scripts/sync-manifest.js\",\n  \"prepare\": \"node scripts/sync-manifest.js\"\n}\n</code></pre></p> <p>Added devDependency: <pre><code>{\n  \"husky\": \"^9.0.0\"\n}\n</code></pre></p>"},{"location":"CLEANUP_IMPLEMENTATION/#manifestjson","title":"manifest.json","text":"<p>Auto-synced fields (via sync script): - version: 1.1.0 - description: Updated to match package.json - license: MIT - homepage: Synced from package.json</p>"},{"location":"CLEANUP_IMPLEMENTATION/#quality-improvements","title":"\ud83c\udfaf Quality Improvements","text":""},{"location":"CLEANUP_IMPLEMENTATION/#before","title":"Before","text":"<ul> <li>\u274c ESLint script failed every run</li> <li>\u274c No code formatting standards</li> <li>\u274c Manual version sync between package.json and manifest.json</li> <li>\u274c No pre-commit quality gates</li> <li>\u26a0\ufe0f Potential for configuration drift</li> </ul>"},{"location":"CLEANUP_IMPLEMENTATION/#after","title":"After","text":"<ul> <li>\u2705 ESLint runs successfully (4 minor warnings only)</li> <li>\u2705 Prettier enforces consistent formatting</li> <li>\u2705 Automatic manifest sync on install and commit</li> <li>\u2705 Pre-commit hooks enforce quality</li> <li>\u2705 Prevented configuration drift</li> </ul>"},{"location":"CLEANUP_IMPLEMENTATION/#usage-instructions","title":"\ud83d\ude80 Usage Instructions","text":""},{"location":"CLEANUP_IMPLEMENTATION/#for-developers","title":"For Developers","text":"<p>After pulling these changes: <pre><code># Install Husky hooks\nnpm install\n\n# Test linting\nnpm run lint\n\n# Test formatting\nnpm run format:check\n\n# Manually sync manifest\nnpm run sync:manifest\n</code></pre></p> <p>When making commits: - Pre-commit hook runs automatically - Manifest syncs before commit - Lint and format checks run - Commit blocked if quality checks fail</p> <p>To bypass hooks (emergency only): <pre><code>git commit --no-verify\n</code></pre></p>"},{"location":"CLEANUP_IMPLEMENTATION/#remaining-recommendations","title":"\ud83d\udc1b Remaining Recommendations","text":""},{"location":"CLEANUP_IMPLEMENTATION/#low-priority","title":"Low Priority","text":"<ol> <li>Documentation consolidation - Merge MCPB-related docs</li> <li>Simplify .mcp.json - Remove hardcoded env defaults (rely on config.ts)</li> <li>ESLint warnings - Fix 4 <code>any</code> type warnings in web-scraper.ts</li> </ol>"},{"location":"CLEANUP_IMPLEMENTATION/#optional-enhancements","title":"Optional Enhancements","text":"<ol> <li>Add <code>.prettierignore</code> to exclude specific files</li> <li>Add <code>lint-staged</code> for faster pre-commit (only lint changed files)</li> <li>Configure ESLint to auto-fix on commit</li> </ol>"},{"location":"CLEANUP_IMPLEMENTATION/#impact-summary","title":"\ud83d\udcca Impact Summary","text":"Category Status Impact Development Workflow \u2705 Fixed ESLint and Prettier now working Code Quality \u2705 Improved Pre-commit hooks enforce standards Maintenance Burden \u2705 Reduced Automatic manifest sync Configuration Consistency \u2705 Guaranteed Single source of truth (package.json) Developer Experience \u2705 Enhanced Clear standards and automation"},{"location":"CLEANUP_IMPLEMENTATION/#success-criteria-met","title":"\ud83c\udf89 Success Criteria Met","text":"<ul> <li>[x] ESLint configuration working</li> <li>[x] Prettier standards defined</li> <li>[x] Manifest sync automation implemented</li> <li>[x] Pre-commit hooks configured</li> <li>[x] tsx usage verified</li> <li>[x] Documentation audit completed</li> <li>[x] All changes tested and validated</li> </ul> <p>Implementation Team: Claude Code with /sc:implement Review: Ready for production use Next Steps: Run <code>npm install</code> to activate Husky hooks</p>"},{"location":"DEVELOPERS/","title":"Developer Guide","text":"<p>This guide is for contributors and developers working on the F5 Cloud Status MCP server codebase.</p>"},{"location":"DEVELOPERS/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Development Setup</li> <li>Project Structure</li> <li>Development Workflow</li> <li>Architecture</li> <li>Testing</li> <li>Error Handling</li> <li>Logging</li> <li>Contributing</li> </ul>"},{"location":"DEVELOPERS/#development-setup","title":"Development Setup","text":""},{"location":"DEVELOPERS/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js &gt;= 18.0.0</li> <li>npm &gt;= 11.5.1 (for Trusted Publishing)</li> <li>Git</li> </ul>"},{"location":"DEVELOPERS/#clone-and-install","title":"Clone and Install","text":"<pre><code>git clone https://github.com/robinmordasiewicz/f5xc-cloudstatus-mcp.git\ncd f5xc-cloudstatus-mcp\nnpm install\nnpm run build\n</code></pre>"},{"location":"DEVELOPERS/#mcp-client-configuration-for-local-development","title":"MCP Client Configuration for Local Development","text":"<p>Add this to your MCP client configuration file (e.g., Claude Desktop config):</p> <pre><code>{\n  \"mcpServers\": {\n    \"f5cloudstatus\": {\n      \"command\": \"node\",\n      \"args\": [\n        \"/absolute/path/to/f5xc-cloudstatus-mcp/dist/index.js\"\n      ],\n      \"env\": {\n        \"API_BASE_URL\": \"https://www.f5cloudstatus.com/api/v2\",\n        \"API_TIMEOUT\": \"10000\",\n        \"API_RETRY_ATTEMPTS\": \"3\",\n        \"API_RETRY_DELAY\": \"1000\",\n        \"SCRAPER_BASE_URL\": \"https://www.f5cloudstatus.com\",\n        \"SCRAPER_TIMEOUT\": \"30000\",\n        \"SCRAPER_HEADLESS\": \"true\",\n        \"CACHE_TTL_STATUS\": \"30000\",\n        \"CACHE_TTL_COMPONENTS\": \"60000\",\n        \"CACHE_TTL_INCIDENTS\": \"120000\",\n        \"CACHE_TTL_MAINTENANCE\": \"300000\",\n        \"LOG_LEVEL\": \"info\"\n      }\n    }\n  }\n}\n</code></pre> <p>Replace <code>/absolute/path/to/f5xc-cloudstatus-mcp</code> with your actual project path.</p>"},{"location":"DEVELOPERS/#environment-configuration","title":"Environment Configuration","text":"<p>Create a <code>.env</code> file in the project root for custom settings:</p> <pre><code># API Configuration\nAPI_BASE_URL=https://www.f5cloudstatus.com/api/v2\nAPI_TIMEOUT=10000\nAPI_RETRY_ATTEMPTS=3\nAPI_RETRY_DELAY=1000\n\n# Scraper Configuration (fallback)\nSCRAPER_BASE_URL=https://www.f5cloudstatus.com\nSCRAPER_TIMEOUT=30000\nSCRAPER_HEADLESS=true\n\n# Cache TTL (milliseconds)\nCACHE_TTL_STATUS=30000\nCACHE_TTL_COMPONENTS=60000\nCACHE_TTL_INCIDENTS=120000\nCACHE_TTL_MAINTENANCE=300000\n\n# Logging\nLOG_LEVEL=debug  # debug, info, warn, error\n</code></pre>"},{"location":"DEVELOPERS/#project-structure","title":"Project Structure","text":"<pre><code>src/\n\u251c\u2500\u2500 cache/           # Caching service\n\u2502   \u251c\u2500\u2500 cache-service.ts\n\u2502   \u2514\u2500\u2500 index.ts\n\u251c\u2500\u2500 data-access/     # API client and web scraper\n\u2502   \u251c\u2500\u2500 api-client.ts\n\u2502   \u251c\u2500\u2500 data-access-layer.ts\n\u2502   \u251c\u2500\u2500 web-scraper.ts\n\u2502   \u2514\u2500\u2500 index.ts\n\u251c\u2500\u2500 server/          # MCP server implementation\n\u2502   \u251c\u2500\u2500 mcp-server.ts\n\u2502   \u2514\u2500\u2500 index.ts\n\u251c\u2500\u2500 services/        # Business logic services\n\u2502   \u251c\u2500\u2500 component-service.ts\n\u2502   \u251c\u2500\u2500 incident-service.ts\n\u2502   \u251c\u2500\u2500 status-service.ts\n\u2502   \u2514\u2500\u2500 index.ts\n\u251c\u2500\u2500 tools/           # MCP tool definitions and handlers\n\u2502   \u251c\u2500\u2500 tool-definitions.ts\n\u2502   \u251c\u2500\u2500 tool-handler.ts\n\u2502   \u2514\u2500\u2500 index.ts\n\u251c\u2500\u2500 types/           # TypeScript type definitions\n\u2502   \u251c\u2500\u2500 api.ts\n\u2502   \u251c\u2500\u2500 domain.ts\n\u2502   \u2514\u2500\u2500 index.ts\n\u2514\u2500\u2500 utils/           # Utilities (config, errors, logger)\n    \u251c\u2500\u2500 config.ts\n    \u251c\u2500\u2500 errors.ts\n    \u251c\u2500\u2500 logger.ts\n    \u2514\u2500\u2500 index.ts\n\ntests/\n\u251c\u2500\u2500 unit/            # Unit tests\n\u2502   \u251c\u2500\u2500 services/\n\u2502   \u2514\u2500\u2500 utils/\n\u251c\u2500\u2500 integration/     # Integration tests\n\u251c\u2500\u2500 e2e/             # End-to-end tests\n\u2514\u2500\u2500 fixtures/        # Test fixtures\n    \u251c\u2500\u2500 api-responses/\n    \u2514\u2500\u2500 mocks/\n</code></pre>"},{"location":"DEVELOPERS/#development-workflow","title":"Development Workflow","text":""},{"location":"DEVELOPERS/#available-scripts","title":"Available Scripts","text":"<ul> <li><code>npm run build</code> - Build TypeScript to JavaScript</li> <li><code>npm run dev</code> - Watch mode for development</li> <li><code>npm start</code> - Start the MCP server</li> <li><code>npm test</code> - Run test suite</li> <li><code>npm run test:watch</code> - Run tests in watch mode</li> <li><code>npm run test:coverage</code> - Generate coverage report</li> <li><code>npm run lint</code> - Lint TypeScript files</li> <li><code>npm run format</code> - Format code with Prettier</li> </ul>"},{"location":"DEVELOPERS/#development-cycle","title":"Development Cycle","text":"<ol> <li>Make changes to TypeScript source files in <code>src/</code></li> <li>Build with <code>npm run build</code> or use watch mode with <code>npm run dev</code></li> <li>Test your changes with <code>npm test</code></li> <li>Lint with <code>npm run lint</code></li> <li>Format with <code>npm run format</code></li> </ol>"},{"location":"DEVELOPERS/#running-the-server","title":"Running the Server","text":"<pre><code># Build first\nnpm run build\n\n# Start the server\nnpm start\n</code></pre> <p>The server will start and listen on stdio for MCP protocol messages.</p>"},{"location":"DEVELOPERS/#debugging","title":"Debugging","text":"<p>Set <code>LOG_LEVEL=debug</code> in your <code>.env</code> file for detailed logging:</p> <pre><code>LOG_LEVEL=debug npm start\n</code></pre>"},{"location":"DEVELOPERS/#architecture","title":"Architecture","text":"<p>The server follows a layered architecture:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          MCP Server Layer               \u2502\n\u2502  (Tool Definitions &amp; Handler)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Business Logic Layer             \u2502\n\u2502  (Status, Component, Incident Services) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          Cache Layer                    \u2502\n\u2502  (TTL-based Caching Service)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       Data Access Layer                 \u2502\n\u2502  (API Client \u2190 \u2192 Web Scraper)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     External Data Sources               \u2502\n\u2502  (Statuspage API / Website Scraping)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"DEVELOPERS/#key-components","title":"Key Components","text":""},{"location":"DEVELOPERS/#mcp-server-layer","title":"MCP Server Layer","text":"<p>Implements the Model Context Protocol for tool discovery and execution. Handles incoming requests and routes them to appropriate tool handlers.</p> <p>Files: <code>src/server/mcp-server.ts</code></p>"},{"location":"DEVELOPERS/#business-logic-layer","title":"Business Logic Layer","text":"<p>Contains the core business logic for status monitoring, component tracking, and incident management.</p> <p>Files: - <code>src/services/status-service.ts</code> - <code>src/services/component-service.ts</code> - <code>src/services/incident-service.ts</code></p>"},{"location":"DEVELOPERS/#cache-layer","title":"Cache Layer","text":"<p>TTL-based caching service with configurable durations per data type. Reduces API calls and improves response times.</p> <p>Files: <code>src/cache/cache-service.ts</code></p>"},{"location":"DEVELOPERS/#data-access-layer","title":"Data Access Layer","text":"<p>Coordinates between the API client and web scraper, providing automatic fallback when the API is unavailable.</p> <p>Files: - <code>src/data-access/data-access-layer.ts</code> - <code>src/data-access/api-client.ts</code> - <code>src/data-access/web-scraper.ts</code></p>"},{"location":"DEVELOPERS/#testing","title":"Testing","text":""},{"location":"DEVELOPERS/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\nnpm test\n\n# Run tests in watch mode\nnpm run test:watch\n\n# Generate coverage report\nnpm run test:coverage\n</code></pre>"},{"location":"DEVELOPERS/#test-coverage-requirements","title":"Test Coverage Requirements","text":"<ul> <li>Minimum coverage: 70%</li> <li>Branches: 70%</li> <li>Functions: 70%</li> <li>Lines: 70%</li> <li>Statements: 70%</li> </ul>"},{"location":"DEVELOPERS/#writing-tests","title":"Writing Tests","text":"<p>Tests are located in the <code>tests/</code> directory:</p> <ul> <li>Unit tests: <code>tests/unit/</code> - Test individual functions and classes</li> <li>Integration tests: <code>tests/integration/</code> - Test component interactions</li> <li>E2E tests: <code>tests/e2e/</code> - Test complete workflows</li> <li>Fixtures: <code>tests/fixtures/</code> - Mock data and test helpers</li> </ul> <p>Example unit test:</p> <pre><code>import { createStatusService } from '../../src/services/status-service';\n\ndescribe('StatusService', () =&gt; {\n  it('should get overall status', async () =&gt; {\n    const service = createStatusService(mockDataAccess, mockCache);\n    const status = await service.getOverallStatus();\n\n    expect(status.indicator).toBe('none');\n    expect(status.isOperational).toBe(true);\n  });\n});\n</code></pre>"},{"location":"DEVELOPERS/#error-handling","title":"Error Handling","text":"<p>The server implements comprehensive error handling with custom error types:</p>"},{"location":"DEVELOPERS/#error-types","title":"Error Types","text":"<ul> <li> <p>APIError: API request failures   <pre><code>throw new APIError('Failed to fetch status', { statusCode: 500 });\n</code></pre></p> </li> <li> <p>ScraperError: Web scraping failures   <pre><code>throw new ScraperError('Failed to scrape page', { url: pageUrl });\n</code></pre></p> </li> <li> <p>DataUnavailableError: Both API and scraper failed   <pre><code>throw new DataUnavailableError('No data source available');\n</code></pre></p> </li> <li> <p>ConfigurationError: Invalid configuration   <pre><code>throw new ConfigurationError('Missing API_BASE_URL');\n</code></pre></p> </li> <li> <p>ValidationError: Invalid tool input   <pre><code>throw new ValidationError('Invalid component ID');\n</code></pre></p> </li> <li> <p>CacheError: Cache operation failures   <pre><code>throw new CacheError('Failed to set cache value');\n</code></pre></p> </li> <li> <p>TimeoutError: Request timeouts   <pre><code>throw new TimeoutError('Request timed out after 10s');\n</code></pre></p> </li> <li> <p>NotFoundError: Resource not found   <pre><code>throw new NotFoundError('Component not found', { id: componentId });\n</code></pre></p> </li> </ul>"},{"location":"DEVELOPERS/#error-context","title":"Error Context","text":"<p>All errors include detailed context for debugging:</p> <pre><code>const error = new APIError('Request failed', {\n  statusCode: 404,\n  url: 'https://api.example.com/status',\n  method: 'GET'\n});\n\nconsole.log(error.code);     // 'API_ERROR'\nconsole.log(error.details);  // { statusCode: 404, url: '...', method: 'GET' }\n</code></pre>"},{"location":"DEVELOPERS/#logging","title":"Logging","text":""},{"location":"DEVELOPERS/#log-levels","title":"Log Levels","text":"<p>Configure logging via the <code>LOG_LEVEL</code> environment variable:</p> <ul> <li><code>debug</code>: Detailed debugging information</li> <li><code>info</code>: General informational messages (default)</li> <li><code>warn</code>: Warning messages</li> <li><code>error</code>: Error messages only</li> </ul>"},{"location":"DEVELOPERS/#using-the-logger","title":"Using the Logger","text":"<pre><code>import { logger } from './utils/logger';\n\nlogger.debug('Detailed debug information', { context: 'value' });\nlogger.info('Information message');\nlogger.warn('Warning message', { issue: 'details' });\nlogger.error('Error occurred', error);\n</code></pre>"},{"location":"DEVELOPERS/#log-format","title":"Log Format","text":"<p>Logs are written to stderr with ISO 8601 timestamps:</p> <pre><code>2025-01-15T10:30:00.000Z [INFO] MCP Server started\n2025-01-15T10:30:01.123Z [DEBUG] Handling ListTools request\n2025-01-15T10:30:02.456Z [ERROR] API request failed: 500\n</code></pre>"},{"location":"DEVELOPERS/#contributing","title":"Contributing","text":"<p>We welcome contributions! Please follow these guidelines:</p>"},{"location":"DEVELOPERS/#code-quality-standards","title":"Code Quality Standards","text":"<ol> <li>All tests must pass: <code>npm test</code></li> <li>Code must be formatted: <code>npm run format</code></li> <li>No linting errors: <code>npm run lint</code></li> <li>Coverage thresholds met: 70% minimum</li> <li>Type safety: No TypeScript errors</li> </ol>"},{"location":"DEVELOPERS/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch: <code>git checkout -b feature/your-feature</code></li> <li>Make your changes</li> <li>Write/update tests</li> <li>Run quality checks:    <pre><code>npm test\nnpm run lint\nnpm run format\n</code></pre></li> <li>Commit your changes with clear messages</li> <li>Push to your fork</li> <li>Create a Pull Request</li> </ol>"},{"location":"DEVELOPERS/#commit-messages","title":"Commit Messages","text":"<p>Use clear, descriptive commit messages:</p> <pre><code>feat: Add support for maintenance window filtering\nfix: Handle null component descriptions\ndocs: Update API reference for new search options\ntest: Add integration tests for incident service\n</code></pre>"},{"location":"DEVELOPERS/#code-style","title":"Code Style","text":"<ul> <li>Follow existing code patterns</li> <li>Use TypeScript types properly</li> <li>Write clear, self-documenting code</li> <li>Add comments for complex logic</li> <li>Keep functions small and focused</li> </ul>"},{"location":"DEVELOPERS/#testing-requirements","title":"Testing Requirements","text":"<ul> <li>Write tests for new features</li> <li>Update tests for bug fixes</li> <li>Maintain or improve coverage</li> <li>Test edge cases and error conditions</li> </ul>"},{"location":"DEVELOPERS/#troubleshooting","title":"Troubleshooting","text":""},{"location":"DEVELOPERS/#server-not-connecting","title":"Server not connecting","text":"<ul> <li>Ensure you ran <code>npm run build</code> after code changes</li> <li>Check the absolute path in your MCP configuration</li> <li>Look at logs for error messages: <code>LOG_LEVEL=debug npm start</code></li> </ul>"},{"location":"DEVELOPERS/#no-data-returned","title":"No data returned","text":"<ul> <li>Verify network connectivity to https://www.f5cloudstatus.com</li> <li>Check API responses with debug logging</li> <li>Test the API directly: <code>curl https://www.f5cloudstatus.com/api/v2/status.json</code></li> </ul>"},{"location":"DEVELOPERS/#playwright-browser-issues","title":"Playwright browser issues","text":"<ul> <li>Install Playwright browsers: <code>npx playwright install chromium</code></li> <li>Set <code>SCRAPER_HEADLESS=true</code> in <code>.env</code></li> <li>The scraper is only used as fallback when API fails</li> </ul>"},{"location":"DEVELOPERS/#build-errors","title":"Build errors","text":"<p>Error: <code>tsc: command not found</code></p> <p>This means dependencies are not installed. Run: <pre><code>npm install\n</code></pre></p> <p>Error: <code>EACCES: permission denied</code> during npm install</p> <p>Your npm cache has permission issues. Fix with: <pre><code>sudo chown -R $(id -u):$(id -g) \"$HOME/.npm\"\nnpm cache clean --force\nnpm install\n</code></pre></p> <p>General build troubleshooting:</p> <ul> <li>Delete <code>dist/</code> and <code>node_modules/</code></li> <li>Run <code>npm install</code> again</li> <li>Check Node.js version: <code>node --version</code> (should be &gt;= 18.0.0)</li> </ul>"},{"location":"DEVELOPERS/#release-process","title":"Release Process","text":"<p>See NPM_TRUSTED_PUBLISHING_SETUP.md for details on publishing new versions with npm Trusted Publishing.</p> <p>Quick release:</p> <pre><code># Update version\nnpm version patch  # or minor, or major\n\n# Push changes\ngit push &amp;&amp; git push --tags\n\n# Create GitHub release (triggers automated npm publish)\ngh release create v1.0.x --generate-notes\n</code></pre>"},{"location":"DEVELOPERS/#support","title":"Support","text":"<ul> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> <li>Documentation: See the documentation site</li> </ul>"},{"location":"DEVELOPERS/#license","title":"License","text":"<p>MIT - See LICENSE file for details</p>"},{"location":"IMPLEMENTATION_WORKFLOW/","title":"F5 Status MCP Server - Implementation Workflow","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#overview","title":"Overview","text":"<p>This document provides a comprehensive, step-by-step implementation plan for building the F5 Status MCP Server based on the architecture design.</p> <p>Timeline: 5 weeks Strategy: Phased implementation with progressive feature delivery Approach: Test-driven development with continuous integration</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#prerequisites","title":"Prerequisites","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#required-tools","title":"Required Tools","text":"<ul> <li>Node.js 18+ and npm/yarn</li> <li>TypeScript 5+</li> <li>Git for version control</li> <li>Claude Desktop for MCP testing</li> </ul>"},{"location":"IMPLEMENTATION_WORKFLOW/#required-knowledge","title":"Required Knowledge","text":"<ul> <li>TypeScript/JavaScript</li> <li>MCP Protocol fundamentals</li> <li>REST APIs and web scraping</li> <li>Testing frameworks (Jest)</li> </ul>"},{"location":"IMPLEMENTATION_WORKFLOW/#environment-setup-checklist","title":"Environment Setup Checklist","text":"<ul> <li>[ ] Node.js and npm installed</li> <li>[ ] TypeScript compiler installed globally</li> <li>[ ] Git repository initialized</li> <li>[ ] IDE/editor configured (VS Code recommended)</li> <li>[ ] Claude Desktop installed for testing</li> </ul>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-1-project-foundation-days-1-3","title":"Phase 1: Project Foundation (Days 1-3)","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#objective","title":"Objective","text":"<p>Set up project infrastructure and core dependencies</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#tasks","title":"Tasks","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#11-initialize-project-structure","title":"1.1 Initialize Project Structure","text":"<p>Priority: Critical Estimated Time: 2 hours</p> <pre><code># Create project directory\nmkdir f5xc-cloudstatus-mcp\ncd f5xc-cloudstatus-mcp\n\n# Initialize npm project\nnpm init -y\n\n# Initialize TypeScript\nnpx tsc --init\n\n# Initialize Git\ngit init\necho \"node_modules/\" &gt; .gitignore\necho \"dist/\" &gt;&gt; .gitignore\necho \".env\" &gt;&gt; .gitignore\n</code></pre> <p>Deliverable: Basic project skeleton with package.json and tsconfig.json</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#12-install-core-dependencies","title":"1.2 Install Core Dependencies","text":"<p>Priority: Critical Estimated Time: 1 hour</p> <pre><code># MCP SDK\nnpm install @modelcontextprotocol/sdk\n\n# HTTP client\nnpm install axios\n\n# Web scraping (fallback)\nnpm install playwright\n\n# Utilities\nnpm install dotenv\n\n# Development dependencies\nnpm install -D typescript @types/node\nnpm install -D jest @types/jest ts-jest\nnpm install -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin\nnpm install -D prettier\n</code></pre> <p>Deliverable: Complete package.json with all dependencies</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#13-configure-typescript","title":"1.3 Configure TypeScript","text":"<p>Priority: Critical Estimated Time: 30 minutes</p> <p>Update <code>tsconfig.json</code>: <pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"module\": \"commonjs\",\n    \"lib\": [\"ES2020\"],\n    \"outDir\": \"./dist\",\n    \"rootDir\": \"./src\",\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"resolveJsonModule\": true,\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true\n  },\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"dist\", \"**/*.test.ts\"]\n}\n</code></pre></p> <p>Deliverable: Configured TypeScript compiler</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#14-create-directory-structure","title":"1.4 Create Directory Structure","text":"<p>Priority: Critical Estimated Time: 30 minutes</p> <pre><code>mkdir -p src/{server,services,data-access,cache,tools,types,utils}\nmkdir -p tests/{unit,integration,e2e,fixtures}\nmkdir -p docs\n</code></pre> <p>Deliverable: Complete directory structure matching architecture</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#15-setup-testing-framework","title":"1.5 Setup Testing Framework","text":"<p>Priority: Critical Estimated Time: 1 hour</p> <p>Create <code>jest.config.js</code>: <pre><code>module.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n  roots: ['&lt;rootDir&gt;/tests'],\n  testMatch: ['**/*.test.ts'],\n  collectCoverageFrom: [\n    'src/**/*.ts',\n    '!src/**/*.d.ts',\n    '!src/types/**'\n  ],\n  coverageThreshold: {\n    global: {\n      branches: 70,\n      functions: 70,\n      lines: 70,\n      statements: 70\n    }\n  }\n};\n</code></pre></p> <p>Add test scripts to <code>package.json</code>: <pre><code>{\n  \"scripts\": {\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"build\": \"tsc\",\n    \"dev\": \"tsc --watch\",\n    \"lint\": \"eslint src/**/*.ts\",\n    \"format\": \"prettier --write src/**/*.ts\"\n  }\n}\n</code></pre></p> <p>Deliverable: Working test infrastructure</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#16-create-type-definitions","title":"1.6 Create Type Definitions","text":"<p>Priority: High Estimated Time: 2 hours</p> <p>File: <code>src/types/domain.ts</code> <pre><code>export type StatusLevel = \"operational\" | \"degraded\" | \"partial_outage\" | \"major_outage\";\nexport type IndicatorLevel = \"none\" | \"minor\" | \"major\" | \"critical\";\n\nexport interface OverallStatus {\n  status: StatusLevel;\n  indicator: IndicatorLevel;\n  description: string;\n  updated_at: string;\n}\n\nexport interface Component {\n  id: string;\n  name: string;\n  status: string;\n  group: string;\n  uptime?: string;\n  description?: string;\n  updated_at: string;\n}\n\nexport interface Incident {\n  id: string;\n  name: string;\n  status: string;\n  impact: string;\n  created_at: string;\n  updated_at: string;\n  shortlink: string;\n  updates: IncidentUpdate[];\n}\n\nexport interface IncidentUpdate {\n  status: string;\n  body: string;\n  created_at: string;\n}\n\nexport interface Maintenance {\n  id: string;\n  name: string;\n  scheduled_for: string;\n  scheduled_until: string;\n  status: string;\n  impact: string;\n  components: string[];\n  updates: IncidentUpdate[];\n}\n\nexport interface UptimeData {\n  percentage: number;\n  startDate: string;\n  endDate: string;\n  dailyStats: DailyUptimeStat[];\n}\n\nexport interface DailyUptimeStat {\n  date: string;\n  uptime: number;\n  incidents: number;\n}\n</code></pre></p> <p>File: <code>src/types/api.ts</code> <pre><code>// Raw API response types\nexport interface RawStatusResponse {\n  page: {\n    id: string;\n    name: string;\n    url: string;\n    updated_at: string;\n  };\n  status: {\n    indicator: string;\n    description: string;\n  };\n}\n\nexport interface RawComponent {\n  id: string;\n  name: string;\n  status: string;\n  created_at: string;\n  updated_at: string;\n  position: number;\n  description: string | null;\n  showcase: boolean;\n  group_id: string | null;\n  page_id: string;\n  group: boolean;\n  only_show_if_degraded: boolean;\n}\n\nexport interface RawIncident {\n  id: string;\n  name: string;\n  status: string;\n  created_at: string;\n  updated_at: string;\n  monitoring_at: string | null;\n  resolved_at: string | null;\n  impact: string;\n  shortlink: string;\n  started_at: string;\n  page_id: string;\n  incident_updates: RawIncidentUpdate[];\n}\n\nexport interface RawIncidentUpdate {\n  id: string;\n  status: string;\n  body: string;\n  incident_id: string;\n  created_at: string;\n  updated_at: string;\n  display_at: string;\n  affected_components: any[];\n}\n</code></pre></p> <p>Deliverable: Complete type definitions for domain and API models</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#17-configuration-management","title":"1.7 Configuration Management","text":"<p>Priority: High Estimated Time: 1 hour</p> <p>File: <code>src/utils/config.ts</code> <pre><code>export interface Config {\n  server: {\n    name: string;\n    version: string;\n  };\n  api: {\n    baseUrl: string;\n    timeout: number;\n    retryAttempts: number;\n    retryDelay: number;\n  };\n  scraper: {\n    baseUrl: string;\n    timeout: number;\n    headless: boolean;\n  };\n  cache: {\n    ttl: {\n      status: number;\n      components: number;\n      incidents: number;\n      maintenance: number;\n    };\n  };\n  logging: {\n    level: 'debug' | 'info' | 'warn' | 'error';\n  };\n}\n\nexport const defaultConfig: Config = {\n  server: {\n    name: \"f5xc-cloudstatus\",\n    version: \"1.0.0\"\n  },\n  api: {\n    baseUrl: process.env.API_BASE_URL || \"https://www.f5cloudstatus.com/api/v2\",\n    timeout: parseInt(process.env.API_TIMEOUT || \"10000\"),\n    retryAttempts: parseInt(process.env.API_RETRY_ATTEMPTS || \"3\"),\n    retryDelay: parseInt(process.env.API_RETRY_DELAY || \"1000\")\n  },\n  scraper: {\n    baseUrl: process.env.SCRAPER_BASE_URL || \"https://www.f5cloudstatus.com\",\n    timeout: parseInt(process.env.SCRAPER_TIMEOUT || \"30000\"),\n    headless: process.env.SCRAPER_HEADLESS !== \"false\"\n  },\n  cache: {\n    ttl: {\n      status: parseInt(process.env.CACHE_TTL_STATUS || \"30000\"),\n      components: parseInt(process.env.CACHE_TTL_COMPONENTS || \"60000\"),\n      incidents: parseInt(process.env.CACHE_TTL_INCIDENTS || \"120000\"),\n      maintenance: parseInt(process.env.CACHE_TTL_MAINTENANCE || \"300000\")\n    }\n  },\n  logging: {\n    level: (process.env.LOG_LEVEL as any) || 'info'\n  }\n};\n\nexport function loadConfig(): Config {\n  return defaultConfig;\n}\n</code></pre></p> <p>Create <code>.env.example</code>: <pre><code># API Configuration\nAPI_BASE_URL=https://www.f5cloudstatus.com/api/v2\nAPI_TIMEOUT=10000\nAPI_RETRY_ATTEMPTS=3\nAPI_RETRY_DELAY=1000\n\n# Scraper Configuration\nSCRAPER_BASE_URL=https://www.f5cloudstatus.com\nSCRAPER_TIMEOUT=30000\nSCRAPER_HEADLESS=true\n\n# Cache TTL (milliseconds)\nCACHE_TTL_STATUS=30000\nCACHE_TTL_COMPONENTS=60000\nCACHE_TTL_INCIDENTS=120000\nCACHE_TTL_MAINTENANCE=300000\n\n# Logging\nLOG_LEVEL=info\n</code></pre></p> <p>Deliverable: Configuration system with environment variable support</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#18-error-handling-foundation","title":"1.8 Error Handling Foundation","text":"<p>Priority: High Estimated Time: 1 hour</p> <p>File: <code>src/utils/errors.ts</code> <pre><code>export class F5StatusError extends Error {\n  constructor(\n    message: string,\n    public code: string,\n    public statusCode?: number\n  ) {\n    super(message);\n    this.name = 'F5StatusError';\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\nexport class APIError extends F5StatusError {\n  constructor(message: string, statusCode: number) {\n    super(message, 'API_ERROR', statusCode);\n  }\n}\n\nexport class ScraperError extends F5StatusError {\n  constructor(message: string) {\n    super(message, 'SCRAPER_ERROR');\n  }\n}\n\nexport class CacheError extends F5StatusError {\n  constructor(message: string) {\n    super(message, 'CACHE_ERROR');\n  }\n}\n\nexport class ValidationError extends F5StatusError {\n  constructor(message: string) {\n    super(message, 'VALIDATION_ERROR');\n  }\n}\n\nexport class NotFoundError extends F5StatusError {\n  constructor(resource: string) {\n    super(`${resource} not found`, 'NOT_FOUND', 404);\n  }\n}\n</code></pre></p> <p>Deliverable: Custom error classes for error handling</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#19-logging-utility","title":"1.9 Logging Utility","text":"<p>Priority: Medium Estimated Time: 1 hour</p> <p>File: <code>src/utils/logger.ts</code> <pre><code>export enum LogLevel {\n  DEBUG = 0,\n  INFO = 1,\n  WARN = 2,\n  ERROR = 3\n}\n\nexport class Logger {\n  private level: LogLevel;\n\n  constructor(level: LogLevel = LogLevel.INFO) {\n    this.level = level;\n  }\n\n  setLevel(level: LogLevel): void {\n    this.level = level;\n  }\n\n  debug(message: string, meta?: any): void {\n    if (this.level &lt;= LogLevel.DEBUG) {\n      console.log(`[DEBUG] ${new Date().toISOString()} - ${message}`, meta || '');\n    }\n  }\n\n  info(message: string, meta?: any): void {\n    if (this.level &lt;= LogLevel.INFO) {\n      console.log(`[INFO] ${new Date().toISOString()} - ${message}`, meta || '');\n    }\n  }\n\n  warn(message: string, meta?: any): void {\n    if (this.level &lt;= LogLevel.WARN) {\n      console.warn(`[WARN] ${new Date().toISOString()} - ${message}`, meta || '');\n    }\n  }\n\n  error(message: string, error?: Error, meta?: any): void {\n    if (this.level &lt;= LogLevel.ERROR) {\n      console.error(`[ERROR] ${new Date().toISOString()} - ${message}`, {\n        error: error?.message,\n        stack: error?.stack,\n        ...meta\n      });\n    }\n  }\n}\n\n// Global logger instance\nexport const logger = new Logger();\n</code></pre></p> <p>Deliverable: Logging utility with level support</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-1-validation","title":"Phase 1 Validation","text":"<p>Checklist: - [ ] Project initialized with all dependencies - [ ] TypeScript compiles without errors - [ ] Test framework runs successfully - [ ] Directory structure matches architecture - [ ] All type definitions created - [ ] Configuration system functional - [ ] Error classes defined - [ ] Logger utility working</p> <p>Command to validate: <pre><code>npm run build\nnpm test\nnpm run lint\n</code></pre></p>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-2-data-access-layer-days-4-7","title":"Phase 2: Data Access Layer (Days 4-7)","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#objective_1","title":"Objective","text":"<p>Implement API client and web scraper with caching</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#tasks_1","title":"Tasks","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#21-implement-cache-service","title":"2.1 Implement Cache Service","text":"<p>Priority: Critical Estimated Time: 3 hours</p> <p>File: <code>src/cache/cache-service.ts</code> <pre><code>import { CacheError } from '../utils/errors';\nimport { logger } from '../utils/logger';\n\nexport interface CacheEntry&lt;T&gt; {\n  data: T;\n  expiry: number;\n}\n\nexport class CacheService {\n  private cache = new Map&lt;string, CacheEntry&lt;any&gt;&gt;();\n\n  async get&lt;T&gt;(\n    key: string,\n    ttl: number,\n    fetcher: () =&gt; Promise&lt;T&gt;\n  ): Promise&lt;T&gt; {\n    try {\n      const cached = this.cache.get(key);\n\n      if (cached &amp;&amp; cached.expiry &gt; Date.now()) {\n        logger.debug(`Cache hit for key: ${key}`);\n        return cached.data;\n      }\n\n      logger.debug(`Cache miss for key: ${key}`);\n      const data = await fetcher();\n\n      this.cache.set(key, {\n        data,\n        expiry: Date.now() + ttl\n      });\n\n      return data;\n    } catch (error) {\n      throw new CacheError(`Failed to get cached data for ${key}: ${error.message}`);\n    }\n  }\n\n  invalidate(key: string): void {\n    this.cache.delete(key);\n    logger.debug(`Cache invalidated for key: ${key}`);\n  }\n\n  clear(): void {\n    this.cache.clear();\n    logger.info('Cache cleared');\n  }\n\n  getStats(): { size: number; keys: string[] } {\n    return {\n      size: this.cache.size,\n      keys: Array.from(this.cache.keys())\n    };\n  }\n}\n</code></pre></p> <p>Test: <code>tests/unit/cache/cache-service.test.ts</code> <pre><code>import { CacheService } from '../../../src/cache/cache-service';\n\ndescribe('CacheService', () =&gt; {\n  let cache: CacheService;\n\n  beforeEach(() =&gt; {\n    cache = new CacheService();\n  });\n\n  test('returns cached data on cache hit', async () =&gt; {\n    const fetcher = jest.fn().mockResolvedValue({ data: 'test' });\n\n    const result1 = await cache.get('test-key', 1000, fetcher);\n    const result2 = await cache.get('test-key', 1000, fetcher);\n\n    expect(result1).toEqual({ data: 'test' });\n    expect(result2).toEqual({ data: 'test' });\n    expect(fetcher).toHaveBeenCalledTimes(1);\n  });\n\n  test('fetches fresh data on cache miss', async () =&gt; {\n    const fetcher = jest.fn().mockResolvedValue({ data: 'fresh' });\n\n    const result = await cache.get('new-key', 1000, fetcher);\n\n    expect(result).toEqual({ data: 'fresh' });\n    expect(fetcher).toHaveBeenCalledTimes(1);\n  });\n\n  test('invalidates cache entry', async () =&gt; {\n    const fetcher = jest.fn().mockResolvedValue({ data: 'test' });\n\n    await cache.get('test-key', 1000, fetcher);\n    cache.invalidate('test-key');\n    await cache.get('test-key', 1000, fetcher);\n\n    expect(fetcher).toHaveBeenCalledTimes(2);\n  });\n});\n</code></pre></p> <p>Deliverable: Functional cache service with tests</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#22-implement-api-client","title":"2.2 Implement API Client","text":"<p>Priority: Critical Estimated Time: 4 hours</p> <p>File: <code>src/data-access/api-client.ts</code> <pre><code>import axios, { AxiosInstance } from 'axios';\nimport { APIError } from '../utils/errors';\nimport { logger } from '../utils/logger';\nimport { Config } from '../utils/config';\nimport {\n  RawStatusResponse,\n  RawComponent,\n  RawIncident\n} from '../types/api';\n\nexport class APIClient {\n  private client: AxiosInstance;\n  private config: Config['api'];\n\n  constructor(config: Config['api']) {\n    this.config = config;\n    this.client = axios.create({\n      baseURL: config.baseUrl,\n      timeout: config.timeout,\n      headers: {\n        'Accept': 'application/json',\n        'User-Agent': 'F5StatusMCP/1.0'\n      }\n    });\n  }\n\n  async fetchStatus(): Promise&lt;RawStatusResponse&gt; {\n    return this.request&lt;RawStatusResponse&gt;('/status.json');\n  }\n\n  async fetchComponents(): Promise&lt;RawComponent[]&gt; {\n    const response = await this.request&lt;{ components: RawComponent[] }&gt;('/components.json');\n    return response.components;\n  }\n\n  async fetchIncidents(): Promise&lt;RawIncident[]&gt; {\n    const response = await this.request&lt;{ incidents: RawIncident[] }&gt;('/incidents.json');\n    return response.incidents;\n  }\n\n  async fetchScheduledMaintenances(): Promise&lt;any[]&gt; {\n    const response = await this.request&lt;{ scheduled_maintenances: any[] }&gt;(\n      '/scheduled-maintenances.json'\n    );\n    return response.scheduled_maintenances;\n  }\n\n  async fetchSummary(): Promise&lt;any&gt; {\n    return this.request&lt;any&gt;('/summary.json');\n  }\n\n  private async request&lt;T&gt;(endpoint: string): Promise&lt;T&gt; {\n    return this.retry(\n      async () =&gt; {\n        try {\n          logger.debug(`API request: ${endpoint}`);\n          const response = await this.client.get&lt;T&gt;(endpoint);\n          logger.debug(`API response received for: ${endpoint}`);\n          return response.data;\n        } catch (error) {\n          if (axios.isAxiosError(error)) {\n            const statusCode = error.response?.status || 500;\n            throw new APIError(\n              `API request failed: ${error.message}`,\n              statusCode\n            );\n          }\n          throw error;\n        }\n      },\n      this.config.retryAttempts\n    );\n  }\n\n  private async retry&lt;T&gt;(\n    fn: () =&gt; Promise&lt;T&gt;,\n    attempts: number\n  ): Promise&lt;T&gt; {\n    let lastError: Error;\n\n    for (let i = 0; i &lt; attempts; i++) {\n      try {\n        return await fn();\n      } catch (error) {\n        lastError = error;\n        if (i &lt; attempts - 1) {\n          const delay = this.config.retryDelay * Math.pow(2, i);\n          logger.warn(`Request failed, retrying in ${delay}ms...`, {\n            attempt: i + 1,\n            maxAttempts: attempts\n          });\n          await new Promise(resolve =&gt; setTimeout(resolve, delay));\n        }\n      }\n    }\n\n    throw lastError!;\n  }\n}\n</code></pre></p> <p>Test: <code>tests/unit/data-access/api-client.test.ts</code> <pre><code>import axios from 'axios';\nimport { APIClient } from '../../../src/data-access/api-client';\nimport { APIError } from '../../../src/utils/errors';\n\njest.mock('axios');\nconst mockedAxios = axios as jest.Mocked&lt;typeof axios&gt;;\n\ndescribe('APIClient', () =&gt; {\n  let client: APIClient;\n\n  beforeEach(() =&gt; {\n    const mockCreate = jest.fn().mockReturnValue({\n      get: jest.fn()\n    });\n    mockedAxios.create = mockCreate;\n\n    client = new APIClient({\n      baseUrl: 'https://example.com/api',\n      timeout: 5000,\n      retryAttempts: 2,\n      retryDelay: 100\n    });\n  });\n\n  test('fetchStatus returns status data', async () =&gt; {\n    const mockData = {\n      status: { indicator: 'none', description: 'All Systems Operational' }\n    };\n\n    (client as any).client.get = jest.fn().mockResolvedValue({ data: mockData });\n\n    const result = await client.fetchStatus();\n\n    expect(result).toEqual(mockData);\n  });\n\n  test('retries on failure', async () =&gt; {\n    const mockGet = jest.fn()\n      .mockRejectedValueOnce(new Error('Network error'))\n      .mockResolvedValueOnce({ data: { status: 'ok' } });\n\n    (client as any).client.get = mockGet;\n\n    const result = await client.fetchStatus();\n\n    expect(mockGet).toHaveBeenCalledTimes(2);\n    expect(result).toEqual({ status: 'ok' });\n  });\n});\n</code></pre></p> <p>Deliverable: API client with retry logic and tests</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#23-implement-web-scraper-fallback","title":"2.3 Implement Web Scraper (Fallback)","text":"<p>Priority: High Estimated Time: 6 hours</p> <p>File: <code>src/data-access/web-scraper.ts</code> <pre><code>import { chromium, Browser, Page } from 'playwright';\nimport { ScraperError } from '../utils/errors';\nimport { logger } from '../utils/logger';\nimport { Config } from '../utils/config';\nimport {\n  RawStatusResponse,\n  RawComponent\n} from '../types/api';\n\nexport class WebScraper {\n  private config: Config['scraper'];\n  private browser: Browser | null = null;\n\n  constructor(config: Config['scraper']) {\n    this.config = config;\n  }\n\n  async scrapeStatus(): Promise&lt;RawStatusResponse&gt; {\n    const page = await this.getPage();\n\n    try {\n      await page.goto(this.config.baseUrl, {\n        waitUntil: 'networkidle',\n        timeout: this.config.timeout\n      });\n\n      const data = await page.evaluate(() =&gt; {\n        const statusEl = document.querySelector('h2');\n        const status = statusEl?.textContent?.trim() || '';\n\n        return {\n          page: {\n            id: 'scraped',\n            name: 'F5 Status',\n            url: window.location.href,\n            updated_at: new Date().toISOString()\n          },\n          status: {\n            indicator: status.includes('Operational') ? 'none' : 'major',\n            description: status\n          }\n        };\n      });\n\n      logger.debug('Scraped status data');\n      return data;\n    } catch (error) {\n      throw new ScraperError(`Failed to scrape status: ${error.message}`);\n    } finally {\n      await page.close();\n    }\n  }\n\n  async scrapeComponents(): Promise&lt;RawComponent[]&gt; {\n    const page = await this.getPage();\n\n    try {\n      await page.goto(this.config.baseUrl, {\n        waitUntil: 'networkidle',\n        timeout: this.config.timeout\n      });\n\n      const components = await page.evaluate(() =&gt; {\n        const containers = document.querySelectorAll('[data-component-id]');\n        const results: any[] = [];\n\n        containers.forEach(comp =&gt; {\n          const id = comp.getAttribute('data-component-id') || '';\n          const nameEl = comp.querySelector('.name');\n          const statusEl = comp.querySelector('.component-status');\n\n          results.push({\n            id,\n            name: nameEl?.textContent?.trim() || '',\n            status: statusEl?.textContent?.trim() || '',\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString(),\n            position: 0,\n            description: null,\n            showcase: false,\n            group_id: null,\n            page_id: 'scraped',\n            group: false,\n            only_show_if_degraded: false\n          });\n        });\n\n        return results;\n      });\n\n      logger.debug(`Scraped ${components.length} components`);\n      return components;\n    } catch (error) {\n      throw new ScraperError(`Failed to scrape components: ${error.message}`);\n    } finally {\n      await page.close();\n    }\n  }\n\n  private async getPage(): Promise&lt;Page&gt; {\n    if (!this.browser) {\n      this.browser = await chromium.launch({\n        headless: this.config.headless\n      });\n    }\n\n    return this.browser.newPage();\n  }\n\n  async close(): Promise&lt;void&gt; {\n    if (this.browser) {\n      await this.browser.close();\n      this.browser = null;\n    }\n  }\n}\n</code></pre></p> <p>Deliverable: Web scraper with Playwright</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#24-data-access-facade","title":"2.4 Data Access Facade","text":"<p>Priority: Critical Estimated Time: 2 hours</p> <p>File: <code>src/data-access/index.ts</code> <pre><code>import { APIClient } from './api-client';\nimport { WebScraper } from './web-scraper';\nimport { logger } from '../utils/logger';\nimport {\n  RawStatusResponse,\n  RawComponent,\n  RawIncident\n} from '../types/api';\n\nexport class DataAccessLayer {\n  constructor(\n    private apiClient: APIClient,\n    private webScraper: WebScraper,\n    private preferAPI: boolean = true\n  ) {}\n\n  async fetchStatus(): Promise&lt;RawStatusResponse&gt; {\n    if (this.preferAPI) {\n      try {\n        return await this.apiClient.fetchStatus();\n      } catch (error) {\n        logger.warn('API failed, falling back to scraper for status');\n      }\n    }\n\n    return await this.webScraper.scrapeStatus();\n  }\n\n  async fetchComponents(): Promise&lt;RawComponent[]&gt; {\n    if (this.preferAPI) {\n      try {\n        return await this.apiClient.fetchComponents();\n      } catch (error) {\n        logger.warn('API failed, falling back to scraper for components');\n      }\n    }\n\n    return await this.webScraper.scrapeComponents();\n  }\n\n  async fetchIncidents(): Promise&lt;RawIncident[]&gt; {\n    return await this.apiClient.fetchIncidents();\n  }\n\n  async fetchScheduledMaintenances(): Promise&lt;any[]&gt; {\n    return await this.apiClient.fetchScheduledMaintenances();\n  }\n\n  async close(): Promise&lt;void&gt; {\n    await this.webScraper.close();\n  }\n}\n</code></pre></p> <p>Deliverable: Data access facade with fallback logic</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-2-validation","title":"Phase 2 Validation","text":"<p>Checklist: - [ ] Cache service implemented and tested - [ ] API client implemented with retry logic - [ ] Web scraper implemented with Playwright - [ ] Data access facade provides fallback - [ ] All unit tests passing - [ ] Integration tests for API client working</p> <p>Command to validate: <pre><code>npm test -- tests/unit/cache\nnpm test -- tests/unit/data-access\nnpm run build\n</code></pre></p>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-3-business-logic-days-8-12","title":"Phase 3: Business Logic (Days 8-12)","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#objective_2","title":"Objective","text":"<p>Implement core services (Status, Component, Incident)</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#tasks_2","title":"Tasks","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#31-status-service","title":"3.1 Status Service","text":"<p>Priority: Critical Estimated Time: 3 hours</p> <p>File: <code>src/services/status-service.ts</code> <pre><code>import { DataAccessLayer } from '../data-access';\nimport { CacheService } from '../cache/cache-service';\nimport { OverallStatus, StatusLevel, IndicatorLevel } from '../types/domain';\nimport { Config } from '../utils/config';\n\nexport class StatusService {\n  constructor(\n    private dataAccess: DataAccessLayer,\n    private cache: CacheService,\n    private config: Config\n  ) {}\n\n  async getOverallStatus(): Promise&lt;OverallStatus&gt; {\n    return this.cache.get(\n      'overall-status',\n      this.config.cache.ttl.status,\n      async () =&gt; {\n        const rawStatus = await this.dataAccess.fetchStatus();\n\n        return {\n          status: this.mapStatus(rawStatus.status.indicator),\n          indicator: this.mapIndicator(rawStatus.status.indicator),\n          description: rawStatus.status.description,\n          updated_at: rawStatus.page.updated_at\n        };\n      }\n    );\n  }\n\n  private mapStatus(indicator: string): StatusLevel {\n    switch (indicator.toLowerCase()) {\n      case 'none':\n        return 'operational';\n      case 'minor':\n        return 'degraded';\n      case 'major':\n        return 'partial_outage';\n      case 'critical':\n        return 'major_outage';\n      default:\n        return 'operational';\n    }\n  }\n\n  private mapIndicator(indicator: string): IndicatorLevel {\n    const normalized = indicator.toLowerCase();\n    if (['none', 'minor', 'major', 'critical'].includes(normalized)) {\n      return normalized as IndicatorLevel;\n    }\n    return 'none';\n  }\n}\n</code></pre></p> <p>Test: <code>tests/unit/services/status-service.test.ts</code></p> <p>Deliverable: Status service with caching</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#32-component-service","title":"3.2 Component Service","text":"<p>Priority: Critical Estimated Time: 5 hours</p> <p>File: <code>src/services/component-service.ts</code></p> <p>Deliverable: Component service with filtering and uptime</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#33-incident-service","title":"3.3 Incident Service","text":"<p>Priority: Critical Estimated Time: 5 hours</p> <p>File: <code>src/services/incident-service.ts</code></p> <p>Deliverable: Incident service with maintenance support</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-3-validation","title":"Phase 3 Validation","text":"<p>Checklist: - [ ] All three services implemented - [ ] Services properly use caching - [ ] Data transformation logic correct - [ ] Unit tests for all services passing - [ ] Integration tests working</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-4-mcp-integration-days-13-17","title":"Phase 4: MCP Integration (Days 13-17)","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#objective_3","title":"Objective","text":"<p>Implement MCP server and tool handlers</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#tasks_3","title":"Tasks","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#41-tool-definitions","title":"4.1 Tool Definitions","text":"<p>Priority: Critical Estimated Time: 2 hours</p> <p>File: <code>src/tools/index.ts</code></p> <p>Deliverable: All 6 tool definitions</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#42-tool-handler","title":"4.2 Tool Handler","text":"<p>Priority: Critical Estimated Time: 4 hours</p> <p>File: <code>src/tools/handler.ts</code></p> <p>Deliverable: Tool execution logic</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#43-mcp-server","title":"4.3 MCP Server","text":"<p>Priority: Critical Estimated Time: 6 hours</p> <p>File: <code>src/server/index.ts</code></p> <p>Deliverable: Complete MCP server</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-4-validation","title":"Phase 4 Validation","text":"<p>Checklist: - [ ] MCP server starts successfully - [ ] All tools registered - [ ] Tool handler processes requests - [ ] Responses formatted correctly - [ ] E2E tests passing</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#phase-5-testing-documentation-days-18-25","title":"Phase 5: Testing &amp; Documentation (Days 18-25)","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#objective_4","title":"Objective","text":"<p>Complete test coverage and documentation</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#tasks_4","title":"Tasks","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#51-integration-tests","title":"5.1 Integration Tests","text":"<p>Priority: High Estimated Time: 8 hours</p> <p>Deliverable: Complete integration test suite</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#52-e2e-tests","title":"5.2 E2E Tests","text":"<p>Priority: High Estimated Time: 6 hours</p> <p>Deliverable: E2E tests with real MCP protocol</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#53-documentation","title":"5.3 Documentation","text":"<p>Priority: Medium Estimated Time: 6 hours</p> <p>Files: - README.md - API.md - CONTRIBUTING.md - CHANGELOG.md</p> <p>Deliverable: Complete documentation</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#54-performance-testing","title":"5.4 Performance Testing","text":"<p>Priority: Medium Estimated Time: 4 hours</p> <p>Deliverable: Performance benchmarks</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#deployment-checklist","title":"Deployment Checklist","text":"<ul> <li>[ ] Build process works (<code>npm run build</code>)</li> <li>[ ] All tests pass (<code>npm test</code>)</li> <li>[ ] Linting passes (<code>npm run lint</code>)</li> <li>[ ] Code formatted (<code>npm run format</code>)</li> <li>[ ] Documentation complete</li> <li>[ ] package.json metadata updated</li> <li>[ ] README with installation instructions</li> <li>[ ] Claude Desktop configuration documented</li> <li>[ ] Example usage provided</li> <li>[ ] Error scenarios tested</li> </ul>"},{"location":"IMPLEMENTATION_WORKFLOW/#success-criteria","title":"Success Criteria","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#functional-requirements","title":"Functional Requirements","text":"<p>\u2705 All 6 MCP tools implemented and working \u2705 API client with retry logic \u2705 Web scraper fallback functional \u2705 Caching reduces API calls \u2705 Error handling comprehensive</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#quality-requirements","title":"Quality Requirements","text":"<p>\u2705 Test coverage &gt; 70% \u2705 No TypeScript errors \u2705 Linting passes \u2705 Documentation complete</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#performance-requirements","title":"Performance Requirements","text":"<p>\u2705 Overall status &lt; 1s response time \u2705 Component list &lt; 2s response time \u2705 Cache hit rate &gt; 80%</p>"},{"location":"IMPLEMENTATION_WORKFLOW/#post-implementation","title":"Post-Implementation","text":""},{"location":"IMPLEMENTATION_WORKFLOW/#maintenance-tasks","title":"Maintenance Tasks","text":"<ul> <li>Monitor error logs</li> <li>Update dependencies</li> <li>Respond to API changes</li> <li>Add new features as requested</li> </ul>"},{"location":"IMPLEMENTATION_WORKFLOW/#future-enhancements","title":"Future Enhancements","text":"<ul> <li>Historical data storage</li> <li>Webhook notifications</li> <li>Dashboard visualization</li> <li>Multi-region support</li> </ul>"},{"location":"MCPB_PUBLISHING/","title":"MCPB Package Publishing with GitHub Actions","text":"<p>This repository uses GitHub Actions to automatically build and publish MCPB (MCP Bundle) packages without committing the large (~35MB) package file to the repository.</p>"},{"location":"MCPB_PUBLISHING/#overview","title":"\ud83d\udccb Overview","text":"<p>Two workflows handle the MCPB package lifecycle:</p> <ol> <li>Build MCPB Package (<code>build-mcpb.yml</code>) - Builds and validates on every push</li> <li>Build and Publish MCPB Package (<code>publish-mcpb.yml</code>) - Publishes to GitHub Releases on version tags</li> </ol>"},{"location":"MCPB_PUBLISHING/#quick-start","title":"\ud83d\ude80 Quick Start","text":""},{"location":"MCPB_PUBLISHING/#prerequisites","title":"Prerequisites","text":"<ol> <li>Ensure your repository has a valid <code>manifest.json</code> in the root</li> <li>Ensure <code>package.json</code> is properly configured</li> <li>All dependencies listed in <code>package.json</code></li> </ol>"},{"location":"MCPB_PUBLISHING/#publishing-a-new-release","title":"Publishing a New Release","text":""},{"location":"MCPB_PUBLISHING/#method-1-automatic-recommended","title":"Method 1: Automatic (Recommended)","text":"<ol> <li> <p>Update version in <code>package.json</code>:    <pre><code>npm version patch  # or minor, major\n</code></pre></p> </li> <li> <p>Push the version tag:    <pre><code>git push origin v1.0.0\n</code></pre></p> </li> <li> <p>GitHub Actions automatically:</p> </li> <li>Builds the MCPB package</li> <li>Creates a GitHub Release</li> <li>Attaches the <code>.mcpb</code> file</li> <li>Generates release notes</li> </ol>"},{"location":"MCPB_PUBLISHING/#method-2-manual-trigger","title":"Method 2: Manual Trigger","text":"<ol> <li>Go to Actions tab in GitHub</li> <li>Select Build and Publish MCPB Package</li> <li>Click Run workflow</li> <li>Enter the version number (e.g., <code>1.0.0</code>)</li> <li>Click Run workflow</li> </ol>"},{"location":"MCPB_PUBLISHING/#workflow-files","title":"\ud83d\udcc1 Workflow Files","text":""},{"location":"MCPB_PUBLISHING/#githubworkflowsbuild-mcpbyml","title":"<code>.github/workflows/build-mcpb.yml</code>","text":"<p>Triggers: Push to <code>main</code> or <code>develop</code>, Pull Requests</p> <p>Purpose: Continuous validation</p> <p>Actions: - \u2705 Validates <code>manifest.json</code> syntax - \ud83d\udd28 Builds MCPB package - \u2714\ufe0f Verifies package integrity - \ud83d\udce6 Uploads build artifact (7-day retention) - \ud83d\udcca Generates build summary</p>"},{"location":"MCPB_PUBLISHING/#githubworkflowspublish-mcpbyml","title":"<code>.github/workflows/publish-mcpb.yml</code>","text":"<p>Triggers:  - Push of version tags (e.g., <code>v1.0.0</code>) - Manual workflow dispatch</p> <p>Purpose: Release publication</p> <p>Actions: - \ud83d\udd28 Builds MCPB package - \ud83c\udff7\ufe0f Extracts version info - \ud83d\udcdd Generates release notes - \ud83d\ude80 Creates GitHub Release - \ud83d\udce6 Attaches <code>.mcpb</code> file - \ud83d\udcbe Archives artifact (30-day retention)</p>"},{"location":"MCPB_PUBLISHING/#local-testing","title":"\ud83d\udee0\ufe0f Local Testing","text":"<p>Test the build locally before pushing:</p> <pre><code># Install MCPB CLI\nnpm install -g @anthropic-ai/mcpb\n\n# Install dependencies\nnpm ci\n\n# Build the package\nmcpb pack\n\n# Verify the output\nls -lh *.mcpb\n</code></pre>"},{"location":"MCPB_PUBLISHING/#release-notes","title":"\ud83d\udcdd Release Notes","text":"<p>Release notes are automatically generated with: - Installation instructions - Feature highlights - Links to documentation - NPM package reference</p>"},{"location":"MCPB_PUBLISHING/#security","title":"\ud83d\udd12 Security","text":"<p>The workflows use: - <code>permissions: contents: write</code> (minimal required) - <code>GITHUB_TOKEN</code> (automatic, no secrets needed) - Artifact retention limits - Secure checkout actions</p>"},{"location":"MCPB_PUBLISHING/#github-releases","title":"\ud83d\udce6 GitHub Releases","text":"<p>After publishing, users can:</p> <ol> <li>One-click installation: Download <code>.mcpb</code> and double-click</li> <li>Direct download: Get specific versions from Releases</li> <li>NPX installation: Use <code>npx ///f5xc-cloudstatus-mcp@latest</code></li> </ol>"},{"location":"MCPB_PUBLISHING/#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":""},{"location":"MCPB_PUBLISHING/#build-fails-with-no-mcpb-file-found","title":"Build fails with \"No .mcpb file found\"","text":"<ul> <li>Verify <code>manifest.json</code> exists and is valid</li> <li>Check <code>mcpb pack</code> runs locally without errors</li> <li>Review the build logs in GitHub Actions</li> </ul>"},{"location":"MCPB_PUBLISHING/#version-tag-doesnt-trigger-publish","title":"Version tag doesn't trigger publish","text":"<ul> <li>Ensure tag format is <code>v*.*.*</code> (e.g., <code>v1.0.0</code>)</li> <li>Check if tag was pushed: <code>git push origin --tags</code></li> <li>Verify workflow file is in <code>.github/workflows/</code></li> </ul>"},{"location":"MCPB_PUBLISHING/#package-size-too-large","title":"Package size too large","text":"<ul> <li>Review <code>node_modules</code> - use <code>--production</code> flag</li> <li>Check for unnecessary files in the bundle</li> <li>Consider <code>.mcpbignore</code> file (similar to <code>.npmignore</code>)</li> </ul>"},{"location":"MCPB_PUBLISHING/#additional-resources","title":"\ud83d\udcd6 Additional Resources","text":"<ul> <li>MCPB Specification</li> <li>Manifest Documentation</li> <li>MCPB Examples</li> <li>GitHub Actions Documentation</li> </ul>"},{"location":"MCPB_PUBLISHING/#contributing","title":"\ud83e\udd1d Contributing","text":"<p>When contributing:</p> <ol> <li>Changes trigger automatic builds</li> <li>PR builds validate package creation</li> <li>Merge to <code>main</code> creates development build</li> <li>Version tags create public releases</li> </ol>"},{"location":"MCPB_PUBLISHING/#workflow-status","title":"\ud83d\udccb Workflow Status","text":"<p>Check the status of workflows:</p> <pre><code># View recent workflow runs\ngh run list\n\n# View specific workflow\ngh run view [RUN_ID]\n</code></pre>"},{"location":"MCPB_PUBLISHING/#best-practices","title":"\ud83c\udfaf Best Practices","text":"<ol> <li>Version tags: Always use semantic versioning (v1.0.0, v1.2.3)</li> <li>Test locally: Run <code>mcpb pack</code> before pushing</li> <li>Update changelog: Document changes before releases</li> <li>Validate manifest: Ensure JSON is valid before committing</li> <li>Review artifacts: Check build artifacts in Actions tab</li> </ol>"},{"location":"MCPB_PUBLISHING/#versioning-strategy","title":"\ud83d\udd04 Versioning Strategy","text":"<pre><code># Patch release (bug fixes): 1.0.0 \u2192 1.0.1\nnpm version patch\n\n# Minor release (new features): 1.0.1 \u2192 1.1.0  \nnpm version minor\n\n# Major release (breaking changes): 1.1.0 \u2192 2.0.0\nnpm version major\n\n# Push the created tag\ngit push origin [TAG_NAME]\n</code></pre>"},{"location":"MCPB_PUBLISHING/#support","title":"\ud83d\udcde Support","text":"<p>For issues: - GitHub Issues: Repository Issues - Workflow problems: Check Actions tab logs - MCPB format: See anthropics/mcpb</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/","title":"NPM Trusted Publishing Setup Guide","text":"<p>This guide explains how to set up npm Trusted Publishing with OpenID Connect (OIDC) for automated, secure package publishing from GitHub Actions.</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#what-is-trusted-publishing","title":"What is Trusted Publishing?","text":"<p>npm Trusted Publishing (Generally Available since July 2025) allows you to publish packages from GitHub Actions without storing npm tokens. Instead, it uses OpenID Connect (OIDC) for authentication, providing:</p> <p>\u2705 No token management - No need to store, rotate, or expose npm tokens \u2705 Automatic provenance - Cryptographic proof of source and build environment \u2705 Enhanced security - Short-lived, workflow-specific credentials \u2705 Supply chain integrity - Verifiable build attestations via Sigstore</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#prerequisites","title":"Prerequisites","text":"<ul> <li>npm CLI v11.5.1 or later (used in GitHub Actions)</li> <li>Your package must be built on GitHub-hosted runners (not self-hosted)</li> <li>Repository must be public (provenance not available for private repos)</li> </ul>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#setup-steps","title":"Setup Steps","text":""},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#step-1-configure-npm-trusted-publisher","title":"Step 1: Configure npm Trusted Publisher","text":"<ol> <li>Go to your package settings on npm:</li> <li>Visit: https://www.npmjs.com/package//f5xc-cloudstatus-mcp/access</li> <li> <p>Or navigate to: Package \u2192 Settings \u2192 Publishing Access</p> </li> <li> <p>Add a Trusted Publisher:</p> </li> <li>Click \"Add Trusted Publisher\"</li> <li>Select \"GitHub Actions\"</li> <li>Fill in the details:</li> </ol> <pre><code>Organization/User: robinmordasiewicz\nRepository: f5xc-cloudstatus-mcp\nWorkflow filename: publish.yml\nEnvironment name: npm-production (optional but recommended)\n</code></pre> <ol> <li>Save the configuration</li> </ol>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#step-2-create-github-environment-recommended","title":"Step 2: Create GitHub Environment (Recommended)","text":"<p>Using a GitHub environment adds an extra security layer and matches the npm configuration.</p> <ol> <li>Go to your GitHub repository:</li> <li>Navigate to: Settings \u2192 Environments</li> <li> <p>Click \"New environment\"</p> </li> <li> <p>Create environment:</p> </li> <li>Name: <code>npm-production</code></li> <li> <p>(Optional) Add protection rules:</p> <ul> <li>Required reviewers</li> <li>Wait timer</li> <li>Deployment branches (e.g., only <code>main</code>)</li> </ul> </li> <li> <p>Save the environment</p> </li> </ol>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#step-3-github-actions-workflow","title":"Step 3: GitHub Actions Workflow","text":"<p>The workflow is already configured in <code>.github/workflows/publish.yml</code></p> <p>Key requirements: <pre><code>permissions:\n  id-token: write  # Required for OIDC\n  attestations: write  # Required for provenance\n\nenvironment: npm-production  # Must match npm configuration\n</code></pre></p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#step-4-test-the-workflow","title":"Step 4: Test the Workflow","text":"<ol> <li> <p>Create a new release: <pre><code># Update version\nnpm version patch  # or minor, or major\n\n# Push changes and tags\ngit push &amp;&amp; git push --tags\n\n# Create GitHub release\ngh release create v1.0.2 --generate-notes\n</code></pre></p> </li> <li> <p>Monitor the workflow:</p> </li> <li>Go to Actions tab in GitHub</li> <li>Watch the \"Publish to npm with Trusted Publishing\" workflow</li> <li> <p>Verify successful completion</p> </li> <li> <p>Verify provenance: <pre><code>npm audit signatures --package-lock-only f5xc-cloudstatus-mcp\n</code></pre></p> </li> </ol>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#workflow-configuration","title":"Workflow Configuration","text":""},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#trusted-publishing-with-oidc-publishyml","title":"Trusted Publishing with OIDC (publish.yml)","text":"<p>No tokens required! Authentication via OIDC with automatic provenance attestations.</p> <p>Setup required: - Configure Trusted Publisher on npm (see Step 1) - (Optional) Create GitHub environment (see Step 2)</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#workflow-triggers","title":"Workflow Triggers","text":"<p>The workflow triggers on: <pre><code>on:\n  release:\n    types: [created]\n</code></pre></p> <p>To publish: <pre><code># 1. Update version\nnpm version patch\n\n# 2. Push changes\ngit push &amp;&amp; git push --tags\n\n# 3. Create GitHub release\ngh release create v1.0.2 --generate-notes\n</code></pre></p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#environment-configuration","title":"Environment Configuration","text":""},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#why-use-a-github-environment","title":"Why use a GitHub Environment?","text":"<ol> <li>Additional security controls:</li> <li>Require manual approval before publishing</li> <li>Restrict which branches can publish</li> <li> <p>Add deployment protection rules</p> </li> <li> <p>Matches npm trusted publisher configuration:</p> </li> <li>Environment name must match exactly</li> <li>Provides audit trail</li> <li>Clear separation of deployment contexts</li> </ol>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#environment-name","title":"Environment Name","text":"<p>The environment name <code>npm-production</code> is: - \u2705 Optional for basic trusted publishing - \u2705 Recommended for production packages - \u26a0\ufe0f Must match if you specify it in npm trusted publisher config</p> <p>If you don't want to use environments: 1. Remove <code>environment: npm-production</code> from the workflow 2. Don't specify environment name in npm trusted publisher setup</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#troubleshooting","title":"Troubleshooting","text":""},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#workflow-fails-with-unable-to-authenticate","title":"Workflow fails with \"Unable to authenticate\"","text":"<p>Solution: - Verify trusted publisher is configured on npm - Check that organization/repository/workflow filename match exactly - Ensure <code>id-token: write</code> permission is set</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#provenance-not-appearing","title":"Provenance not appearing","text":"<p>Solution: - Use GitHub-hosted runners (not self-hosted) - Ensure repository is public - Verify npm CLI version &gt;= 11.5.1</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#environment-not-found","title":"Environment not found","text":"<p>Solution: - Create environment in GitHub Settings \u2192 Environments - Ensure name matches exactly: <code>npm-production</code> - Or remove <code>environment:</code> from workflow if not using</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>\u2705 Use Trusted Publishing (OIDC) instead of tokens</li> <li>\u2705 Enable GitHub environment protection for production</li> <li>\u2705 Require code review before releases</li> <li>\u2705 Use branch protection on main/master</li> <li>\u2705 Monitor npm audit signatures for package verification</li> </ol>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#migration-from-token-based-publishing","title":"Migration from Token-based Publishing","text":"<p>If you're currently using npm tokens:</p> <ol> <li>Add Trusted Publisher on npm (don't remove token yet)</li> <li>Test the OIDC workflow with a new release</li> <li>Verify provenance is working correctly</li> <li>Remove npm token from GitHub Secrets</li> <li>Delete old token-based workflow if you have one</li> </ol>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#verifying-published-packages","title":"Verifying Published Packages","text":"<p>Users can verify your package provenance:</p> <pre><code># Install and verify\nnpm install /f5xc-cloudstatus-mcp\nnpm audit signatures\n\n# Or verify specific version\nnpm audit signatures f5xc-cloudstatus-mcp@1.0.1\n</code></pre> <p>This shows: - \u2705 Package signature verification - \u2705 Build provenance attestation - \u2705 Sigstore transparency log entry</p>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#resources","title":"Resources","text":"<ul> <li>npm Trusted Publishing Docs</li> <li>npm Provenance Documentation</li> <li>GitHub OIDC Documentation</li> <li>GitHub Environments</li> </ul>"},{"location":"NPM_TRUSTED_PUBLISHING_SETUP/#quick-reference","title":"Quick Reference","text":"<pre><code># Update version and publish\nnpm version patch\ngit push &amp;&amp; git push --tags\ngh release create v1.0.x --generate-notes\n\n# Verify published package\nnpm audit signatures f5xc-cloudstatus-mcp\n</code></pre> <p>Last Updated: October 2025 npm Trusted Publishing: Generally Available (July 2025) Minimum npm CLI: v11.5.1</p>"},{"location":"QUICKSTART/","title":"Quick Start Guide - F5 Cloud Status MCP Server","text":"<p>Get up and running with the F5 Cloud Status MCP Server in 5 minutes.</p>"},{"location":"QUICKSTART/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18+ installed</li> <li>An MCP-compatible AI tool (Claude Desktop, VS Code, Cursor, or Windsurf)</li> </ul>"},{"location":"QUICKSTART/#option-1-npm-package-recommended-fastest-setup","title":"Option 1: NPM Package (Recommended - Fastest Setup)","text":""},{"location":"QUICKSTART/#base-configuration","title":"Base Configuration","text":"<p>This works for all MCP clients:</p> <pre><code>{\n  \"mcpServers\": {\n    \"f5xc-cloudstatus\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@robinmordasiewicz/f5xc-cloudstatus-mcp@latest\"]\n    }\n  }\n}\n</code></pre>"},{"location":"QUICKSTART/#for-claude-desktop","title":"For Claude Desktop","text":"<ol> <li>Locate <code>claude_desktop_config.json</code>:</li> <li>macOS: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li> <li>Windows: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code></li> <li> <p>Linux: <code>~/.config/Claude/claude_desktop_config.json</code></p> </li> <li> <p>Add base configuration (above)</p> </li> <li>Restart Claude Desktop</li> <li>Look for \ud83d\udd0c MCP icon \u2192 \"f5xc-cloudstatus\" connected</li> </ol>"},{"location":"QUICKSTART/#for-claude-code","title":"For Claude Code","text":"<pre><code>claude mcp add f5xc-cloudstatus npx @robinmordasiewicz/f5xc-cloudstatus-mcp@latest\n</code></pre>"},{"location":"QUICKSTART/#for-vs-code-with-github-copilot","title":"For VS Code (with GitHub Copilot)","text":"<pre><code>code --add-mcp '{\"name\":\"f5xc-cloudstatus\",\"command\":\"npx\",\"args\":[\"@robinmordasiewicz/f5xc-cloudstatus-mcp@latest\"]}'\n</code></pre> <p>Or enable auto-discovery: Set <code>\"chat.mcp.discovery.enabled\": true</code> in settings.</p>"},{"location":"QUICKSTART/#for-cursor-ide","title":"For Cursor IDE","text":"<p>GUI: Command Palette \u2192 \"Cursor Settings\" \u2192 MCP \u2192 Install F5 Cloud Status Or: Add base configuration to <code>.cursor/mcp.json</code></p>"},{"location":"QUICKSTART/#for-windsurf","title":"For Windsurf","text":"<p>GUI: Plugins \u2192 Search \"F5 Cloud Status\" \u2192 Install Or: Add base configuration to Windsurf MCP settings</p>"},{"location":"QUICKSTART/#option-2-global-installation","title":"Option 2: Global Installation","text":"<p>If you prefer a global installation:</p> <pre><code># Install globally\nnpm install -g @robinmordasiewicz/f5xc-cloudstatus-mcp\n</code></pre> <p>Then configure:</p> <pre><code>{\n  \"mcpServers\": {\n    \"f5xc-cloudstatus\": {\n      \"command\": \"f5xc-cloudstatus-mcp\"\n    }\n  }\n}\n</code></pre>"},{"location":"QUICKSTART/#option-3-for-developers-local-build","title":"Option 3: For Developers (Local Build)","text":"<p>Only if you want to modify the source code:</p>"},{"location":"QUICKSTART/#1-clone-and-build","title":"1. Clone and Build","text":"<pre><code>git clone https://github.com/robinmordasiewicz/f5xc-cloudstatus-mcp.git\ncd f5xc-cloudstatus-mcp\nnpm install\nnpm run build\n</code></pre>"},{"location":"QUICKSTART/#2-test-locally-optional","title":"2. Test Locally (Optional)","text":"<pre><code>npm start\n</code></pre> <p>You should see: <pre><code>[INFO] MCP Server started and listening on stdio\n</code></pre></p> <p>Press <code>Ctrl+C</code> to stop.</p>"},{"location":"QUICKSTART/#3-configure-with-absolute-path","title":"3. Configure with Absolute Path","text":"<p>Edit your MCP client configuration with the absolute path to <code>dist/index.js</code>:</p> <p>macOS/Linux: <pre><code>{\n  \"mcpServers\": {\n    \"f5xc-cloudstatus\": {\n      \"command\": \"node\",\n      \"args\": [\"/absolute/path/to/f5xc-cloudstatus-mcp/dist/index.js\"]\n    }\n  }\n}\n</code></pre></p> <p>Windows: <pre><code>{\n  \"mcpServers\": {\n    \"f5xc-cloudstatus\": {\n      \"command\": \"C:\\\\Program Files\\\\nodejs\\\\node.exe\",\n      \"args\": [\"C:\\\\path\\\\to\\\\f5xc-cloudstatus-mcp\\\\dist\\\\index.js\"]\n    }\n  }\n}\n</code></pre></p> <p>Note: Replace paths with your actual project location. The npx method (Option 1) is much simpler!</p>"},{"location":"QUICKSTART/#try-it-out","title":"Try It Out","text":"<p>Ask your AI assistant any of these questions:</p> <ol> <li>\"What is the current status of F5 Cloud services?\"</li> <li> <p>Uses: <code>f5-status-get-overall</code></p> </li> <li> <p>\"Show me all F5 Cloud components that are having issues\"</p> </li> <li> <p>Uses: <code>f5-status-get-components</code> with status filter</p> </li> <li> <p>\"Are there any active incidents?\"</p> </li> <li> <p>Uses: <code>f5-status-get-incidents</code></p> </li> <li> <p>\"What maintenance is scheduled for F5 Cloud?\"</p> </li> <li> <p>Uses: <code>f5-status-get-maintenance</code></p> </li> <li> <p>\"Search for anything related to API Gateway\"</p> </li> <li>Uses: <code>f5-status-search</code></li> </ol>"},{"location":"QUICKSTART/#common-issues","title":"Common Issues","text":""},{"location":"QUICKSTART/#server-not-connecting","title":"Server not connecting","text":"<p>Using npx method: <pre><code># Test if npx works\nnpx @robinmordasiewicz/f5xc-cloudstatus-mcp\n# Should show: \"MCP Server started and listening on stdio\"\n</code></pre></p> <p>Check Node.js version: <pre><code>node --version  # Should be 18.0.0 or higher\nnpm --version\n</code></pre></p>"},{"location":"QUICKSTART/#tools-not-appearing-in-ai-assistant","title":"Tools not appearing in AI assistant","text":"<ol> <li>Restart the application completely</li> <li>Check configuration syntax - JSON must be valid</li> <li>Verify paths if using local build (must be absolute paths)</li> </ol>"},{"location":"QUICKSTART/#permission-errors-when-installing-globally","title":"Permission errors (when installing globally)","text":"<p>Never use sudo with npm!</p> <p>Fix permissions: <pre><code># Use a version manager instead\n# Install nvm: https://github.com/nvm-sh/nvm\nnvm install --lts\nnvm use --lts\n</code></pre></p>"},{"location":"QUICKSTART/#playwright-browser-not-found-rare-only-if-api-fails","title":"Playwright browser not found (rare - only if API fails)","text":"<pre><code>npx playwright install chromium\n</code></pre> <p>The web scraper only runs as a fallback when the API fails.</p>"},{"location":"QUICKSTART/#optional-environment-configuration","title":"Optional: Environment Configuration","text":"<p>The server works with sensible defaults. To customize:</p> <p>Create a <code>.env</code> file (anywhere in your system):</p> <pre><code># API Configuration (optional)\nAPI_BASE_URL=https://www.f5cloudstatus.com/api/v2\nAPI_TIMEOUT=10000\n\n# Cache TTL in milliseconds (optional)\nCACHE_TTL_STATUS=30000\nCACHE_TTL_COMPONENTS=60000\n\n# Logging (optional)\nLOG_LEVEL=info  # debug, info, warn, error\n</code></pre> <p>The <code>.env</code> file will be automatically loaded.</p>"},{"location":"QUICKSTART/#next-steps","title":"Next Steps","text":"<ul> <li>\ud83d\udce6 Full Installation Guide: Home - Detailed setup for all tools</li> <li>\ud83d\udcd6 Usage Examples: USAGE_EXAMPLES.md - 14 real-world examples</li> <li>\ud83d\udc68\u200d\ud83d\udcbb Development Guide: DEVELOPERS.md - Development setup and contribution</li> <li>\ud83c\udfd7\ufe0f Architecture: ARCHITECTURE.md - System design details</li> </ul>"},{"location":"QUICKSTART/#development","title":"Development","text":"<p>Want to modify the server?</p> <pre><code># Watch mode for development\nnpm run dev\n\n# Run tests\nnpm test\n\n# Check code quality\nnpm run lint\n</code></pre> <p>See the Home page for complete development documentation.</p>"},{"location":"QUICKSTART/#getting-help","title":"Getting Help","text":"<ul> <li>GitHub Issues: https://github.com/robinmordasiewicz/f5xc-cloudstatus-mcp/issues</li> <li>NPM Package: https://www.npmjs.com/package/@robinmordasiewicz/f5xc-cloudstatus-mcp</li> <li>Troubleshooting: See GitHub Issues for troubleshooting help</li> </ul>"},{"location":"TEST_SUITE_DESIGN/","title":"Test Suite Design Specification","text":""},{"location":"TEST_SUITE_DESIGN/#overview","title":"Overview","text":"<p>Comprehensive testing strategy for F5 Cloud Status MCP Server to achieve 70% code coverage across all layers.</p> <p>Current State: 0% coverage, 0 test files Target State: 70% coverage (branches, functions, lines, statements) Estimated Effort: 40-80 hours</p>"},{"location":"TEST_SUITE_DESIGN/#test-architecture","title":"Test Architecture","text":""},{"location":"TEST_SUITE_DESIGN/#three-layer-testing-strategy","title":"Three-Layer Testing Strategy","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         E2E Tests (20%)                 \u2502\n\u2502  Complete MCP tool workflows            \u2502\n\u2502  Real browser integration (Playwright)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Integration Tests (30%)             \u2502\n\u2502  Data Access Layer coordination         \u2502\n\u2502  API + Scraper fallback behavior        \u2502\n\u2502  Cache TTL and eviction scenarios       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       Unit Tests (50%)                  \u2502\n\u2502  Service business logic                 \u2502\n\u2502  Utility functions                      \u2502\n\u2502  Error handling and validation          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"TEST_SUITE_DESIGN/#test-file-structure","title":"Test File Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 unit/                          # Unit tests (isolated components)\n\u2502   \u251c\u2500\u2500 services/\n\u2502   \u2502   \u251c\u2500\u2500 status-service.test.ts\n\u2502   \u2502   \u251c\u2500\u2500 component-service.test.ts\n\u2502   \u2502   \u2514\u2500\u2500 incident-service.test.ts\n\u2502   \u251c\u2500\u2500 cache/\n\u2502   \u2502   \u2514\u2500\u2500 cache-service.test.ts\n\u2502   \u251c\u2500\u2500 utils/\n\u2502   \u2502   \u251c\u2500\u2500 config.test.ts\n\u2502   \u2502   \u251c\u2500\u2500 errors.test.ts\n\u2502   \u2502   \u2514\u2500\u2500 logger.test.ts\n\u2502   \u2514\u2500\u2500 tools/\n\u2502       \u251c\u2500\u2500 tool-definitions.test.ts\n\u2502       \u2514\u2500\u2500 tool-handler.test.ts\n\u2502\n\u251c\u2500\u2500 integration/                   # Integration tests (multiple components)\n\u2502   \u251c\u2500\u2500 data-access/\n\u2502   \u2502   \u251c\u2500\u2500 api-client.test.ts\n\u2502   \u2502   \u251c\u2500\u2500 web-scraper.test.ts\n\u2502   \u2502   \u2514\u2500\u2500 data-access-layer.test.ts\n\u2502   \u2514\u2500\u2500 server/\n\u2502       \u2514\u2500\u2500 mcp-server.test.ts\n\u2502\n\u251c\u2500\u2500 e2e/                          # End-to-end tests (complete workflows)\n\u2502   \u251c\u2500\u2500 tools/\n\u2502   \u2502   \u251c\u2500\u2500 get-overall-status.test.ts\n\u2502   \u2502   \u251c\u2500\u2500 get-components.test.ts\n\u2502   \u2502   \u251c\u2500\u2500 get-component.test.ts\n\u2502   \u2502   \u251c\u2500\u2500 get-incidents.test.ts\n\u2502   \u2502   \u251c\u2500\u2500 get-maintenance.test.ts\n\u2502   \u2502   \u2514\u2500\u2500 search.test.ts\n\u2502   \u2514\u2500\u2500 scenarios/\n\u2502       \u251c\u2500\u2500 error-propagation.test.ts\n\u2502       \u2514\u2500\u2500 cache-behavior.test.ts\n\u2502\n\u2514\u2500\u2500 fixtures/                     # Test data and mocks\n    \u251c\u2500\u2500 api-responses/\n    \u2502   \u251c\u2500\u2500 status.json\n    \u2502   \u251c\u2500\u2500 summary.json\n    \u2502   \u251c\u2500\u2500 components.json\n    \u2502   \u251c\u2500\u2500 incidents.json\n    \u2502   \u2514\u2500\u2500 maintenance.json\n    \u251c\u2500\u2500 scraped-data/\n    \u2502   \u251c\u2500\u2500 homepage.html\n    \u2502   \u2514\u2500\u2500 components-page.html\n    \u2514\u2500\u2500 mocks/\n        \u251c\u2500\u2500 mock-api-client.ts\n        \u251c\u2500\u2500 mock-scraper.ts\n        \u2514\u2500\u2500 mock-cache.ts\n</code></pre>"},{"location":"TEST_SUITE_DESIGN/#component-test-specifications","title":"Component Test Specifications","text":""},{"location":"TEST_SUITE_DESIGN/#1-unit-tests-services-layer","title":"1. Unit Tests - Services Layer","text":""},{"location":"TEST_SUITE_DESIGN/#statusservice-srcservicesstatus-servicets","title":"StatusService (src/services/status-service.ts)","text":"<p>Test Coverage Target: 85%</p> <p>Test Cases: <pre><code>describe('StatusService', () =&gt; {\n  describe('getOverallStatus', () =&gt; {\n    it('should retrieve and transform overall status successfully')\n    it('should handle API errors with proper error propagation')\n    it('should use cached data when available and fresh')\n    it('should refresh expired cache data')\n    it('should map API indicator levels to domain types correctly')\n    it('should handle missing optional fields gracefully')\n  })\n\n  describe('isOperational', () =&gt; {\n    it('should return true for \"operational\" status')\n    it('should return false for degraded/outage statuses')\n    it('should handle edge cases with null/undefined status')\n  })\n})\n</code></pre></p> <p>Mock Dependencies: - Mock DataAccessLayer: Provides controlled API/scraper responses - Mock CacheService: Controls cache hit/miss scenarios - Fixture data: status.json with various indicator levels</p>"},{"location":"TEST_SUITE_DESIGN/#componentservice-srcservicescomponent-servicets","title":"ComponentService (src/services/component-service.ts)","text":"<p>Test Coverage Target: 85%</p> <p>Test Cases: <pre><code>describe('ComponentService', () =&gt; {\n  describe('getAllComponents', () =&gt; {\n    it('should retrieve all components with summary statistics')\n    it('should group components by category correctly')\n    it('should calculate operational vs degraded counts')\n    it('should handle empty component lists')\n    it('should use cache when available')\n  })\n\n  describe('getComponentsByStatus', () =&gt; {\n    it('should filter components by \"none\" status')\n    it('should filter components by \"minor\" status')\n    it('should filter components by \"major\" status')\n    it('should filter components by \"critical\" status')\n    it('should return empty array when no matches')\n  })\n\n  describe('getComponentsByGroup', () =&gt; {\n    it('should filter components by group name')\n    it('should handle case-insensitive group matching')\n    it('should return empty array for non-existent groups')\n  })\n\n  describe('getComponentById', () =&gt; {\n    it('should retrieve component by ID successfully')\n    it('should throw NotFoundError for non-existent ID')\n    it('should include uptime data when available')\n  })\n\n  describe('getComponentByName', () =&gt; {\n    it('should retrieve component by exact name match')\n    it('should handle case-sensitive name matching')\n    it('should throw NotFoundError for non-existent name')\n  })\n\n  describe('searchComponents', () =&gt; {\n    it('should search by partial name match')\n    it('should search by description content')\n    it('should search by group name')\n    it('should return ranked results by relevance')\n    it('should handle empty search queries')\n  })\n})\n</code></pre></p> <p>Mock Dependencies: - Mock DataAccessLayer with 148 components fixture - Mock CacheService for TTL testing - Fixture: components.json with various statuses and groups</p>"},{"location":"TEST_SUITE_DESIGN/#incidentservice-srcservicesincident-servicets","title":"IncidentService (src/services/incident-service.ts)","text":"<p>Test Coverage Target: 85%</p> <p>Test Cases: <pre><code>describe('IncidentService', () =&gt; {\n  describe('getIncidents', () =&gt; {\n    it('should retrieve all incidents within default timeframe')\n    it('should filter by custom days parameter')\n    it('should filter by incident status')\n    it('should filter by impact level')\n    it('should filter unresolved only')\n    it('should sort incidents by created date descending')\n    it('should include summary statistics')\n  })\n\n  describe('getActiveIncidents', () =&gt; {\n    it('should return only unresolved incidents')\n    it('should exclude resolved and postmortem incidents')\n    it('should calculate time since creation')\n  })\n\n  describe('getIncidentById', () =&gt; {\n    it('should retrieve incident with all updates')\n    it('should include affected component details')\n    it('should throw NotFoundError for invalid ID')\n  })\n\n  describe('getMaintenanceWindows', () =&gt; {\n    it('should retrieve all maintenance windows')\n    it('should filter by maintenance status')\n    it('should filter active maintenance only')\n    it('should filter upcoming maintenance only')\n    it('should include scheduling information')\n  })\n\n  describe('searchIncidents', () =&gt; {\n    it('should search by incident name')\n    it('should search by update body content')\n    it('should search by affected component names')\n    it('should rank results by relevance')\n  })\n\n  describe('time calculations', () =&gt; {\n    it('should calculate duration for resolved incidents')\n    it('should calculate elapsed time for active incidents')\n    it('should handle timezone conversions correctly')\n  })\n})\n</code></pre></p> <p>Mock Dependencies: - Mock DataAccessLayer with varied incident statuses - Mock Date.now() for consistent time calculations - Fixture: incidents.json and maintenance.json</p>"},{"location":"TEST_SUITE_DESIGN/#2-unit-tests-cache-layer","title":"2. Unit Tests - Cache Layer","text":""},{"location":"TEST_SUITE_DESIGN/#cacheservice-srccachecache-servicets","title":"CacheService (src/cache/cache-service.ts)","text":"<p>Test Coverage Target: 90%</p> <p>Test Cases: <pre><code>describe('CacheService', () =&gt; {\n  describe('get', () =&gt; {\n    it('should return cached value when fresh')\n    it('should return null when cache expired')\n    it('should return null when key does not exist')\n    it('should handle concurrent reads correctly')\n  })\n\n  describe('set', () =&gt; {\n    it('should store value with TTL')\n    it('should overwrite existing cached value')\n    it('should handle different data types (objects, arrays, primitives)')\n    it('should respect custom TTL overrides')\n  })\n\n  describe('has', () =&gt; {\n    it('should return true for existing fresh cache')\n    it('should return false for expired cache')\n    it('should return false for non-existent keys')\n  })\n\n  describe('delete', () =&gt; {\n    it('should remove cached value')\n    it('should handle deleting non-existent keys gracefully')\n  })\n\n  describe('clear', () =&gt; {\n    it('should remove all cached values')\n    it('should reset cache to empty state')\n  })\n\n  describe('TTL expiration', () =&gt; {\n    it('should expire cache after configured TTL')\n    it('should not expire cache before TTL')\n    it('should handle different TTLs per key')\n  })\n})\n</code></pre></p> <p>Mock Dependencies: - Jest fake timers for TTL testing - No external dependencies (pure in-memory cache)</p>"},{"location":"TEST_SUITE_DESIGN/#3-unit-tests-utilities","title":"3. Unit Tests - Utilities","text":""},{"location":"TEST_SUITE_DESIGN/#config-srcutilsconfigts","title":"Config (src/utils/config.ts)","text":"<p>Test Cases: <pre><code>describe('Config', () =&gt; {\n  it('should load configuration from environment variables')\n  it('should use default values when env vars missing')\n  it('should validate required configuration')\n  it('should throw ConfigurationError for invalid values')\n  it('should parse numeric environment variables correctly')\n  it('should handle boolean environment variables')\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#errors-srcutilserrorsts","title":"Errors (src/utils/errors.ts)","text":"<p>Test Cases: <pre><code>describe('Error Classes', () =&gt; {\n  describe('F5StatusError', () =&gt; {\n    it('should create base error with name and message')\n    it('should maintain error stack trace')\n  })\n\n  describe('APIError', () =&gt; {\n    it('should include status code and response data')\n    it('should format error message with context')\n  })\n\n  describe('DataUnavailableError', () =&gt; {\n    it('should indicate both API and scraper failed')\n  })\n\n  describe('ValidationError', () =&gt; {\n    it('should include validation details')\n  })\n\n  // Test all 9 error types\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#4-integration-tests-data-access-layer","title":"4. Integration Tests - Data Access Layer","text":""},{"location":"TEST_SUITE_DESIGN/#apiclient-srcdata-accessapi-clientts","title":"APIClient (src/data-access/api-client.ts)","text":"<p>Test Coverage Target: 75%</p> <p>Test Cases: <pre><code>describe('APIClient', () =&gt; {\n  describe('HTTP requests', () =&gt; {\n    it('should make successful GET request')\n    it('should include proper headers and user agent')\n    it('should handle 200 OK responses')\n    it('should handle 404 Not Found responses')\n    it('should handle 500 Server Error responses')\n    it('should respect configured timeout')\n  })\n\n  describe('retry logic', () =&gt; {\n    it('should retry on network errors')\n    it('should retry on 5xx errors')\n    it('should not retry on 4xx errors')\n    it('should use exponential backoff between retries')\n    it('should fail after max retry attempts')\n    it('should succeed on retry after transient failure')\n  })\n\n  describe('endpoint methods', () =&gt; {\n    it('should fetch status from /api/v2/status.json')\n    it('should fetch summary from /api/v2/summary.json')\n    it('should fetch components from /api/v2/components.json')\n    it('should fetch incidents from /api/v2/incidents.json')\n    it('should fetch maintenance from /api/v2/scheduled-maintenances.json')\n  })\n\n  describe('error handling', () =&gt; {\n    it('should throw APIError with proper context')\n    it('should throw TimeoutError on request timeout')\n    it('should handle malformed JSON responses')\n  })\n})\n</code></pre></p> <p>Mock Dependencies: - Mock axios or use axios-mock-adapter - Network simulation with delays and failures - Fixture: Complete API response set</p>"},{"location":"TEST_SUITE_DESIGN/#webscraper-srcdata-accessweb-scraperts","title":"WebScraper (src/data-access/web-scraper.ts)","text":"<p>Test Coverage Target: 70%</p> <p>Test Cases: <pre><code>describe('WebScraper', () =&gt; {\n  describe('browser initialization', () =&gt; {\n    it('should launch browser with configured options')\n    it('should use headless mode in production')\n    it('should configure proper viewport size')\n  })\n\n  describe('scraping methods', () =&gt; {\n    it('should scrape overall status from homepage')\n    it('should scrape component list and statuses')\n    it('should scrape component groups')\n    it('should extract incident information')\n    it('should extract maintenance windows')\n  })\n\n  describe('DOM parsing', () =&gt; {\n    it('should handle missing DOM elements gracefully')\n    it('should extract text content correctly')\n    it('should parse status indicators')\n    it('should identify component hierarchy')\n  })\n\n  describe('error handling', () =&gt; {\n    it('should throw ScraperError on navigation timeout')\n    it('should throw ScraperError on selector not found')\n    it('should cleanup browser on error')\n    it('should retry on transient failures')\n  })\n\n  describe('resource management', () =&gt; {\n    it('should close browser after scraping')\n    it('should handle concurrent scraping requests')\n  })\n})\n</code></pre></p> <p>Mock Dependencies: - Playwright with mock pages - Fixture HTML files (homepage, components page) - Mock browser context</p>"},{"location":"TEST_SUITE_DESIGN/#dataaccesslayer-srcdata-accessdata-access-layerts","title":"DataAccessLayer (src/data-access/data-access-layer.ts)","text":"<p>Test Coverage Target: 85%</p> <p>Test Cases: <pre><code>describe('DataAccessLayer', () =&gt; {\n  describe('API-first strategy', () =&gt; {\n    it('should prefer API client over scraper')\n    it('should use API when available')\n    it('should not call scraper when API succeeds')\n  })\n\n  describe('fallback mechanism', () =&gt; {\n    it('should fallback to scraper when API fails')\n    it('should try scraper on API timeout')\n    it('should try scraper on API 5xx errors')\n    it('should not fallback on API 4xx errors (invalid request)')\n  })\n\n  describe('data transformation', () =&gt; {\n    it('should transform API responses to domain models')\n    it('should transform scraped data to domain models')\n    it('should ensure consistent data format from both sources')\n  })\n\n  describe('error scenarios', () =&gt; {\n    it('should throw DataUnavailableError when both sources fail')\n    it('should include context about both failures')\n    it('should log fallback attempts')\n  })\n\n  describe('method coverage', () =&gt; {\n    it('should fetch overall status (API or scraper)')\n    it('should fetch components (API or scraper)')\n    it('should fetch incidents (API or scraper)')\n    it('should fetch maintenance (API or scraper)')\n  })\n})\n</code></pre></p> <p>Mock Dependencies: - Mock APIClient - Mock WebScraper - Both success and failure scenarios</p>"},{"location":"TEST_SUITE_DESIGN/#5-integration-tests-mcp-server","title":"5. Integration Tests - MCP Server","text":""},{"location":"TEST_SUITE_DESIGN/#mcpserver-srcservermcp-serverts","title":"MCPServer (src/server/mcp-server.ts)","text":"<p>Test Cases: <pre><code>describe('MCPServer', () =&gt; {\n  describe('server initialization', () =&gt; {\n    it('should initialize with MCP SDK')\n    it('should register all 6 tools')\n    it('should configure stdio transport')\n    it('should handle startup errors gracefully')\n  })\n\n  describe('tool registration', () =&gt; {\n    it('should list all available tools')\n    it('should provide tool schemas with Zod validation')\n    it('should include tool descriptions')\n  })\n\n  describe('request handling', () =&gt; {\n    it('should route tool calls to correct handlers')\n    it('should validate tool inputs with Zod schemas')\n    it('should return tool results in MCP format')\n    it('should handle tool execution errors')\n  })\n\n  describe('error propagation', () =&gt; {\n    it('should convert service errors to MCP errors')\n    it('should include error context in responses')\n    it('should log errors appropriately')\n  })\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#6-e2e-tests-mcp-tools","title":"6. E2E Tests - MCP Tools","text":"<p>Test all 6 tools end-to-end with real data flow</p>"},{"location":"TEST_SUITE_DESIGN/#tool-f5-status-get-overall","title":"Tool: f5-status-get-overall","text":"<p>Test Cases: <pre><code>describe('f5-status-get-overall E2E', () =&gt; {\n  it('should return overall status with all required fields')\n  it('should include lastUpdated timestamp')\n  it('should include isOperational boolean')\n  it('should use cached data on subsequent calls')\n  it('should handle API failures with scraper fallback')\n  it('should return proper MCP error on complete failure')\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#tool-f5-status-get-components","title":"Tool: f5-status-get-components","text":"<p>Test Cases: <pre><code>describe('f5-status-get-components E2E', () =&gt; {\n  it('should return all components when no filters')\n  it('should filter by status parameter')\n  it('should filter by group parameter')\n  it('should include summary statistics')\n  it('should include component groups')\n  it('should validate input parameters with Zod')\n  it('should handle invalid filter values')\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#tool-f5-status-get-component","title":"Tool: f5-status-get-component","text":"<p>Test Cases: <pre><code>describe('f5-status-get-component E2E', () =&gt; {\n  it('should retrieve component by ID')\n  it('should retrieve component by name')\n  it('should require either id or name parameter')\n  it('should return NotFoundError for invalid component')\n  it('should include uptime data when available')\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#tool-f5-status-get-incidents","title":"Tool: f5-status-get-incidents","text":"<p>Test Cases: <pre><code>describe('f5-status-get-incidents E2E', () =&gt; {\n  it('should return incidents with default 7-day window')\n  it('should filter by custom days parameter')\n  it('should filter by status parameter')\n  it('should filter by impact parameter')\n  it('should filter unresolved_only')\n  it('should validate days parameter (1-90 range)')\n  it('should include incident updates')\n  it('should include affected components')\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#tool-f5-status-get-maintenance","title":"Tool: f5-status-get-maintenance","text":"<p>Test Cases: <pre><code>describe('f5-status-get-maintenance E2E', () =&gt; {\n  it('should return all maintenance windows')\n  it('should filter by status parameter')\n  it('should filter active_only')\n  it('should filter upcoming_only')\n  it('should include scheduling information')\n  it('should include affected components')\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#tool-f5-status-search","title":"Tool: f5-status-search","text":"<p>Test Cases: <pre><code>describe('f5-status-search E2E', () =&gt; {\n  it('should search across all types by default')\n  it('should search components only when type=components')\n  it('should search incidents only when type=incidents')\n  it('should search maintenance only when type=maintenance')\n  it('should rank results by relevance')\n  it('should include result counts in summary')\n  it('should require non-empty query parameter')\n})\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#test-fixtures-design","title":"Test Fixtures Design","text":""},{"location":"TEST_SUITE_DESIGN/#api-response-fixtures","title":"API Response Fixtures","text":"<p>tests/fixtures/api-responses/status.json: <pre><code>{\n  \"page\": {\n    \"id\": \"test-page-id\",\n    \"name\": \"F5 Distributed Cloud Services\",\n    \"url\": \"https://www.f5cloudstatus.com\",\n    \"time_zone\": \"America/Los_Angeles\",\n    \"updated_at\": \"2025-01-15T10:30:00.000Z\"\n  },\n  \"status\": {\n    \"indicator\": \"none\",\n    \"description\": \"All Systems Operational\"\n  }\n}\n</code></pre></p> <p>tests/fixtures/api-responses/components.json: <pre><code>{\n  \"page\": { \"id\": \"test-page-id\", \"...\" },\n  \"components\": [\n    {\n      \"id\": \"component-1\",\n      \"name\": \"Distributed Cloud Services - API Gateway\",\n      \"status\": \"operational\",\n      \"position\": 1,\n      \"description\": \"API Gateway service\",\n      \"group_id\": \"group-1\",\n      \"only_show_if_degraded\": false\n    },\n    {\n      \"id\": \"component-2\",\n      \"name\": \"XC Observability - Metrics\",\n      \"status\": \"degraded_performance\",\n      \"position\": 2,\n      \"description\": \"Metrics collection service\",\n      \"group_id\": \"group-1\",\n      \"only_show_if_degraded\": false\n    }\n  ]\n}\n</code></pre></p> <p>tests/fixtures/api-responses/incidents.json: <pre><code>{\n  \"page\": { \"id\": \"test-page-id\", \"...\" },\n  \"incidents\": [\n    {\n      \"id\": \"incident-1\",\n      \"name\": \"XC Observability Metrics Delays\",\n      \"status\": \"monitoring\",\n      \"impact\": \"minor\",\n      \"created_at\": \"2025-01-15T08:00:00.000Z\",\n      \"updated_at\": \"2025-01-15T10:00:00.000Z\",\n      \"resolved_at\": null,\n      \"shortlink\": \"https://status.f5.com/incidents/incident-1\",\n      \"incident_updates\": [\n        {\n          \"id\": \"update-1\",\n          \"status\": \"monitoring\",\n          \"body\": \"Issue identified and resolved, monitoring for stability\",\n          \"created_at\": \"2025-01-15T10:00:00.000Z\",\n          \"display_at\": \"2025-01-15T10:00:00.000Z\",\n          \"affected_components\": [\n            {\n              \"code\": \"component-2\",\n              \"name\": \"XC Observability - Metrics\",\n              \"old_status\": \"degraded_performance\",\n              \"new_status\": \"operational\"\n            }\n          ]\n        }\n      ],\n      \"components\": [\n        { \"id\": \"component-2\", \"name\": \"XC Observability - Metrics\", \"...\" }\n      ]\n    }\n  ]\n}\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#mock-implementations","title":"Mock Implementations","text":"<p>tests/fixtures/mocks/mock-api-client.ts: <pre><code>import { APIClient } from '../../../src/data-access/api-client.js';\nimport statusFixture from '../api-responses/status.json';\nimport componentsFixture from '../api-responses/components.json';\n\nexport class MockAPIClient implements Partial&lt;APIClient&gt; {\n  private shouldFail = false;\n  private delay = 0;\n\n  setShouldFail(fail: boolean) {\n    this.shouldFail = fail;\n  }\n\n  setDelay(ms: number) {\n    this.delay = ms;\n  }\n\n  async fetchStatus() {\n    if (this.delay) await new Promise(r =&gt; setTimeout(r, this.delay));\n    if (this.shouldFail) throw new Error('API request failed');\n    return statusFixture;\n  }\n\n  async fetchComponents() {\n    if (this.delay) await new Promise(r =&gt; setTimeout(r, this.delay));\n    if (this.shouldFail) throw new Error('API request failed');\n    return componentsFixture;\n  }\n\n  // ... other methods\n}\n</code></pre></p> <p>tests/fixtures/mocks/mock-cache.ts: <pre><code>import { CacheService } from '../../../src/cache/cache-service.js';\n\nexport class MockCacheService implements CacheService {\n  private cache = new Map&lt;string, any&gt;();\n\n  get&lt;T&gt;(key: string): T | null {\n    return this.cache.get(key) ?? null;\n  }\n\n  set&lt;T&gt;(key: string, value: T, ttl?: number): void {\n    this.cache.set(key, value);\n  }\n\n  has(key: string): boolean {\n    return this.cache.has(key);\n  }\n\n  delete(key: string): void {\n    this.cache.delete(key);\n  }\n\n  clear(): void {\n    this.cache.clear();\n  }\n}\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#testing-utilities","title":"Testing Utilities","text":"<p>tests/utils/test-helpers.ts: <pre><code>import { Component, Incident, OverallStatus } from '../../src/types/domain.js';\n\nexport function createMockComponent(overrides?: Partial&lt;Component&gt;): Component {\n  return {\n    id: 'test-component-id',\n    name: 'Test Component',\n    status: 'none',\n    position: 1,\n    onlyShowIfDegraded: false,\n    ...overrides\n  };\n}\n\nexport function createMockIncident(overrides?: Partial&lt;Incident&gt;): Incident {\n  return {\n    id: 'test-incident-id',\n    name: 'Test Incident',\n    status: 'investigating',\n    impact: 'minor',\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    shortlink: 'https://status.f5.com/test',\n    updates: [],\n    affectedComponents: [],\n    ...overrides\n  };\n}\n\nexport function createMockOverallStatus(overrides?: Partial&lt;OverallStatus&gt;): OverallStatus {\n  return {\n    status: 'operational',\n    indicator: 'none',\n    description: 'All Systems Operational',\n    lastUpdated: new Date(),\n    ...overrides\n  };\n}\n\nexport function waitFor(condition: () =&gt; boolean, timeout = 5000): Promise&lt;void&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    const start = Date.now();\n    const interval = setInterval(() =&gt; {\n      if (condition()) {\n        clearInterval(interval);\n        resolve();\n      } else if (Date.now() - start &gt; timeout) {\n        clearInterval(interval);\n        reject(new Error('Timeout waiting for condition'));\n      }\n    }, 100);\n  });\n}\n</code></pre></p>"},{"location":"TEST_SUITE_DESIGN/#jest-configuration-notes","title":"Jest Configuration Notes","text":"<p>Current Configuration (jest.config.js): - \u2705 Preset: ts-jest with ESM support - \u2705 Test environment: node - \u2705 Test root: <code>&lt;rootDir&gt;/tests</code> - \u2705 Test pattern: <code>**/*.test.ts</code> - \u2705 Coverage collection: <code>src/**/*.ts</code> (excluding types) - \u2705 Coverage thresholds: 70% for all metrics</p> <p>No changes needed to jest.config.js - configuration is already optimal.</p>"},{"location":"TEST_SUITE_DESIGN/#coverage-targets-by-component","title":"Coverage Targets by Component","text":"Component Target Priority Estimated Hours Services (3 files) 85% High 15-20 Cache Service 90% High 4-6 Utilities 85% Medium 6-8 Data Access Layer 75% High 15-20 Tool Definitions 80% Medium 4-6 Tool Handler 85% Medium 6-8 MCP Server 70% Medium 6-8 E2E Tools 100% High 10-15 <p>Overall Estimated Effort: 66-91 hours for comprehensive coverage</p>"},{"location":"TEST_SUITE_DESIGN/#implementation-phases","title":"Implementation Phases","text":""},{"location":"TEST_SUITE_DESIGN/#phase-1-foundation-8-12-hours","title":"Phase 1: Foundation (8-12 hours)","text":"<ol> <li>Create test file structure and directories</li> <li>Implement test fixtures (API responses, mock data)</li> <li>Create mock implementations (APIClient, Scraper, Cache)</li> <li>Set up test utilities and helpers</li> </ol> <p>Deliverable: Complete test infrastructure with fixtures</p>"},{"location":"TEST_SUITE_DESIGN/#phase-2-unit-tests-services-15-20-hours","title":"Phase 2: Unit Tests - Services (15-20 hours)","text":"<ol> <li>StatusService tests (4-5 hours)</li> <li>ComponentService tests (6-8 hours)</li> <li>IncidentService tests (5-7 hours)</li> </ol> <p>Deliverable: 85% coverage of services layer</p>"},{"location":"TEST_SUITE_DESIGN/#phase-3-unit-tests-utilities-cache-10-14-hours","title":"Phase 3: Unit Tests - Utilities &amp; Cache (10-14 hours)","text":"<ol> <li>CacheService tests (4-6 hours)</li> <li>Config, Errors, Logger tests (6-8 hours)</li> </ol> <p>Deliverable: 85%+ coverage of utilities</p>"},{"location":"TEST_SUITE_DESIGN/#phase-4-integration-tests-15-20-hours","title":"Phase 4: Integration Tests (15-20 hours)","text":"<ol> <li>APIClient tests with retry logic (6-8 hours)</li> <li>WebScraper tests with Playwright (5-7 hours)</li> <li>DataAccessLayer fallback tests (4-5 hours)</li> </ol> <p>Deliverable: 75% coverage of data access layer</p>"},{"location":"TEST_SUITE_DESIGN/#phase-5-e2e-tests-10-15-hours","title":"Phase 5: E2E Tests (10-15 hours)","text":"<ol> <li>All 6 MCP tool tests (8-10 hours)</li> <li>Error propagation scenarios (2-3 hours)</li> <li>Cache behavior validation (2 hours)</li> </ol> <p>Deliverable: 100% E2E tool coverage</p>"},{"location":"TEST_SUITE_DESIGN/#phase-6-validation-refinement-8-10-hours","title":"Phase 6: Validation &amp; Refinement (8-10 hours)","text":"<ol> <li>Run full test suite</li> <li>Address coverage gaps</li> <li>Optimize slow tests</li> <li>Add edge case coverage</li> </ol> <p>Deliverable: 70%+ overall coverage, all tests passing</p>"},{"location":"TEST_SUITE_DESIGN/#success-criteria","title":"Success Criteria","text":""},{"location":"TEST_SUITE_DESIGN/#coverage-metrics","title":"Coverage Metrics","text":"<ul> <li>\u2705 Overall coverage \u2265 70% (branches, functions, lines, statements)</li> <li>\u2705 Services layer \u2265 85%</li> <li>\u2705 Cache service \u2265 90%</li> <li>\u2705 Data access layer \u2265 75%</li> <li>\u2705 All 6 MCP tools 100% E2E coverage</li> </ul>"},{"location":"TEST_SUITE_DESIGN/#test-quality","title":"Test Quality","text":"<ul> <li>\u2705 All tests pass consistently</li> <li>\u2705 No flaky tests (&gt;99% success rate)</li> <li>\u2705 Test execution &lt; 30 seconds for unit tests</li> <li>\u2705 Test execution &lt; 2 minutes total including E2E</li> <li>\u2705 Clear test descriptions and assertions</li> <li>\u2705 Proper isolation (no test interdependencies)</li> </ul>"},{"location":"TEST_SUITE_DESIGN/#maintainability","title":"Maintainability","text":"<ul> <li>\u2705 Comprehensive fixtures for all scenarios</li> <li>\u2705 Reusable mock implementations</li> <li>\u2705 Test utilities for common operations</li> <li>\u2705 Clear test organization and naming</li> <li>\u2705 Documentation for complex test scenarios</li> </ul>"},{"location":"TEST_SUITE_DESIGN/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\nnpm test\n\n# Run with coverage\nnpm run test:coverage\n\n# Run in watch mode\nnpm run test:watch\n\n# Run specific test file\nnpm test status-service.test.ts\n\n# Run tests matching pattern\nnpm test -- --testNamePattern=\"ComponentService\"\n\n# Run only unit tests\nnpm test tests/unit\n\n# Run only integration tests\nnpm test tests/integration\n\n# Run only E2E tests\nnpm test tests/e2e\n</code></pre>"},{"location":"TEST_SUITE_DESIGN/#next-steps","title":"Next Steps","text":"<ol> <li>Review and approve this test design specification</li> <li>Begin Phase 1: Create test infrastructure</li> <li>Implement tests phase-by-phase with validation</li> <li>Achieve 70% coverage target</li> <li>Integrate tests into CI/CD pipeline</li> </ol> <p>Document Version: 1.0 Last Updated: 2025-01-15 Status: Ready for Implementation</p>"},{"location":"USAGE_EXAMPLES/","title":"Usage Examples - F5 Cloud Status MCP Server","text":"<p>Real-world examples of using the F5 Cloud Status MCP Server with Claude Desktop.</p>"},{"location":"USAGE_EXAMPLES/#basic-status-checks","title":"Basic Status Checks","text":""},{"location":"USAGE_EXAMPLES/#example-1-check-overall-status","title":"Example 1: Check Overall Status","text":"<p>You ask:</p> <p>What is the current operational status of F5 Cloud services?</p> <p>Claude uses: <code>f5-status-get-overall</code></p> <p>Response: <pre><code>The F5 Cloud services are currently operational. All systems are running normally with no reported issues. The overall status indicator is \"none\" (green), meaning there are no service disruptions at this time. Last updated: [timestamp].\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#example-2-list-all-components","title":"Example 2: List All Components","text":"<p>You ask:</p> <p>Show me all F5 Cloud service components and their current status</p> <p>Claude uses: <code>f5-status-get-components</code></p> <p>Response: <pre><code>I found 148 F5 Cloud components across 6 main categories:\n\n**Distributed Cloud Services** (operational)\n- API Gateway: operational\n- Load Balancer: operational\n- WAF: operational\n...\n\n**Summary:**\n- Total components: 148\n- Operational: 147\n- Degraded: 1\n\nThe \"XC Observability - Metrics\" component is experiencing minor issues.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#filtering-and-search","title":"Filtering and Search","text":""},{"location":"USAGE_EXAMPLES/#example-3-find-degraded-services","title":"Example 3: Find Degraded Services","text":"<p>You ask:</p> <p>Are there any F5 Cloud components that are degraded or having issues right now?</p> <p>Claude uses: <code>f5-status-get-components</code> with status filters</p> <p>Response: <pre><code>Yes, there is currently 1 component experiencing issues:\n\n**XC Observability - Metrics**\n- Status: Minor (degraded performance)\n- Group: Distributed Cloud Services\n- Description: Intermittent delays in metric collection\n\nAll other 147 components are operational.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#example-4-search-for-specific-service","title":"Example 4: Search for Specific Service","text":"<p>You ask:</p> <p>What's the status of the API Gateway service?</p> <p>Claude uses: <code>f5-status-get-component</code> or <code>f5-status-search</code></p> <p>Response: <pre><code>The F5 Distributed Cloud Services - API Gateway is currently operational with no reported issues.\n\nComponent Details:\n- ID: component-abc123\n- Status: Operational\n- Group: Distributed Cloud Services\n- Position: 5\n- No current incidents affecting this component\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#incident-monitoring","title":"Incident Monitoring","text":""},{"location":"USAGE_EXAMPLES/#example-5-check-active-incidents","title":"Example 5: Check Active Incidents","text":"<p>You ask:</p> <p>Are there any active incidents affecting F5 Cloud services?</p> <p>Claude uses: <code>f5-status-get-incidents</code> with <code>unresolved_only: true</code></p> <p>Response: <pre><code>Yes, there is currently 1 active incident:\n\n**Incident: XC Observability Metrics Delays**\n- Status: Monitoring\n- Impact: Minor\n- Created: 2 hours ago\n- Affected components: XC Observability - Metrics\n\nLatest update (30 minutes ago):\n\"The issue has been identified and resolved. We are monitoring to ensure stability.\"\n\nNo other active incidents at this time.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#example-6-recent-incident-history","title":"Example 6: Recent Incident History","text":"<p>You ask:</p> <p>Show me all incidents from the past 7 days</p> <p>Claude uses: <code>f5-status-get-incidents</code> with <code>days: 7</code></p> <p>Response: <pre><code>There have been 3 incidents in the past 7 days:\n\n1. **XC Observability Metrics Delays** (Minor)\n   - Status: Resolved\n   - Duration: 2 hours\n   - Resolved: 1 hour ago\n\n2. **API Gateway Timeout Issues** (Minor)\n   - Status: Resolved\n   - Duration: 45 minutes\n   - Resolved: 3 days ago\n\n3. **WAF Rule Update Delays** (Minor)\n   - Status: Resolved\n   - Duration: 1.5 hours\n   - Resolved: 5 days ago\n\nAll incidents were minor and have been fully resolved.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#example-7-critical-incidents-only","title":"Example 7: Critical Incidents Only","text":"<p>You ask:</p> <p>Have there been any critical or major incidents in the last 30 days?</p> <p>Claude uses: <code>f5-status-get-incidents</code> with <code>days: 30</code> and <code>impact: critical</code> / <code>impact: major</code></p> <p>Response: <pre><code>Good news! There have been no critical or major incidents affecting F5 Cloud services in the past 30 days.\n\nAll reported incidents (5 total) were classified as minor with quick resolution times (average 90 minutes).\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#maintenance-windows","title":"Maintenance Windows","text":""},{"location":"USAGE_EXAMPLES/#example-8-upcoming-maintenance","title":"Example 8: Upcoming Maintenance","text":"<p>You ask:</p> <p>Are there any scheduled maintenance windows for F5 Cloud services?</p> <p>Claude uses: <code>f5-status-get-maintenance</code> with <code>upcoming_only: true</code></p> <p>Response: <pre><code>Yes, there are 2 upcoming maintenance windows scheduled:\n\n1. **Database Infrastructure Upgrade**\n   - Scheduled: Tomorrow at 2:00 AM - 4:00 AM UTC\n   - Impact: Minor (brief interruptions possible)\n   - Affected: Distributed Cloud Services - Data Plane\n   - Details: Routine database maintenance for improved performance\n\n2. **Certificate Renewal - Global**\n   - Scheduled: Next week, Sunday at 1:00 AM - 3:00 AM UTC\n   - Impact: None expected\n   - Affected: SSL/TLS services globally\n   - Details: Scheduled certificate rotation\n\nBoth maintenance windows are during low-traffic periods to minimize impact.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#example-9-active-maintenance","title":"Example 9: Active Maintenance","text":"<p>You ask:</p> <p>Is there any maintenance happening right now?</p> <p>Claude uses: <code>f5-status-get-maintenance</code> with <code>active_only: true</code></p> <p>Response: <pre><code>No, there is no active maintenance currently in progress. All F5 Cloud services are operating normally.\n\nThe next scheduled maintenance is in 8 hours (Database Infrastructure Upgrade).\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#advanced-queries","title":"Advanced Queries","text":""},{"location":"USAGE_EXAMPLES/#example-10-multi-criteria-search","title":"Example 10: Multi-criteria Search","text":"<p>You ask:</p> <p>Search for anything related to \"observability\" in F5 Cloud status</p> <p>Claude uses: <code>f5-status-search</code> with query \"observability\"</p> <p>Response: <pre><code>Found 8 results related to \"observability\":\n\n**Components (5):**\n- XC Observability - Metrics\n- XC Observability - Logs\n- XC Observability - Traces\n- XC Observability - Dashboard\n- XC Observability - Alerts\n\n**Incidents (1):**\n- XC Observability Metrics Delays (currently monitoring)\n\n**Maintenance (2):**\n- Observability Backend Upgrade (completed last week)\n- Metrics Database Optimization (upcoming next month)\n\nThe Observability - Metrics component is currently experiencing minor issues but is being actively monitored.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#example-11-component-group-query","title":"Example 11: Component Group Query","text":"<p>You ask:</p> <p>Show me the status of all components in the \"Distributed Cloud Services\" group</p> <p>Claude uses: <code>f5-status-get-components</code> with <code>group: \"Distributed Cloud Services\"</code></p> <p>Response: <pre><code>There are 45 components in the Distributed Cloud Services group:\n\n**Operational (44):**\n- API Gateway\n- Load Balancer\n- WAF\n- VPN Gateway\n- DNS Services\n... (39 more)\n\n**Degraded (1):**\n- XC Observability - Metrics (minor issues)\n\nGroup health: 97.8% operational\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#example-12-historical-trend-analysis","title":"Example 12: Historical Trend Analysis","text":"<p>You ask:</p> <p>What's been the reliability of F5 Cloud services over the past 90 days?</p> <p>Claude uses: <code>f5-status-get-incidents</code> with <code>days: 90</code></p> <p>Response: <pre><code>F5 Cloud services have maintained excellent reliability over the past 90 days:\n\n**Incident Summary:**\n- Total incidents: 12\n- Critical: 0\n- Major: 1 (Load Balancer issue, resolved in 4 hours)\n- Minor: 11 (average resolution time: 105 minutes)\n\n**Most Affected Components:**\n- XC Observability services: 4 incidents\n- API Gateway: 2 incidents\n- WAF: 2 incidents\n\n**Uptime Trend:**\n- Overall system availability: 99.97%\n- Average time between incidents: 7.5 days\n- Fastest resolution: 15 minutes\n- Longest incident: 4 hours (major incident)\n\nThe service reliability has been strong with rapid incident resolution.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#monitoring-workflows","title":"Monitoring Workflows","text":""},{"location":"USAGE_EXAMPLES/#example-13-daily-status-check","title":"Example 13: Daily Status Check","text":"<p>You ask:</p> <p>Give me a daily status report for F5 Cloud services</p> <p>Claude uses: Multiple tools (<code>get-overall</code>, <code>get-incidents</code>, <code>get-maintenance</code>)</p> <p>Response: <pre><code>**F5 Cloud Daily Status Report - [Date]**\n\n**Overall Status:** \u2705 Operational\n\n**Current Issues:**\n- 1 minor incident (Observability Metrics - monitoring)\n\n**Active Incidents:** 1 unresolved\n**Recent Incidents (24h):** 1 new, 0 resolved\n**Upcoming Maintenance (7 days):** 2 scheduled\n\n**Maintenance This Week:**\n- Database upgrade: Tomorrow 2-4 AM UTC\n- Certificate renewal: Sunday 1-3 AM UTC\n\n**Recommendation:**\nServices are stable. Minor observability issue is being monitored. Plan for brief interruptions during tomorrow's database maintenance window.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#example-14-pre-deployment-check","title":"Example 14: Pre-Deployment Check","text":"<p>You ask:</p> <p>Before I deploy to F5 Cloud, are there any current issues or upcoming maintenance I should know about?</p> <p>Claude uses: Multiple tools for comprehensive check</p> <p>Response: <pre><code>**Pre-Deployment Status Check:**\n\n\u2705 **Safe to Deploy:**\n- Overall system status: Operational\n- All critical services: Operational\n- No major or critical incidents active\n\n\u26a0\ufe0f **Awareness Items:**\n1. Minor observability metrics delay (won't affect deployments)\n2. Scheduled maintenance in 8 hours (Database - may cause brief connectivity blips)\n\n**Recommendation:**\nDeploy now is safe. However, if possible, schedule deployment before the maintenance window (starts in 8 hours) or after it completes (10 hours from now) to avoid any potential edge cases during the upgrade.\n\n**Components Status for Deployment:**\n- API Gateway: \u2705 Operational\n- Load Balancer: \u2705 Operational\n- WAF: \u2705 Operational\n- VPN Gateway: \u2705 Operational\n\nAll deployment-critical services are fully operational.\n</code></pre></p>"},{"location":"USAGE_EXAMPLES/#tips-for-effective-queries","title":"Tips for Effective Queries","text":"<p>Be specific about timeframes: - \"incidents in the last 24 hours\" - \"maintenance scheduled for next week\" - \"status for the past 30 days\"</p> <p>Ask for summaries: - \"give me a summary of current issues\" - \"overview of service health\" - \"quick status check\"</p> <p>Filter by impact: - \"any critical incidents?\" - \"show only major issues\" - \"minor incidents can be ignored\"</p> <p>Combine queries: - \"current status and upcoming maintenance\" - \"incidents affecting API Gateway services\" - \"observability components with recent issues\"</p> <p>The MCP server will intelligently use the appropriate tools to answer your questions!</p>"},{"location":"USER_GUIDE/","title":"F5 Cloud Status MCP Server - User Guide","text":"<p>A comprehensive guide for using the F5 Cloud Status MCP Server with Claude Desktop to monitor F5 Cloud service health and availability.</p>"},{"location":"USER_GUIDE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Getting Started</li> <li>Core Concepts</li> <li>Available Tools</li> <li>Common Workflows</li> <li>Advanced Usage</li> <li>Troubleshooting</li> <li>Best Practices</li> </ol>"},{"location":"USER_GUIDE/#introduction","title":"Introduction","text":""},{"location":"USER_GUIDE/#what-is-the-f5-cloud-status-mcp-server","title":"What is the F5 Cloud Status MCP Server?","text":"<p>The F5 Cloud Status MCP Server is a Model Context Protocol (MCP) server that provides real-time monitoring and status information for F5 Cloud services. It enables Claude Desktop to:</p> <ul> <li>Monitor service health across 150+ F5 Cloud components</li> <li>Track incidents and understand service disruptions</li> <li>View maintenance windows to plan deployments</li> <li>Search status information by component, service, or keyword</li> <li>Analyze historical reliability with incident trends</li> </ul>"},{"location":"USER_GUIDE/#who-should-use-this-guide","title":"Who Should Use This Guide?","text":"<p>This guide is for:</p> <ul> <li>DevOps Engineers managing F5 Cloud deployments</li> <li>Site Reliability Engineers monitoring service health</li> <li>System Administrators planning maintenance windows</li> <li>Development Teams checking pre-deployment status</li> <li>Support Teams troubleshooting service issues</li> </ul>"},{"location":"USER_GUIDE/#prerequisites","title":"Prerequisites","text":"<p>Before using this server, ensure you have:</p> <ul> <li>Claude Desktop installed and configured</li> <li>Node.js 18+ installed on your system</li> <li>Internet connectivity to access F5 Cloud status API</li> <li>Basic familiarity with Claude Desktop and MCP concepts</li> </ul>"},{"location":"USER_GUIDE/#getting-started","title":"Getting Started","text":""},{"location":"USER_GUIDE/#installation","title":"Installation","text":"<ol> <li> <p>Clone the repository: <pre><code>git clone https://github.com/robinmordasiewicz/www.f5cloudstatus.com.git\ncd www.f5cloudstatus.com\n</code></pre></p> </li> <li> <p>Install dependencies: <pre><code>npm install\n</code></pre></p> </li> <li> <p>Build the server: <pre><code>npm run build\n</code></pre></p> </li> </ol>"},{"location":"USER_GUIDE/#configuration","title":"Configuration","text":"<ol> <li> <p>Create environment configuration: <pre><code>cp .env.example .env\n</code></pre></p> </li> <li> <p>Edit <code>.env</code> with your preferences: <pre><code># API Configuration\nAPI_BASE_URL=https://www.f5cloudstatus.com/api/v2\nAPI_TIMEOUT=10000\n\n# Cache TTL (milliseconds)\nCACHE_TTL_STATUS=30000\nCACHE_TTL_COMPONENTS=60000\nCACHE_TTL_INCIDENTS=120000\nCACHE_TTL_MAINTENANCE=300000\n\n# Logging\nLOG_LEVEL=info\n</code></pre></p> </li> <li> <p>Configure Claude Desktop:</p> </li> </ol> <p>Open your Claude Desktop configuration file:    - macOS: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code>    - Windows: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code>    - Linux: <code>~/.config/Claude/claude_desktop_config.json</code></p> <p>Add the server configuration:    <pre><code>{\n  \"mcpServers\": {\n    \"f5-status\": {\n      \"command\": \"node\",\n      \"args\": [\n        \"/absolute/path/to/www.f5cloudstatus.com/dist/index.js\"\n      ]\n    }\n  }\n}\n</code></pre></p> <ol> <li> <p>Restart Claude Desktop to load the MCP server</p> </li> <li> <p>Verify connection:</p> </li> <li>Look for the \ud83d\udd0c MCP icon in Claude Desktop</li> <li>Confirm \"f5-status\" appears as a connected server</li> </ol>"},{"location":"USER_GUIDE/#first-query","title":"First Query","text":"<p>Try your first status query:</p> <pre><code>What is the current operational status of F5 Cloud services?\n</code></pre> <p>Claude will use the MCP server to fetch real-time status information and provide a summary.</p>"},{"location":"USER_GUIDE/#core-concepts","title":"Core Concepts","text":""},{"location":"USER_GUIDE/#components","title":"Components","text":"<p>Components are individual F5 Cloud services organized into groups:</p> <ul> <li>Distributed Cloud Services - Core platform services (API Gateway, Load Balancer, WAF, etc.)</li> <li>Edge PoPs - Geographic points of presence (North America, Europe, Asia Pacific, etc.)</li> <li>Bot Defense Services - Bot protection across multiple cloud providers</li> <li>Network Services - Proxy, routed, and transit carrier services</li> <li>Observability - Monitoring, metrics, logging, and alerting services</li> </ul> <p>Each component has: - Name - Human-readable service name - Status - Operational state (operational, degraded, major, critical) - Group - Category or geographic location - Description - Service purpose and details</p>"},{"location":"USER_GUIDE/#status-levels","title":"Status Levels","text":"<p>The server tracks four status levels:</p> Status Indicator Meaning Operational <code>none</code> (green) Service functioning normally Degraded <code>minor</code> (yellow) Partial functionality or performance issues Partial Outage <code>major</code> (orange) Significant service disruption Major Outage <code>critical</code> (red) Complete service unavailability"},{"location":"USER_GUIDE/#incidents","title":"Incidents","text":"<p>Incidents represent service disruptions with detailed tracking:</p> <ul> <li>Status - Investigation phase (investigating, identified, monitoring, resolved, postmortem)</li> <li>Impact - Severity level (none, minor, major, critical)</li> <li>Affected Components - Services impacted by the incident</li> <li>Updates - Chronological status updates from F5 engineers</li> <li>Timeline - Creation, update, and resolution timestamps</li> </ul>"},{"location":"USER_GUIDE/#maintenance-windows","title":"Maintenance Windows","text":"<p>Maintenance windows are planned service updates:</p> <ul> <li>Scheduled - Future planned maintenance</li> <li>In Progress - Active maintenance currently underway</li> <li>Verifying - Maintenance complete, verification in progress</li> <li>Completed - Maintenance finished successfully</li> </ul>"},{"location":"USER_GUIDE/#caching","title":"Caching","text":"<p>The server implements intelligent caching to minimize API calls:</p> <ul> <li>Overall Status - 30 seconds TTL</li> <li>Components - 60 seconds TTL</li> <li>Incidents - 2 minutes TTL</li> <li>Maintenance - 5 minutes TTL</li> </ul> <p>First queries may be slower as data is fetched. Subsequent queries within the TTL window return cached results instantly.</p>"},{"location":"USER_GUIDE/#available-tools","title":"Available Tools","text":"<p>The MCP server provides six tools for monitoring F5 Cloud status:</p>"},{"location":"USER_GUIDE/#1-f5-status-get-overall","title":"1. f5-status-get-overall","text":"<p>Get overall service status</p> <p>Purpose: Quick health check of the entire F5 Cloud platform</p> <p>Parameters: None</p> <p>Example Query: <pre><code>What's the current status of F5 Cloud services?\n</code></pre></p> <p>Response: <pre><code>{\n  \"status\": \"operational\",\n  \"indicator\": \"none\",\n  \"description\": \"All Systems Operational\",\n  \"lastUpdated\": \"2025-10-08T16:30:00Z\",\n  \"isOperational\": true\n}\n</code></pre></p> <p>Use Cases: - Daily status checks - Dashboard health indicators - Pre-deployment validation - Monitoring automation</p>"},{"location":"USER_GUIDE/#2-f5-status-get-components","title":"2. f5-status-get-components","text":"<p>List all service components with status</p> <p>Purpose: View detailed status across all F5 Cloud components</p> <p>Parameters: - <code>status</code> (optional) - Filter by status: <code>none</code>, <code>minor</code>, <code>major</code>, <code>critical</code> - <code>group</code> (optional) - Filter by group name</p> <p>Example Queries: <pre><code>Show me all F5 Cloud components\nList degraded F5 services\nShow components in the Distributed Cloud Services group\n</code></pre></p> <p>Response: <pre><code>{\n  \"components\": [\n    {\n      \"id\": \"abc123\",\n      \"name\": \"API Gateway\",\n      \"status\": \"none\",\n      \"group\": \"Distributed Cloud Services\",\n      \"description\": \"API Gateway service\"\n    }\n  ],\n  \"groups\": [\n    {\n      \"name\": \"Distributed Cloud Services\",\n      \"componentCount\": 45\n    }\n  ],\n  \"summary\": {\n    \"total\": 154,\n    \"operational\": 153,\n    \"degraded\": 1\n  }\n}\n</code></pre></p> <p>Use Cases: - Service inventory - Health monitoring dashboards - Identifying degraded services - Group-based status views</p>"},{"location":"USER_GUIDE/#3-f5-status-get-component","title":"3. f5-status-get-component","text":"<p>Get specific component details</p> <p>Purpose: Deep dive into a single service component</p> <p>Parameters: - <code>id</code> (optional) - Component ID - <code>name</code> (optional) - Component name</p> <p>Note: Either <code>id</code> or <code>name</code> must be provided</p> <p>Example Queries: <pre><code>What's the status of the API Gateway?\nShow me details for component abc123\nCheck the Load Balancer service status\n</code></pre></p> <p>Response: <pre><code>{\n  \"id\": \"abc123\",\n  \"name\": \"API Gateway\",\n  \"status\": \"none\",\n  \"group\": \"Distributed Cloud Services\",\n  \"description\": \"API Gateway service\",\n  \"position\": 5,\n  \"isOperational\": true\n}\n</code></pre></p> <p>Use Cases: - Component-specific monitoring - Troubleshooting specific services - Pre-deployment component checks - Service detail investigation</p>"},{"location":"USER_GUIDE/#4-f5-status-get-incidents","title":"4. f5-status-get-incidents","text":"<p>List recent service incidents</p> <p>Purpose: Track active and historical service disruptions</p> <p>Parameters: - <code>status</code> (optional) - Filter by status: <code>investigating</code>, <code>identified</code>, <code>monitoring</code>, <code>resolved</code>, <code>postmortem</code> - <code>impact</code> (optional) - Filter by impact: <code>none</code>, <code>minor</code>, <code>major</code>, <code>critical</code> - <code>days</code> (optional) - Days to look back (1-90, default: 7) - <code>unresolved_only</code> (optional) - Show only active incidents (default: false)</p> <p>Example Queries: <pre><code>Are there any active incidents?\nShow incidents from the past 30 days\nList critical incidents only\nWhat incidents are currently being monitored?\n</code></pre></p> <p>Response: <pre><code>{\n  \"incidents\": [\n    {\n      \"id\": \"inc456\",\n      \"name\": \"API Gateway Timeout Issues\",\n      \"status\": \"monitoring\",\n      \"impact\": \"minor\",\n      \"createdAt\": \"2025-10-08T14:00:00Z\",\n      \"updatedAt\": \"2025-10-08T16:00:00Z\",\n      \"shortlink\": \"https://status.f5.com/incidents/456\",\n      \"affectedComponents\": [\"abc123\"],\n      \"latestUpdate\": {\n        \"status\": \"monitoring\",\n        \"body\": \"Issue resolved, monitoring for stability\",\n        \"timestamp\": \"2025-10-08T16:00:00Z\"\n      }\n    }\n  ],\n  \"summary\": {\n    \"total\": 5,\n    \"unresolved\": 1,\n    \"critical\": 0,\n    \"major\": 0\n  }\n}\n</code></pre></p> <p>Use Cases: - Incident response - Root cause analysis - Reliability tracking - Historical incident review - Impact assessment</p>"},{"location":"USER_GUIDE/#5-f5-status-get-maintenance","title":"5. f5-status-get-maintenance","text":"<p>View scheduled maintenance windows</p> <p>Purpose: Plan deployments around scheduled maintenance</p> <p>Parameters: - <code>status</code> (optional) - Filter by status: <code>scheduled</code>, <code>in_progress</code>, <code>verifying</code>, <code>completed</code> - <code>active_only</code> (optional) - Show only active maintenance (default: false) - <code>upcoming_only</code> (optional) - Show only future maintenance (default: false)</p> <p>Example Queries: <pre><code>Are there any upcoming maintenance windows?\nIs maintenance happening now?\nShow scheduled maintenance for next week\n</code></pre></p> <p>Response: <pre><code>{\n  \"maintenances\": [\n    {\n      \"id\": \"maint789\",\n      \"name\": \"Database Infrastructure Upgrade\",\n      \"status\": \"scheduled\",\n      \"impact\": \"minor\",\n      \"scheduledFor\": \"2025-10-09T02:00:00Z\",\n      \"scheduledUntil\": \"2025-10-09T04:00:00Z\",\n      \"shortlink\": \"https://status.f5.com/maintenance/789\",\n      \"affectedComponents\": [\"data-plane-123\"],\n      \"latestUpdate\": {\n        \"status\": \"scheduled\",\n        \"body\": \"Scheduled database maintenance\",\n        \"timestamp\": \"2025-10-08T10:00:00Z\"\n      }\n    }\n  ],\n  \"summary\": {\n    \"total\": 2,\n    \"active\": 0,\n    \"upcoming\": 2\n  }\n}\n</code></pre></p> <p>Use Cases: - Deployment planning - Change management - Maintenance coordination - Service window awareness - Impact mitigation</p>"},{"location":"USER_GUIDE/#6-f5-status-search","title":"6. f5-status-search","text":"<p>Search across all status information</p> <p>Purpose: Find components, incidents, or maintenance by keyword</p> <p>Parameters: - <code>query</code> (required) - Search term or pattern - <code>type</code> (optional) - Search scope: <code>components</code>, <code>incidents</code>, <code>maintenance</code>, <code>all</code> (default: <code>all</code>)</p> <p>Example Queries: <pre><code>Search for anything related to \"API Gateway\"\nFind incidents mentioning \"timeout\"\nSearch components for \"observability\"\n</code></pre></p> <p>Response: <pre><code>{\n  \"query\": \"api gateway\",\n  \"type\": \"all\",\n  \"results\": {\n    \"components\": [\n      {\n        \"id\": \"abc123\",\n        \"name\": \"API Gateway\",\n        \"status\": \"none\",\n        \"group\": \"Distributed Cloud Services\"\n      }\n    ],\n    \"incidents\": [\n      {\n        \"id\": \"inc456\",\n        \"name\": \"API Gateway Timeout Issues\",\n        \"status\": \"resolved\"\n      }\n    ],\n    \"maintenances\": []\n  },\n  \"summary\": {\n    \"components\": 1,\n    \"incidents\": 1,\n    \"maintenances\": 0,\n    \"total\": 2\n  }\n}\n</code></pre></p> <p>Use Cases: - Quick keyword searches - Component discovery - Related incident finding - Cross-domain investigation - Information discovery</p>"},{"location":"USER_GUIDE/#common-workflows","title":"Common Workflows","text":""},{"location":"USER_GUIDE/#workflow-1-daily-status-check","title":"Workflow 1: Daily Status Check","text":"<p>Goal: Get a comprehensive daily status report</p> <p>Steps:</p> <ol> <li> <p>Check overall status: <pre><code>What's the overall F5 Cloud status?\n</code></pre></p> </li> <li> <p>Identify any issues: <pre><code>Are there any degraded components?\n</code></pre></p> </li> <li> <p>Review active incidents: <pre><code>Show me any unresolved incidents\n</code></pre></p> </li> <li> <p>Check upcoming maintenance: <pre><code>Any scheduled maintenance this week?\n</code></pre></p> </li> </ol> <p>Expected Outcome: Complete visibility into current service health, active issues, and planned maintenance.</p>"},{"location":"USER_GUIDE/#workflow-2-pre-deployment-check","title":"Workflow 2: Pre-Deployment Check","text":"<p>Goal: Validate F5 Cloud readiness before deploying</p> <p>Steps:</p> <ol> <li> <p>Verify critical services: <pre><code>Check status of API Gateway, Load Balancer, and WAF\n</code></pre></p> </li> <li> <p>Look for active incidents: <pre><code>Are there any major or critical incidents right now?\n</code></pre></p> </li> <li> <p>Check maintenance windows: <pre><code>Is there any maintenance in the next 12 hours?\n</code></pre></p> </li> <li> <p>Regional verification: <pre><code>Show status of North America Edge PoPs\n</code></pre></p> </li> </ol> <p>Expected Outcome: Confidence that F5 Cloud infrastructure is stable for deployment.</p>"},{"location":"USER_GUIDE/#workflow-3-incident-investigation","title":"Workflow 3: Incident Investigation","text":"<p>Goal: Understand and troubleshoot a service issue</p> <p>Steps:</p> <ol> <li> <p>Identify affected component: <pre><code>What's the status of [service name]?\n</code></pre></p> </li> <li> <p>Find related incidents: <pre><code>Search for incidents affecting [service name]\n</code></pre></p> </li> <li> <p>Review incident timeline: <pre><code>Show details for incident [ID]\n</code></pre></p> </li> <li> <p>Check historical patterns: <pre><code>Show incidents from the past 30 days for [service]\n</code></pre></p> </li> </ol> <p>Expected Outcome: Complete understanding of the incident timeline, impact, and resolution status.</p>"},{"location":"USER_GUIDE/#workflow-4-reliability-analysis","title":"Workflow 4: Reliability Analysis","text":"<p>Goal: Assess service reliability over time</p> <p>Steps:</p> <ol> <li> <p>Review incident history: <pre><code>Show all incidents from the past 90 days\n</code></pre></p> </li> <li> <p>Analyze by impact: <pre><code>How many critical incidents occurred?\n</code></pre></p> </li> <li> <p>Identify patterns: <pre><code>Which components had the most incidents?\n</code></pre></p> </li> <li> <p>Calculate availability: <pre><code>What's the overall uptime trend?\n</code></pre></p> </li> </ol> <p>Expected Outcome: Data-driven reliability assessment and trend identification.</p>"},{"location":"USER_GUIDE/#workflow-5-maintenance-planning","title":"Workflow 5: Maintenance Planning","text":"<p>Goal: Plan deployments around maintenance windows</p> <p>Steps:</p> <ol> <li> <p>List upcoming maintenance: <pre><code>Show all scheduled maintenance\n</code></pre></p> </li> <li> <p>Check affected services: <pre><code>What components are affected by maintenance [ID]?\n</code></pre></p> </li> <li> <p>Assess impact: <pre><code>What's the expected impact of upcoming maintenance?\n</code></pre></p> </li> <li> <p>Find safe deployment windows: <pre><code>When is the next maintenance-free period?\n</code></pre></p> </li> </ol> <p>Expected Outcome: Optimized deployment schedule avoiding maintenance windows.</p>"},{"location":"USER_GUIDE/#advanced-usage","title":"Advanced Usage","text":""},{"location":"USER_GUIDE/#multi-tool-queries","title":"Multi-Tool Queries","text":"<p>Claude can intelligently combine multiple tools to answer complex questions:</p> <p>Example 1: Comprehensive Status Report <pre><code>Give me a complete status report including current health, active incidents,\nand upcoming maintenance\n</code></pre></p> <p>Claude will: 1. Call <code>f5-status-get-overall</code> for overall status 2. Call <code>f5-status-get-incidents</code> with <code>unresolved_only: true</code> 3. Call <code>f5-status-get-maintenance</code> with <code>upcoming_only: true</code> 4. Synthesize results into a comprehensive report</p> <p>Example 2: Service-Specific Deep Dive <pre><code>Tell me everything about the API Gateway - current status, recent incidents,\nand any scheduled maintenance\n</code></pre></p> <p>Claude will: 1. Call <code>f5-status-search</code> with query \"API Gateway\" 2. Call <code>f5-status-get-component</code> for detailed status 3. Call <code>f5-status-get-incidents</code> filtered for API Gateway 4. Combine results for complete service overview</p>"},{"location":"USER_GUIDE/#time-based-filtering","title":"Time-Based Filtering","text":"<p>Use natural language for time-based queries:</p> <pre><code>Show incidents from the last 24 hours\nList maintenance scheduled for next week\nWhat happened in the past hour?\nAny issues in the last 7 days?\n</code></pre>"},{"location":"USER_GUIDE/#impact-based-filtering","title":"Impact-Based Filtering","text":"<p>Filter by severity or impact:</p> <pre><code>Only show critical incidents\nList minor service degradations\nAre there any major outages?\nShow high-impact maintenance windows\n</code></pre>"},{"location":"USER_GUIDE/#pattern-matching","title":"Pattern Matching","text":"<p>Use search patterns for flexible queries:</p> <pre><code>Find anything related to \"observability\"\nSearch for components with \"gateway\" in the name\nLook for incidents mentioning \"timeout\"\n</code></pre>"},{"location":"USER_GUIDE/#regional-queries","title":"Regional Queries","text":"<p>Focus on specific geographic regions:</p> <pre><code>Status of all North America PoPs\nShow European edge locations\nCheck Asia Pacific components\n</code></pre>"},{"location":"USER_GUIDE/#comparative-analysis","title":"Comparative Analysis","text":"<p>Compare across time periods:</p> <pre><code>Compare incidents this month vs last month\nIs reliability improving or declining?\nHow does this week compare to last week?\n</code></pre>"},{"location":"USER_GUIDE/#troubleshooting","title":"Troubleshooting","text":""},{"location":"USER_GUIDE/#server-not-connecting","title":"Server Not Connecting","text":"<p>Symptoms: - \ud83d\udd0c MCP icon doesn't show \"f5-status\" as connected - Error messages in Claude Desktop</p> <p>Solutions:</p> <ol> <li> <p>Verify build: <pre><code>npm run build\n</code></pre></p> </li> <li> <p>Check path in config:</p> </li> <li>Ensure absolute path is correct</li> <li> <p>No trailing slashes or spaces</p> </li> <li> <p>Restart Claude Desktop:</p> </li> <li> <p>Completely quit and relaunch</p> </li> <li> <p>Check logs:</p> </li> <li>Set <code>LOG_LEVEL=debug</code> in <code>.env</code></li> <li>Review Claude Desktop logs</li> </ol>"},{"location":"USER_GUIDE/#no-data-returned","title":"No Data Returned","text":"<p>Symptoms: - Queries timeout or return empty results - \"Service unavailable\" messages</p> <p>Solutions:</p> <ol> <li> <p>Verify network connectivity: <pre><code>curl https://www.f5cloudstatus.com/api/v2/status.json\n</code></pre></p> </li> <li> <p>Check API availability:</p> </li> <li>Visit https://www.f5cloudstatus.com in browser</li> <li> <p>Confirm website is accessible</p> </li> <li> <p>Clear cache:</p> </li> <li>Restart the MCP server</li> <li> <p>Cache will refresh on next query</p> </li> <li> <p>Check fallback scraper:</p> </li> <li>Install Playwright browsers: <code>npx playwright install chromium</code></li> <li>Set <code>SCRAPER_HEADLESS=true</code> in <code>.env</code></li> </ol>"},{"location":"USER_GUIDE/#slow-performance","title":"Slow Performance","text":"<p>Symptoms: - First query takes several seconds - Subsequent queries are fast</p> <p>Solutions:</p> <ol> <li>This is normal behavior:</li> <li>Initial data fetch populates cache</li> <li> <p>Subsequent queries use cached data</p> </li> <li> <p>Adjust cache TTL: <pre><code># Increase cache duration in .env\nCACHE_TTL_COMPONENTS=300000  # 5 minutes\n</code></pre></p> </li> <li> <p>Check network latency:</p> </li> <li>Test API response time directly</li> <li>Consider network conditions</li> </ol>"},{"location":"USER_GUIDE/#error-messages","title":"Error Messages","text":"<p>Common errors and solutions:</p> Error Cause Solution \"Either id or name must be provided\" Missing required parameter Provide component ID or name \"Component not found\" Invalid component identifier Verify component name/ID \"API request failed\" API unavailable Server will fallback to scraper \"Invalid status filter\" Wrong status value Use: none, minor, major, critical \"Invalid date range\" Days parameter out of range Use 1-90 for days parameter"},{"location":"USER_GUIDE/#best-practices","title":"Best Practices","text":""},{"location":"USER_GUIDE/#query-optimization","title":"Query Optimization","text":"<p>\u2705 Do: - Be specific in your queries - Use natural language - Combine related questions - Leverage time-based filters</p> <p>\u274c Don't: - Over-query (respect cache TTL) - Use ambiguous terms - Request unnecessary data</p>"},{"location":"USER_GUIDE/#deployment-planning","title":"Deployment Planning","text":"<p>\u2705 Do: - Check status before every deployment - Review upcoming maintenance windows - Verify critical component health - Monitor during deployment</p> <p>\u274c Don't: - Deploy during active incidents - Ignore maintenance schedules - Skip pre-deployment checks - Assume status without verification</p>"},{"location":"USER_GUIDE/#incident-response","title":"Incident Response","text":"<p>\u2705 Do: - Check for active incidents first - Review incident timeline - Identify affected components - Monitor resolution progress</p> <p>\u274c Don't: - Panic without verification - Ignore minor incidents - Skip incident history review - Miss related component issues</p>"},{"location":"USER_GUIDE/#monitoring-strategies","title":"Monitoring Strategies","text":"<p>\u2705 Do: - Establish daily status checks - Track reliability trends - Monitor component groups - Document incident patterns</p> <p>\u274c Don't: - Rely on memory alone - Ignore degradation warnings - Skip historical analysis - Overlook minor issues</p>"},{"location":"USER_GUIDE/#security-considerations","title":"Security Considerations","text":"<p>\u2705 Do: - Use official API endpoints - Keep server updated - Protect configuration files - Use HTTPS for all requests</p> <p>\u274c Don't: - Modify API endpoints - Share credentials - Expose configuration - Bypass SSL validation</p>"},{"location":"USER_GUIDE/#quick-reference","title":"Quick Reference","text":""},{"location":"USER_GUIDE/#common-query-patterns","title":"Common Query Patterns","text":"Task Example Query Overall Status \"What's the current F5 Cloud status?\" Component Status \"Check the API Gateway status\" List Components \"Show all F5 Cloud components\" Find Issues \"Are there any degraded services?\" Active Incidents \"Show active incidents\" Incident History \"List incidents from the past 30 days\" Upcoming Maintenance \"Any scheduled maintenance?\" Active Maintenance \"Is maintenance happening now?\" Search \"Search for 'observability' issues\" Regional Status \"Status of North America PoPs\""},{"location":"USER_GUIDE/#tool-quick-reference","title":"Tool Quick Reference","text":"Tool Purpose Key Parameters <code>get-overall</code> System health None <code>get-components</code> List services status, group <code>get-component</code> Service details id or name <code>get-incidents</code> Track issues status, impact, days <code>get-maintenance</code> Plan windows status, active_only <code>search</code> Find information query, type"},{"location":"USER_GUIDE/#status-reference","title":"Status Reference","text":"Level Indicator Color Meaning Operational none \ud83d\udfe2 Green Normal operation Degraded minor \ud83d\udfe1 Yellow Partial issues Partial Outage major \ud83d\udfe0 Orange Significant disruption Major Outage critical \ud83d\udd34 Red Complete unavailability"},{"location":"USER_GUIDE/#support","title":"Support","text":""},{"location":"USER_GUIDE/#getting-help","title":"Getting Help","text":"<p>Documentation: - Home - Installation and overview - QUICKSTART.md - 5-minute setup guide - USAGE_EXAMPLES.md - 14 detailed examples - ARCHITECTURE.md - Technical architecture - DEVELOPERS.md - Development setup and contribution guide</p> <p>Community: - GitHub Issues: https://github.com/robinmordasiewicz/www.f5cloudstatus.com/issues - Bug Reports: Use GitHub issue tracker - Feature Requests: Submit via GitHub</p> <p>Troubleshooting: - Enable debug logging: <code>LOG_LEVEL=debug</code> - Check Claude Desktop logs - Review server build output - Test API connectivity</p>"},{"location":"USER_GUIDE/#contributing","title":"Contributing","text":"<p>Contributions are welcome! Please: 1. Ensure all tests pass: <code>npm test</code> 2. Format code: <code>npm run format</code> 3. Lint code: <code>npm run lint</code> 4. Maintain coverage: 70% minimum</p>"},{"location":"USER_GUIDE/#appendix","title":"Appendix","text":""},{"location":"USER_GUIDE/#environment-variables-reference","title":"Environment Variables Reference","text":"Variable Default Description <code>API_BASE_URL</code> https://www.f5cloudstatus.com/api/v2 API endpoint <code>API_TIMEOUT</code> 10000 API request timeout (ms) <code>API_RETRY_ATTEMPTS</code> 3 API retry count <code>API_RETRY_DELAY</code> 1000 Retry delay (ms) <code>SCRAPER_BASE_URL</code> https://www.f5cloudstatus.com Scraper URL <code>SCRAPER_TIMEOUT</code> 30000 Scraper timeout (ms) <code>SCRAPER_HEADLESS</code> true Headless browser mode <code>CACHE_TTL_STATUS</code> 30000 Status cache TTL (ms) <code>CACHE_TTL_COMPONENTS</code> 60000 Components cache TTL (ms) <code>CACHE_TTL_INCIDENTS</code> 120000 Incidents cache TTL (ms) <code>CACHE_TTL_MAINTENANCE</code> 300000 Maintenance cache TTL (ms) <code>LOG_LEVEL</code> info Logging level"},{"location":"USER_GUIDE/#claude-desktop-configuration-reference","title":"Claude Desktop Configuration Reference","text":"<p>macOS: <pre><code>{\n  \"mcpServers\": {\n    \"f5-status\": {\n      \"command\": \"node\",\n      \"args\": [\n        \"/Users/username/www.f5cloudstatus.com/dist/index.js\"\n      ]\n    }\n  }\n}\n</code></pre></p> <p>Windows: <pre><code>{\n  \"mcpServers\": {\n    \"f5-status\": {\n      \"command\": \"node\",\n      \"args\": [\n        \"C:\\\\Users\\\\username\\\\www.f5cloudstatus.com\\\\dist\\\\index.js\"\n      ]\n    }\n  }\n}\n</code></pre></p> <p>Linux: <pre><code>{\n  \"mcpServers\": {\n    \"f5-status\": {\n      \"command\": \"node\",\n      \"args\": [\n        \"/home/username/www.f5cloudstatus.com/dist/index.js\"\n      ]\n    }\n  }\n}\n</code></pre></p>"},{"location":"USER_GUIDE/#component-groups-reference","title":"Component Groups Reference","text":"<p>Distributed Cloud Services (45+ components): - API Gateway, Load Balancer, WAF, VPN Gateway - DNS Services, Bot Defense, Client-Side Defense - App Stack, Secure Mesh, Account Protection - Observability (Metrics, Logs, Traces, Dashboard, Alerts)</p> <p>North America Edge PoPs (14 locations): - Ashburn VA, New York NY, San Jose CA, Seattle WA - Dallas TX, Toronto Canada, Montreal Canada - Atlanta GA, Miami FL, Chicago IL</p> <p>Europe/Middle East Edge PoPs (11 locations): - Amsterdam, Frankfurt, London, Paris - Madrid, Lisbon, Stockholm, Dubai, Tel Aviv</p> <p>Asia Pacific Edge PoPs (9 locations): - Singapore, Sydney, Melbourne, Tokyo - Osaka, Hong Kong, Mumbai, Chennai, Jakarta</p> <p>Network Services (29+ components): - Proxy Services (US West, US East, UK, Germany, Asia) - Routed Services (Multiple regions) - Transit Carrier Services - Regional PoPs (Bahrain, Hong Kong, Montreal, Mumbai, Ohio, S\u00e3o Paulo, Sydney, Tokyo)</p> <p>Bot Defense Services (56 locations): - AWS regions, GCP regions, Azure regions - Distributed Cloud Protection Manager (US, EU, CA) - SAFE deployments</p> <p>Version: 1.0.0 Last Updated: October 2025 License: MIT</p>"},{"location":"VALIDATION_RESULTS/","title":"Cleanup Validation Results","text":"<p>Date: October 9, 2025 Status: \u2705 All tests passed</p>"},{"location":"VALIDATION_RESULTS/#test-results-summary","title":"Test Results Summary","text":""},{"location":"VALIDATION_RESULTS/#1-husky-installation","title":"\u2705 1. Husky Installation","text":"<p>Command: <code>npm install</code> Result: SUCCESS <pre><code>added 1 package, and audited 547 packages in 2s\n99 packages are looking for funding\nfound 0 vulnerabilities\n</code></pre></p> <p>Prepare Script Auto-Executed: <pre><code>&gt; f5xc-cloudstatus-mcp@1.1.0 prepare\n&gt; node scripts/sync-manifest.js\n\n\u2705 Synced manifest.json from package.json:\n   - version: 1.1.0\n   - name: f5xc-cloudstatus-mcp\n   - description: MCP server for F5 Cloud Status monitoring with fully automated CI/CD\n   - license: MIT\n</code></pre></p> <p>Hook Status: \u2705 Pre-commit hook installed at <code>.husky/pre-commit</code></p>"},{"location":"VALIDATION_RESULTS/#2-eslint-configuration","title":"\u2705 2. ESLint Configuration","text":"<p>Command: <code>npm run lint</code> Result: PASS - Zero errors, zero warnings <pre><code>&gt; f5xc-cloudstatus-mcp@1.1.0 lint\n&gt; eslint src/**/*.ts\n\n(No output - clean)\n</code></pre></p> <p>Before Fix: 4 warnings for <code>any</code> types After Fix: 0 warnings Changes: Replaced <code>any</code> with <code>Element</code> type in web-scraper.ts (lines 122, 143, 224, 235)</p>"},{"location":"VALIDATION_RESULTS/#3-prettier-configuration","title":"\u2705 3. Prettier Configuration","text":"<p>Command: <code>npm run format</code> Result: SUCCESS - 12 files formatted <pre><code>src/cache/cache-service.ts 32ms\nsrc/data-access/api-client.ts 9ms\nsrc/data-access/data-access-layer.ts 6ms\nsrc/data-access/web-scraper.ts 12ms\nsrc/server/mcp-server.ts 4ms\nsrc/services/component-service.ts 5ms\nsrc/services/incident-service.ts 6ms\nsrc/services/status-service.ts 2ms\nsrc/tools/tool-definitions.ts 4ms\nsrc/types/domain.ts 2ms\nsrc/utils/config.ts 3ms\nsrc/utils/errors.ts 3ms\n</code></pre></p> <p>Format Check: <code>npm run format:check</code> - All files now pass</p>"},{"location":"VALIDATION_RESULTS/#4-manifest-sync-script","title":"\u2705 4. Manifest Sync Script","text":"<p>Command: <code>npm run sync:manifest</code> Result: SUCCESS <pre><code>&gt; f5xc-cloudstatus-mcp@1.1.0 sync:manifest\n&gt; node scripts/sync-manifest.js\n\n\u2705 Synced manifest.json from package.json:\n   - version: 1.1.0\n   - name: f5xc-cloudstatus-mcp\n   - description: MCP server for F5 Cloud Status monitoring with fully automated CI/CD\n   - license: MIT\n</code></pre></p> <p>Auto-Execution: \u2705 Runs via <code>prepare</code> script on <code>npm install</code> Manual Trigger: \u2705 Available via <code>npm run sync:manifest</code></p>"},{"location":"VALIDATION_RESULTS/#5-pre-commit-hook-validation","title":"\u2705 5. Pre-Commit Hook Validation","text":"<p>Hook Location: <code>.husky/pre-commit</code> Hook Actions: 1. \u2705 Sync manifest.json 2. \u2705 Run ESLint 3. \u2705 Check Prettier formatting 4. \u2705 Stage manifest.json if updated</p> <p>Updated to Husky v9 Format: Removed deprecated shebang and source lines</p>"},{"location":"VALIDATION_RESULTS/#6-documentation-consolidation","title":"\u2705 6. Documentation Consolidation","text":"<p>Action: Removed redundant MCPB documentation</p> <p>Files Deleted: - <code>docs/README_SUMMARY.md</code> (363 lines - redundant with MCPB_PUBLISHING.md) - <code>docs/SETUP_GUIDE.md</code> (237 lines - content consolidated into MCPB_PUBLISHING.md)</p> <p>Current MCPB Documentation: - Primary: <code>docs/MCPB_PUBLISHING.md</code> (198 lines, comprehensive) - User Guide: <code>docs/QUICKSTART.md</code> (NPM installation focus)</p> <p>Benefit: Eliminated 600 lines of redundant documentation, reduced maintenance burden</p>"},{"location":"VALIDATION_RESULTS/#configuration-files-created","title":"Configuration Files Created","text":"File Purpose Status <code>eslint.config.js</code> ESLint v9 flat config \u2705 Working <code>.prettierrc</code> Code formatting rules \u2705 Working <code>scripts/sync-manifest.js</code> Manifest automation \u2705 Working <code>.husky/pre-commit</code> Quality gate hook \u2705 Configured <code>.husky/_/husky.sh</code> Husky runner \u2705 Configured"},{"location":"VALIDATION_RESULTS/#packagejson-modifications","title":"package.json Modifications","text":""},{"location":"VALIDATION_RESULTS/#new-scripts-added","title":"New Scripts Added","text":"<pre><code>{\n  \"format:check\": \"prettier --check src/**/*.ts\",\n  \"sync:manifest\": \"node scripts/sync-manifest.js\",\n  \"prepare\": \"node scripts/sync-manifest.js\"\n}\n</code></pre>"},{"location":"VALIDATION_RESULTS/#new-devdependency","title":"New DevDependency","text":"<pre><code>{\n  \"husky\": \"^9.0.0\"\n}\n</code></pre>"},{"location":"VALIDATION_RESULTS/#code-quality-improvements","title":"Code Quality Improvements","text":""},{"location":"VALIDATION_RESULTS/#before","title":"Before","text":"<ul> <li>\u274c ESLint failed on every run</li> <li>\u274c 4 ESLint warnings (<code>any</code> types)</li> <li>\u274c 12 files with formatting inconsistencies</li> <li>\u274c No pre-commit quality enforcement</li> <li>\u26a0\ufe0f Manual manifest version sync required</li> </ul>"},{"location":"VALIDATION_RESULTS/#after","title":"After","text":"<ul> <li>\u2705 ESLint passes with zero warnings</li> <li>\u2705 All TypeScript files properly typed</li> <li>\u2705 All files follow consistent formatting</li> <li>\u2705 Automatic pre-commit quality checks</li> <li>\u2705 Automatic manifest synchronization</li> </ul>"},{"location":"VALIDATION_RESULTS/#performance-impact","title":"Performance Impact","text":""},{"location":"VALIDATION_RESULTS/#build-times","title":"Build Times","text":"<ul> <li>ESLint scan: ~1 second</li> <li>Prettier format: ~100ms total</li> <li>Manifest sync: &lt;100ms</li> </ul>"},{"location":"VALIDATION_RESULTS/#pre-commit-hook","title":"Pre-Commit Hook","text":"<ul> <li>Total hook time: ~2-3 seconds</li> <li>Non-blocking for development workflow</li> <li>Can bypass with <code>--no-verify</code> if needed (emergencies only)</li> </ul>"},{"location":"VALIDATION_RESULTS/#developer-experience-improvements","title":"Developer Experience Improvements","text":""},{"location":"VALIDATION_RESULTS/#automated-workflows","title":"Automated Workflows","text":"<ol> <li>On <code>npm install</code>: Manifest auto-syncs via <code>prepare</code> script</li> <li>On commit: Pre-commit hook runs lint, format check, and manifest sync</li> <li>On demand: Manual scripts available for all operations</li> </ol>"},{"location":"VALIDATION_RESULTS/#quality-guarantees","title":"Quality Guarantees","text":"<ul> <li>\u2705 Code cannot be committed without passing ESLint</li> <li>\u2705 Code cannot be committed without proper formatting</li> <li>\u2705 Manifest always stays in sync with package.json</li> <li>\u2705 Git history remains clean with consistent code style</li> </ul>"},{"location":"VALIDATION_RESULTS/#verification-checklist","title":"Verification Checklist","text":"<ul> <li>[x] ESLint configuration working</li> <li>[x] Prettier configuration working</li> <li>[x] Manifest sync working (manual)</li> <li>[x] Manifest sync working (automatic via prepare)</li> <li>[x] Pre-commit hooks configured</li> <li>[x] All ESLint warnings resolved</li> <li>[x] All files properly formatted</li> <li>[x] Documentation consolidated</li> <li>[x] Archive directory created with README</li> <li>[x] No build errors</li> <li>[x] No test failures</li> <li>[x] Zero npm audit vulnerabilities</li> </ul>"},{"location":"VALIDATION_RESULTS/#next-developer-steps","title":"Next Developer Steps","text":"<p>When working with this codebase:</p> <pre><code># 1. Pull latest changes\ngit pull\n\n# 2. Install dependencies (triggers manifest sync)\nnpm install\n\n# 3. Make code changes\n# ... edit files ...\n\n# 4. Test your changes\nnpm run lint        # Check code quality\nnpm run format      # Auto-format code\nnpm run build       # Build TypeScript\nnpm test            # Run tests\n\n# 5. Commit (pre-commit hook runs automatically)\ngit add .\ngit commit -m \"Your message\"\n# Hook automatically:\n# - Syncs manifest.json\n# - Runs ESLint\n# - Checks Prettier formatting\n# - Stages manifest.json if changed\n\n# 6. Push\ngit push\n</code></pre>"},{"location":"VALIDATION_RESULTS/#success-metrics","title":"Success Metrics","text":"Metric Target Actual Status ESLint warnings 0 0 \u2705 ESLint errors 0 0 \u2705 Prettier violations 0 0 \u2705 Npm audit issues 0 0 \u2705 Build time impact &lt;5s ~3s \u2705 Hook execution time &lt;5s ~2s \u2705 Files formatted All 12/12 \u2705 Manifest sync accuracy 100% 100% \u2705"},{"location":"VALIDATION_RESULTS/#known-limitations","title":"Known Limitations","text":"<ol> <li>Husky v9 Warning: Deprecated hook format warning appears but hooks work correctly</li> <li> <p>Resolution: Update to Husky v10 when available</p> </li> <li> <p>Pre-commit bypass: Developers can use <code>--no-verify</code> to skip hooks</p> </li> <li> <p>Mitigation: CI/CD should enforce same checks</p> </li> <li> <p>Manual sync required: For manifest changes outside npm install</p> </li> <li>Mitigation: Pre-commit hook catches this</li> </ol>"},{"location":"VALIDATION_RESULTS/#recommended-next-steps-optional","title":"Recommended Next Steps (Optional)","text":"<ol> <li>Add lint-staged: Only lint changed files for faster commits</li> <li>Add commitlint: Enforce commit message conventions</li> <li>Add .prettierignore: Exclude specific files if needed</li> <li>Update CI/CD: Ensure pipeline runs same checks</li> <li>Team onboarding: Document new workflow for contributors</li> </ol> <p>Validated By: Claude Code with /sc:implement Validation Date: October 9, 2025 Overall Status: \u2705 Production Ready</p>"}]}